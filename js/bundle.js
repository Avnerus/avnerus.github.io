(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";module.exports=function(videoController){return new BrainController(videoController)};module.exports.BrainController=BrainController;var TWEEN=require("tween.js");var eventEmitter=require("./event_manager").getEmitter();var Vue=require("vue");var self;function BrainController(videoController){if(!(this instanceof BrainController))return new BrainController(videoController);this.videoController=videoController;this.works=[];console.log("Brain Controller started");self=this}BrainController.prototype.localize=function(name,object){console.log("GUI Localize object!",object);var folder=gui.addFolder(name);folder.add(object.position,"x",-250,self.opts.stageWidth);folder.add(object.position,"y",-250,self.opts.stageHeight);folder.add(object.scale,"x",0,2);folder.add(object.scale,"y",0,2);folder.open()};BrainController.prototype.init=function(opts,stage,ratio,renderer,workContainer,infoContainer,moneyContainer,navRow){console.log("Brain Controller initializing with opts",opts);this.stage=stage;this.ratio=ratio;this.opts=opts;this.workContainer=workContainer;this.infoContainer=infoContainer;this.moneyContainer=moneyContainer;this.navRow=navRow;this.bgContainer=new PIXI.DisplayObjectContainer;this.showingWork=false;this.showingInfo=false;this.showingMoney=false;this.renderer=renderer;stage.addChild(this.bgContainer);var bg=PIXI.Sprite.fromFrame("assets/brain/bg.jpg");this.bgContainer.addChild(bg);this.overlay=new PIXI.TilingSprite(PIXI.Texture.fromFrame("assets/brain/tile_neurons.png"),this.opts.stageWidth,this.opts.stageHeight/2);this.overlay.alpha=.4;this.overlay.tilePosition.y=-120;this.bgContainer.addChild(this.overlay);var displacementTexture=PIXI.Texture.fromFrame("assets/brain/displacement_map.png");this.displacementFilter=new PIXI.DisplacementFilter(displacementTexture);this.displacementFilter.scale.x=50;this.displacementFilter.scale.y=50;this.twistFilter=new PIXI.TwistFilter;this.twistFilter.angle=10;this.twistFilter.radius=.5;this.twistFilter.offset.x=.5;this.twistFilter.offset.y=.25;this.updateMaskbyVideoSize(1);this.maskUpdated=true;this.bgContainer.visible=true;this.bgContainer.filters=[this.twistFilter];this.counter=0;this.opts.util={localize:this.localize};this.initWorks();this.initMusic();this.loaded=true;var self=this;eventEmitter.on("work_clicked",function(work){self.workClicked(work)});eventEmitter.on("info_clicked",function(){self.infoClicked()});eventEmitter.on("money_clicked",function(){self.moneyClicked()});$(document).keyup(function(e){if(e.keyCode==27){if(self.showingWork){self.hideWork()}if(self.showingInfo){self.hideInfo()}if(self.showingMoney){self.hideMoney()}}})};BrainController.prototype.workClicked=function(work){console.log("Work clicked!",work);this.vm.$data=work.getData();this.vm.$data.currentIndex=0;$("#work-media").addClass("flexslider");var self=this;Vue.nextTick(function(){$(".magnify-image").magnificPopup({type:"image",closeOnContentClick:true})});this.currentWorkIndex=_.indexOf(this.works,work);window.location.hash="#"+work.hashURL;this.showWork()};BrainController.prototype.showWork=function(){this.workContainer.css("height","100%");this.workContainer.css("opacity",1);this.navRow.css("height","auto");this.showingWork=true};BrainController.prototype.hideWork=function(){this.workContainer.css("opacity",0);this.navRow.css("height","0px");this.showingWork=false;history.replaceState({},document.title,"/")};BrainController.prototype.nextWork=function(){console.log("NEXT WORK! Current Index",this.currentWorkIndex);this.currentWorkIndex++;if(this.currentWorkIndex>this.works.length-1){this.currentWorkIndex=0}this.resetSlider();this.workClicked(this.works[this.currentWorkIndex])};BrainController.prototype.resetSlider=function(){};BrainController.prototype.prevWork=function(){console.log("PREV WORK!");this.currentWorkIndex--;if(this.currentWorkIndex<0){this.currentWorkIndex=this.works.length-1}this.resetSlider();this.workClicked(this.works[this.currentWorkIndex])};BrainController.prototype.infoClicked=function(){console.log("Info clicked!");this.showInfo()};BrainController.prototype.moneyClicked=function(){console.log("Money clicked!");this.money.clicked();this.showMoney()};BrainController.prototype.showInfo=function(){this.infoContainer.css("height","620px");this.infoContainer.css("opacity",1);this.showingInfo=true};BrainController.prototype.showMoney=function(){this.moneyContainer.css("height","620px");this.moneyContainer.css("opacity",1);this.showingMoney=true};BrainController.prototype.hideInfo=function(){this.infoContainer.css("opacity",0);this.showingInfo=false};BrainController.prototype.hideMoney=function(){this.moneyContainer.css("opacity",0);this.showingMoney=false};BrainController.prototype.initWorks=function(){var self=this;this.vm=new Vue({el:"#main-container",data:{currentIndex:0,description:""},methods:{containerClick:function(e){console.log("BOO");if(e.target==e.currentTarget){self.hideWork()}},closeWork:function(e){self.hideWork()},closeInfo:function(e){self.hideInfo()},closeMoney:function(e){self.hideMoney()},prevWork:function(e){self.prevWork()},nextWork:function(e){self.nextWork()}}});$("#work-container").on($.support.transition.end,function(){if(self.workContainer.css("opacity")==0){self.workContainer.css("height","0px");self.resetSlider()}});$("#info-container").on($.support.transition.end,function(){if(self.infoContainer.css("opacity")==0){self.infoContainer.css("height","0px")}});$("#money-container").on($.support.transition.end,function(){if(self.moneyContainer.css("opacity")==0){self.moneyContainer.css("height","0px")}});this.info=require("./works/info")();this.info.init(this.opts,this.bgContainer);this.money=require("./works/money")();this.money.init(this.opts,this.bgContainer,$("#money-container"));this.workHashes={};this.works=[new(require("./works/pulse")),new(require("./works/gamad")),new(require("./works/train")),new(require("./works/koala")),new(require("./works/equala")),new(require("./works/peace")),new(require("./works/brain")),new(require("./works/security")),new(require("./works/wallsim")),new(require("./works/cantenna")),new(require("./works/japan")),new(require("./works/bass")),new(require("./works/biology")),new(require("./works/social_bonds")),new(require("./works/soft_robotics")),new(require("./works/stir")),new(require("./works/drone")),new(require("./works/playbot")),new(require("./works/tpv")),new(require("./works/tzina")),new(require("./works/freedom_cat")),new(require("./works/jewish_roots")),new(require("./works/moduland")),new(require("./works/marrow"))];for(var i=0;i<this.works.length;i++){var work=this.works[i];work.init(this.opts,this.bgContainer);this.workHashes[work.hashURL]=work}this.workHashes["money"]={};this.workHashes["info"]={}};BrainController.prototype.initMusic=function(){var speaker=new PIXI.Sprite.fromFrame("assets/brain/speaker.png");speaker.anchor.x=.5;speaker.anchor.y=.5;speaker.position.x=50;speaker.position.y=691;speaker.scale={x:.2,y:.2};speaker.buttonMode=true;speaker.setInteractive(true);speaker.visible=false;this.bgContainer.addChild(speaker);var nospeaker=new PIXI.Sprite.fromFrame("assets/brain/nospeaker.png");nospeaker.anchor.x=.5;nospeaker.anchor.y=.5;nospeaker.position.x=50;nospeaker.position.y=691;nospeaker.scale={x:.2,y:.2};nospeaker.buttonMode=true;nospeaker.setInteractive(true);nospeaker.visible=true;this.bgContainer.addChild(nospeaker);this.speaker=speaker;this.nospeaker=nospeaker;var kerokero=new PIXI.Sprite.fromFrame("assets/brain/kerokero.jpg");kerokero.anchor.x=.5;kerokero.anchor.y=.5;kerokero.position.x=120;kerokero.position.y=693;kerokero.scale={x:.35,y:.35};kerokero.buttonMode=true;kerokero.setInteractive(true);kerokero.visible=false;this.kerokero=kerokero;this.bgContainer.addChild(kerokero);this.speaker=speaker;this.nospeaker=nospeaker;var widgetIframe=document.getElementById("sc-widget");this.widget=SC.Widget(widgetIframe);this.soundsLength=15;var self=this;this.firstPlay=true;speaker.click=function(mouseData){self.widget.pause();self.speaker.visible=self.kerokero.visible=false;self.nospeaker.visible=true};nospeaker.click=function(mouseData){self.nospeaker.visible=false;self.speaker.visible=self.kerokero.visible=true;var index=MathUtil.rndIntRange(0,self.soundsLength-1);console.log("Skip index",index);if(self.firstPlay){self.firstPlay=false;self.widget.skip(index)}setTimeout(function(){self.widget.play()},0)};kerokero.click=function(mouseData){window.open("https://soundcloud.com/kerokerobonito","kerokerosc")}};BrainController.prototype.update=function(){if(this.loaded){this.setMaskByOffset();this.counter+=.1;this.overlay.tilePosition.x=this.counter*-3;this.works[7].update();this.works[8].update();this.works[23].update()}};BrainController.prototype.pageScroll=function(offset){if(!this.opts){return}if(offset>=this.opts.scrollHeight-window.innerHeight){this.spawnWork()}};BrainController.prototype.updateMaskbyVideoSize=function(multi){var width=Math.min(window.innerWidth,this.opts.stageWidth*multi*.7);this.renderer.view.style.width=width+"px";this.renderer.view.style.marginLeft=width/-2+"px";var height=Math.min(window.innerHeight,this.opts.stageHeight*multi*.7);this.renderer.view.style.height=height+"px"};BrainController.prototype.setMaskByOffset=function(){var offset=window.pageYOffset;var currentFrame=this.videoController.VIDEOS.enter.frames.current;var multi=this.videoController.zoomMultiplyer;if(multi>1){this.maskUpdated=true;this.updateMaskbyVideoSize(multi);this.setTwist(multi)}else if(this.maskUpdated){this.updateMaskbyVideoSize(1);this.setTwist(1);this.maskUpdated=false}if(multi<7){if(this.showingWork){this.hideWork()}if(this.showingInfo){this.hideInfo()}if(this.showingMoney){this.hideMoney()}}};BrainController.prototype.setTwist=function(multi){this.twistFilter.angle=Math.max(0,10-multi*2)};BrainController.prototype.spawnWork=function(){}},{"./event_manager":2,"./works/bass":5,"./works/biology":6,"./works/brain":7,"./works/cantenna":8,"./works/drone":9,"./works/equala":10,"./works/freedom_cat":11,"./works/gamad":12,"./works/info":13,"./works/japan":14,"./works/jewish_roots":15,"./works/koala":16,"./works/marrow":17,"./works/moduland":18,"./works/money":19,"./works/peace":20,"./works/playbot":21,"./works/pulse":22,"./works/security":23,"./works/social_bonds":24,"./works/soft_robotics":25,"./works/stir":26,"./works/tpv":27,"./works/train":28,"./works/tzina":29,"./works/wallsim":30,"tween.js":116,vue:143}],2:[function(require,module,exports){"use strict";var events=require("events");var eventEmitter=new events.EventEmitter;console.log("Events init");module.exports.getEmitter=function(){return eventEmitter}},{events:47}],3:[function(require,module,exports){var mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var msie=window.navigator.userAgent.indexOf("MSIE ")!=-1;console.log("Mobile",mobile,"MSIE ",msie);if(mobile||msie){window.onload=function(){$("#loading-container").hide();$("#supported-container").show()}}else{var gameOpts={stageWidth:1280,stageHeight:720,zoomHeight:2500};var VideoController=require("./video_controller");var videoContoller=new VideoController(gameOpts);var eventEmitter=require("./event_manager").getEmitter();window.onload=function(){window.scroll(0,0)};var TWEEN=require("tween.js");var BrainController=require("./brain_controller");var brainController=new BrainController(videoContoller);var stage=new PIXI.Stage(16777215,true);var renderer=new PIXI.autoDetectRenderer(gameOpts.stageWidth,gameOpts.stageHeight,null,true);var container=new PIXI.DisplayObjectContainer;var ratio={x:window.innerWidth/gameOpts.stageWidth,y:window.innerHeight/gameOpts.stageHeight};var wasScrolled=false;stage.addChild(container);window.onscroll=function(event){brainController.pageScroll(window.pageYOffset);if(window.pageYOffset>200&&!wasScrolled){wasScrolled=true;hideDownArrow()}};var videosLoaded=false;var assetsLoaded=false;eventEmitter.on("videos_loaded",function(){console.log("Videos loaded!");videosLoaded=true;if(assetsLoaded){start()}});var loader=new PIXI.AssetLoader(["assets/brain/bg.jpg","assets/brain/speaker.png","assets/brain/nospeaker.png","assets/brain/kerokero.jpg","assets/brain/tile_neurons.png","assets/brain/displacement_map.png","assets/works/pulse.png","assets/works/gamad.json","assets/works/gamad2.json","assets/works/train.png","assets/works/question_block.png","assets/works/Koala.json","assets/works/headphones.png","assets/works/lightning.png","assets/works/lightning_f.png","assets/works/dove.png","assets/works/face.png","assets/works/cog.png","assets/works/keyhole.png","assets/works/can.png","assets/works/tripod.png","assets/works/japan.png","assets/works/bass.png","assets/works/biology.png","assets/works/bacteria.png","assets/works/drone.png","assets/works/playbot.png","assets/works/black_hole.png","assets/works/tzina.json","assets/works/electrode.png","assets/works/facebook.png","assets/works/soft_robotics_1.png","assets/works/soft_robotics_2.png","assets/works/soft_robotics_3.png","assets/works/bed.png","assets/works/luckycat.json","assets/works/rutabaga.png","assets/works/moduland.png","assets/works/shadows.json"]);loader.onComplete=function(){assetsLoaded=true;console.log("Assets loaded!");gameOpts.scrollHeight=$("#main-container").height();if(videosLoaded){start()}else{videoContoller.loadVideos($("#video-container"),gameOpts.scrollHeight,$("#neutral-container"))}};loader.load()}function start(){$("#loading-container").hide();console.log("mobile",mobile,"msie",msie);brainController.init(gameOpts,container,ratio,renderer,$("#work-container"),$("#info-container"),$("#money-container"),$("#nav-row"));videoContoller.playWaiting();renderer.view.id="pixi-view";$("#pixi-container").append(renderer.view);setTimeout(showDownArrow,5e3);var FF=typeof window.mozInnerScreenX!="undefined";if(!FF){parentScrollFix()}var workHash=null;if(window.location.hash&&window.location.hash.length>0){workHash=window.location.hash.substring(1,window.location.hash.length);if(brainController.workHashes[workHash]){setTimeout(function(){$("html, body").animate({scrollTop:$(document).height()},{duration:1e3,specialEasing:{width:"linear",height:"easeInQuint"},complete:function(){if(workHash=="money"){brainController.moneyClicked()}else if(workHash=="info"){brainController.infoClicked()}else{brainController.workClicked(brainController.workHashes[workHash])}}})},1e3)}}requestAnimationFrame(animate)}function showDownArrow(){if(!wasScrolled){$("#arrow-container").css("opacity",1)}}function hideDownArrow(){console.log("Hide down arrow!");$("#arrow-container").hide()}function animate(){videoContoller.loop();brainController.update();renderer.render(stage);requestAnimationFrame(animate)}function parentScrollFix(){$(".scrollable").on("DOMMouseScroll mousewheel",function(ev){var $this=$(this),scrollTop=this.scrollTop,scrollHeight=this.scrollHeight,height=$this.height(),delta=ev.originalEvent.wheelDelta,up=delta>0;var prevent=function(){ev.stopPropagation();ev.preventDefault();ev.returnValue=false;return false};if(!up&&-delta>scrollHeight-height-scrollTop){$this.scrollTop(scrollHeight);return prevent()}else if(up&&delta>scrollTop){$this.scrollTop(0);return prevent()}})}},{"./brain_controller":1,"./event_manager":2,"./video_controller":4,"tween.js":116}],4:[function(require,module,exports){"use strict";module.exports=function(opts){return new VideoController(opts)};module.exports.VideoController=VideoController;function VideoController(opts){if(!(this instanceof VideoController))return new VideoController(opts);this.scrollHeight=opts.scrollHeight;this.zoomHeight=opts.zoomHeight;this.stageWidth=opts.stageWidth;this.stageHeight=opts.stageHeight;this.zoomMultiplyer=1;this.previousZoomMultiplyer=1;this.frameCounter=0;console.log("Video Controller started",opts);this.FF=typeof window.mozInnerScreenX!="undefined";this.SAFARI=navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0}VideoController.prototype.loadVideos=function(container,scrollHeight,neutralContainer){this.container=container;this.neutralContainer=neutralContainer;this.VIDEOS={waiting:{tired_blink:{paths:["final/tired_blink.webm","final/tired_blink.mp4"]},shrink_lip:{paths:["final/shrink_lip.webm","final/shrink_lip.mp4"]},rollingEyes_openMouth:{paths:["final/rollingEyes_openMouth.webm","final/rollingEyes_openMouth.mp4"]},rollingEyes_blink:{paths:["final/rollingEyes_blink.webm","final/rollingEyes_blink.mp4"]},open_mouth:{paths:["final/open_mouth.webm","final/open_mouth.mp4"]},neutral:{paths:["final/neutral.webm","final/neutral.mp4"]},blink01:{paths:["final/blink01.webm","final/blink01.mp4"]}},enter:{frames:{path:"final/enter",count:43},duration:6.76}};this.eventEmitter=require("./event_manager").getEmitter();this.scrollHeight=scrollHeight;console.log("Preloading all videos into ",container," scroll height: "+this.scrollHeight," zoom height: ",this.zoomHeight);var keys=Object.keys(this.VIDEOS.waiting);for(var i=0;i<keys.length;i++){var id=keys[i];this.loadVideo(id,this.VIDEOS.waiting[id],container)}this.loadVideo("enter",this.VIDEOS.enter,container);this.nowPlaying=null};VideoController.prototype.loadVideo=function(id,video,container){video.loaded=false;video.id=id;var self=this;if(video.frames){console.log("Loading "+video.id+"(Regular video element)");video.frames.images=[];video.frames.loaded=0;for(var i=0;i<video.frames.count;i++){var image=new Image;image.src="./videos/"+video.frames.path+"/avner_bevel_"+MathUtil.pad(i+268,5)+"-fs8.png";console.log("Loading image: "+image.src);image.addEventListener("load",function(event){self.videoFrameLoaded(event.target)},false);image.name=video.id+"_"+i;image.id=video.id+"_"+i;image.style.position="fixed";if(this.FF){image.style.left="-75em";image.style.display="block !important"}else{image.style.display="none"}image.style.zIndex=0;video.frames.images.push(image);container.parent().append(image)}var placeholderImage=new Image;placeholderImage.src=video.frames.images[0].src;placeholderImage.alt="";placeholderImage.id=video.id;placeholderImage.name=video.id;placeholderImage.style.position="relative";placeholderImage.style.display="none";container.append(placeholderImage);video.element=placeholderImage;video.frames.current=0;video.rect={width:this.stageWidth,height:this.stageHeight}}else{console.log("Loading "+video.id+"(Regular video element)");var videoElement=document.createElement("VIDEO");videoElement.id=id;videoElement.style.display="none";video.element=videoElement;for(var i=0;i<video.paths.length;i++){var sourceElement=document.createElement("SOURCE");sourceElement.src="videos/"+video.paths[i];videoElement.appendChild(sourceElement)}videoElement.addEventListener("canplaythrough",function(event){self.videoCanPlayThrough(event.target)},false);videoElement.addEventListener("ended",function(event){self.videoEnded(event.target)},false);container.append(videoElement);videoElement.preload="auto";videoElement.load()}};VideoController.prototype.videoFrameLoaded=function(image){var video=this.VIDEOS.enter;video.frames.loaded++;console.log("Video frame loaded!",image,"Now loaded "+video.frames.loaded+" images");if(video.frames.count==video.frames.loaded&&!video.loaded){video.loaded=true;this.checkLoaded()}};VideoController.prototype.videoCanPlayThrough=function(video){var videoData;if(video.id=="enter"){videoData=this.VIDEOS.enter}else{videoData=this.VIDEOS.waiting[video.id]}if(!videoData.loaded){console.log("Video can play through!",video);videoData.loaded=true;this.checkLoaded()}};VideoController.prototype.videoLoadedMetadata=function(video){console.log("Loaded metadata")};VideoController.prototype.checkLoaded=function(){var allLoaded=true;var keys=Object.keys(this.VIDEOS.waiting);for(var i=0;i<keys.length&&allLoaded;i++){var id=keys[i];allLoaded=this.VIDEOS.waiting[id].loaded}if(allLoaded&&this.VIDEOS.enter.loaded){console.log("All videos are loaded!");if(this.SAFARI){this.neutralContainer.show()}this.eventEmitter.emit("videos_loaded")}};VideoController.prototype.playWaiting=function(){this.playRandomWaiting()};VideoController.prototype.playRandomWaiting=function(){var keys=Object.keys(this.VIDEOS.waiting);var index=Math.floor(Math.random()*keys.length);var video=this.VIDEOS.waiting[keys[index]];if(video.loaded){console.log("Playing ",video);this.showVideo(video);if(this.nowPlaying&&video.id!=this.nowPlaying.id){this.hideVideo(this.nowPlaying)}video.element.pause();video.element.currentTime=0;video.element.play();this.nowPlaying=video}};VideoController.prototype.videoEnded=function(video){if(this.nowPlaying.id!="enter"){this.eventEmitter.emit("video_ended");this.playRandomWaiting()}};VideoController.prototype.loop=function(){if(!this.VIDEOS){return}var offset=window.pageYOffset;var zoomStart=this.scrollHeight-this.zoomHeight;if(offset>0&&offset<=zoomStart){this.zoomMultiplyer=1;this.showVideoAt(this.VIDEOS.enter,offset/zoomStart)}else if(offset>zoomStart){this.zoomMultiplyer=1+(offset-zoomStart)/this.zoomHeight*15}else{if(this.SAFARI){this.neutralContainer.show()}if(this.nowPlaying&&this.nowPlaying.id==this.VIDEOS.enter.id){this.playRandomWaiting()}this.zoomMultiplyer=1;this.VIDEOS.enter.frames.current=0}if(this.zoomMultiplyer!=this.previousZoomMultiplyer){this.zoomVideo(this.zoomMultiplyer)}this.previousZoomMultiplyer=this.zoomMultiplyer};VideoController.prototype.zoomVideo=function(zoomMultiplyer){var video=this.nowPlaying;if(video){video.rect={width:this.stageWidth*zoomMultiplyer,height:this.stageHeight*zoomMultiplyer};if(zoomMultiplyer>1){video.rect.bottom=this.stageHeight/2-this.stageHeight*zoomMultiplyer/2+15*zoomMultiplyer*zoomMultiplyer-20;video.rect.left=this.stageWidth/2-this.stageWidth*zoomMultiplyer/2}else{video.rect.bottom=0;video.rect.left=0}video.element.style.height=video.rect.height+"px";video.element.style.width=video.rect.width+"px";video.element.style.left=video.rect.left+"px";video.element.style.bottom=video.rect.bottom+"px";if(zoomMultiplyer>=7){this.container.css("display","none")}else{this.container.css("display","block")}}};VideoController.prototype.showVideoAt=function(video,offsetPercentage){this.container.css("height","auto");if(this.nowPlaying&&this.nowPlaying.id!=video.id){this.showVideo(video);this.hideVideo(this.nowPlaying);if(this.SAFARI){this.neutralContainer.hide()}this.nowPlaying=video}var time;if(video.frames){var frameNumber=Math.min(Math.max(Math.round(offsetPercentage*video.frames.count),1),video.frames.count);if(frameNumber!=video.frames.current&&(!this.SAFARI||frameNumber>=2)){video.element.src=video.frames.images[frameNumber-1].src;video.element.style.width=this.stageWidth;video.element.style.height=this.stageHeight;video.frames.current=frameNumber}}else{time=offsetPercentage*this.VIDEOS.enter.duration;this.VIDEOS.enter.element.currentTime=time}};VideoController.prototype.hideVideo=function(video){video.element.style.display="none"};VideoController.prototype.showVideo=function(video){video.element.style.display="block"}},{"./event_manager":2}],5:[function(require,module,exports){"use strict";module.exports=function(){return new Bass};module.exports.Bass=Bass;function Bass(){if(!(this instanceof Bass))return new Bass;this.loaded=false;console.log("Bass work constructed")}Bass.prototype.init=function(opts,stage,clickHandler){console.log("Bass work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="music";this.loadSprite()};Bass.prototype.loadSprite=function(){var self=this;var bass=new PIXI.Sprite.fromFrame("assets/works/bass.png");bass.anchor.x=.5;bass.anchor.y=.5;bass.position.x=780;bass.position.y=491;bass.rotation=MathUtil.toRadians(-43);bass.buttonMode=true;bass.setInteractive(true);bass.click=function(mouseData){console.log("Bass CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(bass)};Bass.prototype.update=function(){};Bass.prototype.getData=function(){return{name:"Music",description:[{text:"Music is more than a passion for me. It is my way to commnicate. I find it better than any langauge. My main instrument would be the electric Bass, but I also play accostic/electric guitar, Okinawa Sanshin, Synthesizer and Ukulele.",youtube:"http://www.youtube.com/embed/E9sDCTB_peU"},{image:"images/works/bass2.jpg",imageBig:"images/works/bass2_big.jpg"},{youtube:"http://www.youtube.com/embed/NFhuxUd05O0"},{youtube:"http://www.youtube.com/embed/fdQaBR0eIBc"}],links:[]}}},{"../event_manager":2}],6:[function(require,module,exports){"use strict";module.exports=function(){return new Biology};module.exports.Biology=Biology;function Biology(){if(!(this instanceof Biology))return new Biology;this.loaded=false;console.log("Biology work constructed")}Biology.prototype.init=function(opts,stage,clickHandler){console.log("Biology work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="biology";this.loadSprite()};Biology.prototype.loadSprite=function(){var self=this;var biology=new PIXI.Sprite.fromFrame("assets/works/biology.png");biology.anchor.x=.5;biology.anchor.y=.5;biology.position.x=1140;biology.position.y=330;biology.scale={x:.5,y:.5};biology.buttonMode=true;biology.setInteractive(true);biology.click=function(mouseData){console.log("Biology CLICK");self.eventEmitter.emit("work_clicked",self)};var bacteria=new PIXI.Sprite.fromFrame("assets/works/bacteria.png");bacteria.anchor.x=.5;bacteria.anchor.y=.5;bacteria.position.x=20;bacteria.position.y=40;bacteria.scale={x:.75,y:.75};TweenMax.to(bacteria.scale,1,{ease:Linear.easeNone,repeat:-1,yoyo:true,x:1,y:.5});biology.addChild(bacteria);this.stage.addChild(biology)};Biology.prototype.update=function(){};Biology.prototype.getData=function(){return{name:"Biology - Cell Signal Simulation",description:[{text:"For my final project in my biology B.Sc studies, I worked with Prof. Eshel Ben Jacob and Dr. Assaf Zaritsky to build a cell signaling simulation for cancer cells during wound healing.",image:"images/works/biology1.jpg",imageBig:"images/works/biology1_big.jpg"}],links:[]}}},{"../event_manager":2}],7:[function(require,module,exports){"use strict";module.exports=function(){return new Brain};module.exports.Brain=Brain;function Brain(){if(!(this instanceof Brain))return new Brain;this.loaded=false;console.log("Brain work constructed")}Brain.prototype.init=function(opts,stage,clickHandler){console.log("Brain work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="brain";this.loadSprite()};Brain.prototype.loadSprite=function(){var self=this;var face=new PIXI.Sprite.fromFrame("assets/works/face.png");face.anchor.x=.5;face.anchor.y=.5;face.position.x=1185;face.position.y=228;face.scale={x:.5,y:.5};face.buttonMode=true;face.setInteractive(true);var cog=new PIXI.Sprite.fromFrame("assets/works/cog.png");cog.anchor.x=.5;cog.anchor.y=.5;cog.position.x=30;cog.position.y=-12;cog.scale={x:.9,y:.9};var cog2=new PIXI.Sprite.fromFrame("assets/works/cog.png");cog2.anchor.x=.5;cog2.anchor.y=.5;cog2.position.x=-17;cog2.position.y=-33;cog2.scale={x:.9,y:.9};TweenMax.to(cog,3,{ease:Linear.easeNone,repeat:-1,rotation:MathUtil.toRadians(360)});TweenMax.to(cog2,3,{ease:Linear.easeNone,repeat:-1,rotation:MathUtil.toRadians(360)});face.click=function(mouseData){console.log("Brain CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(face);face.addChild(cog);face.addChild(cog2)};Brain.prototype.update=function(){};Brain.prototype.getData=function(){return{name:"The Problem of Consciousness",description:[{text:"In Tel Aviv university's \"Consciousness Studies\" course, we tried to solve 'the hard problem of consciousness'. In the picture: \"Mary's Room\" - a famous thought experiment by Frank Jacskson (1982).",image:"images/works/brain1.jpg"}],links:[{url:"/docs/creation_of_meaning.pdf",description:"Creation of Meaning - From our Brain to Society: Final paper for Prof. Hiroshi Sakurai, Waseda University."}]}}},{"../event_manager":2}],8:[function(require,module,exports){"use strict";module.exports=function(){return new Cantenna};module.exports.Cantenna=Cantenna;function Cantenna(){if(!(this instanceof Cantenna))return new Cantenna;this.loaded=false;console.log("Cantenna work constructed")}Cantenna.prototype.init=function(opts,stage,clickHandler){console.log("Cantenna work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="mesh";this.loadSprite()};Cantenna.prototype.loadSprite=function(){var self=this;var tripod=new PIXI.Sprite.fromFrame("assets/works/tripod.png");tripod.anchor.x=.5;tripod.anchor.y=.5;tripod.position.x=50;tripod.position.y=355;tripod.rotation=MathUtil.toRadians(18);tripod.scale={x:.3,y:.3};tripod.buttonMode=true;tripod.setInteractive(true);var can=new PIXI.Sprite.fromFrame("assets/works/can.png");can.anchor.x=.5;can.anchor.y=.5;can.position.x=65;can.position.y=285;can.rotation=MathUtil.toRadians(-115);can.scale={x:.5,y:.5};can.buttonMode=true;can.setInteractive(true);TweenMax.to(can,3,{ease:Linear.easeNone,repeat:-1,yoyo:true,rotation:MathUtil.toRadians(-90)});tripod.click=can.click=function(mouseData){console.log("Cantenna CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(tripod);this.stage.addChild(can)};Cantenna.prototype.update=function(){};Cantenna.prototype.getData=function(){return{name:"Cantenna Mesh",description:[{text:"Using cheap home equipment such as personal WiFi routers and tin cans, we form a community based WiFi networkthat does not rely on any corporate or government infrastrucure. I created this workshop for the kids at ASSAF youth center, where I volunteer with refugees in South Tel Aviv",image:"images/works/cantenna1.jpg",imageBig:"images/works/cantenna1_big.jpg"},{text:"We hack our routers, drill out tin cans and make them into antennas, and then climb roofs to install them all over south Tel Aviv. Here we are testing the signal strength from one roof to the next.",image:"images/works/cantenna2.jpg",imageBig:"images/works/cantenna2_big.jpg"}],links:[{url:"http://telavivmakers.org/index.php/Main_Page",description:"TAMI - Tel Aviv Makers Hackerspace"},{url:"http://arig.org.il",description:"ARIG - Israeli Mesh Project"}]}}},{"../event_manager":2}],9:[function(require,module,exports){"use strict";module.exports=function(){return new Drone};module.exports.Drone=Drone;function Drone(){if(!(this instanceof Drone))return new Drone;this.loaded=false;console.log("Drone work constructed")}Drone.prototype.init=function(opts,stage,clickHandler){console.log("Drone work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="drone";this.loadSprite()};Drone.prototype.loadSprite=function(){var self=this;var drone=new PIXI.Sprite.fromFrame("assets/works/drone.png");drone.anchor.x=.5;drone.anchor.y=.5;drone.position.x=1380;drone.position.y=80;drone.scale={x:.8,y:.8};drone.buttonMode=true;drone.setInteractive(true);TweenMax.to(drone.position,15,{ease:Linear.easeNone,repeat:-1,x:-100});drone.click=function(mouseData){console.log("Drone CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(drone)};Drone.prototype.update=function(){};Drone.prototype.getData=function(){return{name:"Democratic Drone (Speculative Design)",description:[{text:"How would war look like in a technolog based direct democracy system? Can the citizens be collectively and individually accountable for drone strikes? This democratic drone is fully automatic. It is connected to an online voting system where the citizens get to read about the target and the risks of collateral damage, so they can decide whether to launch the attack or not. As an added bonus, the target gets to see the results in real time.",image:"images/works/democratic_drone.png"}],links:[]}}},{"../event_manager":2}],10:[function(require,module,exports){"use strict";module.exports=function(){return new EQuala};module.exports.EQuala=EQuala;function EQuala(){if(!(this instanceof EQuala))return new EQuala;this.loaded=false;console.log("EQuala work constructed")}EQuala.prototype.init=function(opts,stage,clickHandler){console.log("EQuala work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="equala";this.loadSprite()};EQuala.prototype.loadSprite=function(){var self=this;var headphones=new PIXI.Sprite.fromFrame("assets/works/headphones.png");headphones.anchor.x=.5;headphones.anchor.y=.5;headphones.position.x=455;headphones.position.y=405;headphones.scale={x:.5,y:.5};headphones.buttonMode=true;headphones.setInteractive(true);var lightning1=new PIXI.Sprite.fromFrame("assets/works/lightning.png");lightning1.anchor.x=.5;lightning1.anchor.y=.5;lightning1.position.x=605;lightning1.position.y=380;lightning1.scale={x:.25,y:.25};lightning1.buttonMode=true;lightning1.setInteractive(true);var lightning2=new PIXI.Sprite.fromFrame("assets/works/lightning_f.png");lightning2.anchor.x=.5;lightning2.anchor.y=.5;lightning2.position.x=323;lightning2.position.y=380;lightning2.scale={x:.25,y:.25};lightning2.buttonMode=true;lightning2.setInteractive(true);TweenMax.to(lightning1.scale,.25,{repeat:-1,yoyo:true,x:.35,y:.35,ease:Power0.easeInOut});TweenMax.to(lightning2.scale,.25,{repeat:-1,yoyo:true,x:.35,y:.35,ease:Power0.easeInOut});headphones.click=lightning1.click=lightning2.click=function(mouseData){console.log("EQuala CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(headphones);this.stage.addChild(lightning1);this.stage.addChild(lightning2)};EQuala.prototype.update=function(){};EQuala.prototype.getData=function(){return{name:"EQuala & Feature.FM",description:[{text:"The industry: Music. The crew: A group of lovely people carefully selected by Lior Aharoni, my old co-worker from the IDF.",image:"images/works/equala1.png",imageBig:"images/works/equala1_big.png"},{text:'EQuala.fm is a social radio app. We collect your friends\' listening habits, and tune them into a radio station controlled by our "Friends EQualizer". I wrote the iOS client and was involved in the product design.',image:"images/works/equala2.png",imageBig:"images/works/equala2_big.png"},{text:"In Feature.fm we work with online music streaming services who are looking for a way to monetize. Instead of playing ads, they play targeted featured songs from rising musicians, provided by us. To the artists, we provide analytics, management and a community. I wrote and designed a large part of the system, from the low database tier, to the server logic and the web client.",image:"images/works/equala3.png",imageBig:"images/works/equala3_big.png"}],links:[{url:"https://www.equala.fm",description:"EQuala Official Page"},{url:"http://techcrunch.com/2013/03/06/equala-launches-on-ios-and-android-to-bring-more-context-and-control-to-social-music-discovery/",description:"EQuala on TechCrunch"},{url:"https://www.feature.fm",description:"Feature.FM Official Page"},{url:"http://rainnews.com/native-advertising-in-8tracks-conversation-with-david-porter/",description:"Interview about Feature.FM with 8tracks CEO David Porter (Streaming partner)"}]}}},{"../event_manager":2}],11:[function(require,module,exports){"use strict";module.exports=function(){return new FreedomCat};module.exports.FreedomCat=FreedomCat;function FreedomCat(){if(!(this instanceof FreedomCat))return new FreedomCat;this.loaded=false;console.log("FreedomCat work constructed")}FreedomCat.prototype.init=function(opts,stage,clickHandler){console.log("FreedomCat work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="freedom-cat";this.loadAnim("good-luck-cat",2,1)};FreedomCat.prototype.loadAnim=function(name,frames,skip){var cat_seq=[];for(var i=1;i<=frames;i+=skip){var texture=new PIXI.Texture.fromFrame(name+"-"+i+".png");cat_seq.push(texture)}var luckycat=new PIXI.MovieClip(cat_seq);luckycat.anchor.x=.5;luckycat.anchor.y=.5;luckycat.position.x=735;luckycat.position.y=600;luckycat.scale={x:.4,y:.4};luckycat.loop=true;luckycat.visible=true;luckycat.animationSpeed=.1;luckycat.buttonMode=true;luckycat.setInteractive(true);var self=this;luckycat.click=function(mouseData){console.log("Freedom cat CLICK");self.eventEmitter.emit("work_clicked",self)};luckycat.play();this.stage.addChild(luckycat);this.clickMe=luckycat};FreedomCat.prototype.update=function(){};FreedomCat.prototype.getData=function(){return{name:"Freedom Cat",description:[{text:'The Freedom Cat is a speculative design I made with my colleagues Soujanyaa Boruah and Yuzhou Wang. It aims to make the anonymous TOR network more accessible to any citizen of China by encapsulating it in a user friendly "Lucky Cat" design.',image:"images/works/freedom_cat_1.png",imageBig:"images/works/freedom_cat_1_big.png"},{text:"The Cat is in fact a WiFi access point that connects you to the TOR network. Once your are connected, you can bypass the government censorship and remain anonymous.",image:"images/works/freedom_cat_2.png",imageBig:"images/works/freedom_cat_2_big.png"}],links:[{url:"https://www.torproject.org/",description:"TOR Project"}]}}},{"../event_manager":2}],12:[function(require,module,exports){"use strict";module.exports=function(){return new Gamad};module.exports.Gamad=Gamad;function Gamad(){if(!(this instanceof Gamad))return new Gamad;this.loaded=false;console.log("Gamad work constructed")}Gamad.prototype.init=function(opts,stage,clickHandler){console.log("Gamad work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="secretsanta";this.loadAnim("gnome_dance",23)};Gamad.prototype.loadAnim=function(name,frames){var dance_seq=[];var gnome=this;for(var i=1;i<=frames;i++){var num=MathUtil.pad(i,4);var texture=new PIXI.Texture.fromFrame(name+num+".png");dance_seq.push(texture)}var dance=new PIXI.MovieClip(dance_seq);dance.anchor.x=.5;dance.anchor.y=.5;dance.position.x=700;dance.position.y=392;dance.scale={x:.25,y:.25};dance.loop=true;dance.visible=true;dance.animationSpeed=.5;dance.buttonMode=true;dance.setInteractive(true);var self=this;dance.click=function(mouseData){console.log("GAMAD CLICK");self.eventEmitter.emit("work_clicked",self)};dance.play();this.stage.addChild(dance);this.clickMe=dance};Gamad.prototype.update=function(){};Gamad.prototype.getData=function(){return{name:"Secret Santa",description:[{text:'A gift-giving game traditionaly held in Israel during Purim holiday. In my gift I came up with a new way to share music - using a "Mixtape Game". Press Space-Bar along with the beat, to match the Hamman ears in their place - and crazy things start happening.',image:"images/works/gamadanak1.png"},{image:"images/works/gamadanak3.png"}],links:[{url:"http://avnerus.github.io/gamadanak",description:"Play the game demo"},{url:"https://github.com/Avnerus/gamadanak",description:"View the source code"}]}}},{"../event_manager":2}],13:[function(require,module,exports){"use strict";module.exports=function(){return new Info};module.exports.Info=Info;function Info(){if(!(this instanceof Info))return new Info;this.loaded=false;console.log("Info work constructed")}Info.prototype.init=function(opts,stage,clickHandler){var self=this;console.log("Info work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.questionBlock=PIXI.Sprite.fromFrame("assets/works/question_block.png");this.questionBlock.position.x=270;this.questionBlock.position.y=618;this.questionBlock.anchor.x=.5;this.questionBlock.anchor.y=.5;this.questionBlock.scale.x=.5;this.questionBlock.scale.y=.5;this.questionBlock.buttonMode=true;this.questionBlock.setInteractive(true);this.updateMoney();this.questionBlock.click=function(mouseData){self.eventEmitter.emit("info_clicked",self);self.updateMoney()};TweenMax.to(this.questionBlock.position,1,{ease:Power2.easeIn,repeat:-1,yoyo:true,y:504});this.hashURL="info";this.stage.addChild(this.questionBlock)};Info.prototype.update=function(){};Info.prototype.updateMoney=function(){console.log("Update account balance!");fetch("https://cloud.avner.us/index.php/s/kidGLOyro0YTh7Q/download",{compress:false}).then(function(res){return res.json()}).then(function(json){$("#money-balance").text(json.balance+" EUR")})};Info.prototype.getData=function(){return{name:"Info",description:[]}}},{"../event_manager":2}],14:[function(require,module,exports){"use strict";module.exports=function(){return new Japan};module.exports.Japan=Japan;function Japan(){if(!(this instanceof Japan))return new Japan;this.loaded=false;console.log("Japan work constructed")}Japan.prototype.init=function(opts,stage,clickHandler){console.log("Japan work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="japan";this.loadSprite()};Japan.prototype.loadSprite=function(){var self=this;var japan=new PIXI.Sprite.fromFrame("assets/works/japan.png");japan.anchor.x=.5;japan.anchor.y=.5;japan.position.x=905;japan.position.y=300;japan.scale={x:.4,y:.4};japan.buttonMode=true;japan.setInteractive(true);japan.click=function(mouseData){console.log("Japan CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(japan)};Japan.prototype.update=function(){};Japan.prototype.getData=function(){return{name:"Japan",description:[{text:"Japan has a place in my soul since early childhood. It started with Okinawa Goju Karate at the age of 12, moved on to being an anime otaku in highschool and at the age of 24, after being discharged from the army, I went on a 4 month cross country trip. 2.5 months of that trip were spent in Okinawa. I studied Karate with the Higaona Sensei, the Goju Ryu master and learned to play the Sanshin. I also went diving in the islands on weekends.",image:"images/works/japan1.jpg",imageBig:"images/works/japan1_big.jpg"},{text:"Finally in 2010 I was ready to see what is it like to actually live in Japan. I was accepted to a student exchange program in Waseda university and lived in Japan for a full year.",image:"images/works/japan2.jpg",imageBig:"images/works/japan2_big.jpg"},{text:"Now I can speak the language and Japan still resides in my mind. It is apparent in everying aspect of my life and character.",image:"images/works/japan3.jpg",imageBig:"images/works/japan3_big.jpg"},{youtube:"http://www.youtube.com/embed/7TrUsnLMt1k"}],links:[]}}},{"../event_manager":2}],15:[function(require,module,exports){"use strict";module.exports=function(){return new JewishRoots};module.exports.JewishRoots=JewishRoots;function JewishRoots(){if(!(this instanceof JewishRoots))return new JewishRoots;this.loaded=false;console.log("JewishRoots work constructed")}JewishRoots.prototype.init=function(opts,stage,clickHandler){console.log("JewishRoots work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="jewish-roots";this.loadSprite()};JewishRoots.prototype.loadSprite=function(){var self=this;var rutabaga=new PIXI.Sprite.fromFrame("assets/works/rutabaga.png");rutabaga.anchor.x=.5;rutabaga.anchor.y=.5;rutabaga.position.x=905;rutabaga.position.y=396;rutabaga.scale={x:.3,y:.3};rutabaga.buttonMode=true;rutabaga.setInteractive(true);rutabaga.click=function(mouseData){console.log("JewishRoots CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(rutabaga)};JewishRoots.prototype.update=function(){};JewishRoots.prototype.getData=function(){return{name:"Jewish Roots (WIP)",description:[{text:'For this project I intend to extract my most "Jewish" genes, based on the research by Harry Ostrer, and inject them using gene splicing methods into the seeds of root vegetables. I will thus be able to grow my "Jewish Roots".',image:"images/works/rutabaga.png"},{image:"images/works/legacy.jpg"}],links:[{url:"/docs/jewish_genes.txt",description:"Download the list of Jewish Genes"}]}}},{"../event_manager":2}],16:[function(require,module,exports){"use strict";module.exports=function(){return new Koala};module.exports.Koala=Koala;function Koala(){if(!(this instanceof Koala))return new Koala;this.loaded=false;console.log("Koala work constructed")}Koala.prototype.init=function(opts,stage,clickHandler){console.log("Koala work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.loadAnimations();this.hashURL="koala";this.routine()};Koala.prototype.loadAnimations=function(name,frames){var frameSequence=[];for(var i=0;i<12;i++){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("KoalaLeft"+num+".png");frameSequence.push(texture)}this.walkLeft=new PIXI.MovieClip(frameSequence);this.walkLeft.anchor.x=.5;this.walkLeft.anchor.y=.5;this.walkLeft.position.x=1200;this.walkLeft.position.y=573;this.walkLeft.loop=true;this.walkLeft.animationSpeed=.25;this.walkLeft.buttonMode=true;this.walkLeft.setInteractive(true);frameSequence=[];for(var i=5;i>=0;i--){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("KoalaO2L"+num+".png");frameSequence.push(texture)}for(var i=0;i<=5;i++){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("KoalaO2R"+num+".png");frameSequence.push(texture)}this.turnRight=new PIXI.MovieClip(frameSequence);this.turnRight.anchor.x=.5;this.turnRight.anchor.y=.5;this.turnRight.position.x=900;this.turnRight.position.y=573;this.turnRight.animationSpeed=.25;this.turnRight.buttonMode=true;this.turnRight.setInteractive(true);this.turnRight.loop=false;frameSequence=[];for(var i=0;i<12;i++){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("KoalaRight"+num+".png");frameSequence.push(texture)}this.walkRight=new PIXI.MovieClip(frameSequence);this.walkRight.anchor.x=.5;this.walkRight.anchor.y=.5;this.walkRight.position.x=900;this.walkRight.position.y=573;this.walkRight.loop=true;this.walkRight.animationSpeed=.25;this.walkRight.buttonMode=true;this.walkRight.setInteractive(true);frameSequence=[];for(var i=5;i>=0;i--){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("KoalaO2R"+num+".png");frameSequence.push(texture)}for(var i=0;i<=5;i++){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("KoalaO2L"+num+".png");frameSequence.push(texture)}this.turnLeft=new PIXI.MovieClip(frameSequence);this.turnLeft.anchor.x=.5;this.turnLeft.anchor.y=.5;this.turnLeft.position.x=1200;this.turnLeft.position.y=573;this.turnLeft.animationSpeed=.25;this.turnLeft.buttonMode=true;this.turnLeft.setInteractive(true);this.turnLeft.loop=false;this.walkLeft.click=this.turnRight.click=this.walkRight.click=this.turnLeft.click=function(mouseData){console.log("KOALA CLICK");self.eventEmitter.emit("work_clicked",self)};var self=this};Koala.prototype.routine=function(){var self=this;var t1=new TimelineMax({repeat:-1});t1.call(function(){self.stage.addChild(self.walkLeft);self.walkLeft.play()});t1.to(this.walkLeft.position,5,{ease:Linear.easeNone,x:900});t1.call(function(){self.stage.removeChild(self.walkLeft);self.stage.addChild(self.turnRight);self.turnRight.gotoAndPlay(0)});t1.to(this.walkLeft.position,1.5,{ease:Linear.easeNone});t1.call(function(){self.stage.removeChild(self.turnRight);self.stage.addChild(self.walkRight);self.walkRight.play()});t1.to(this.walkRight.position,5,{ease:Linear.easeNone,x:1200});t1.call(function(){self.stage.removeChild(self.walkRight);self.stage.addChild(self.turnLeft);self.turnLeft.gotoAndPlay(0)});t1.to(this.walkRight.position,1.5,{ease:Linear.easeNone});t1.call(function(){self.stage.removeChild(self.turnLeft)})};Koala.prototype.update=function(){};Koala.prototype.getData=function(){return{name:"Koala (WIP)",description:[{text:"A mobile game about a Koala that is sick of only sleeping and eating and dreams about becoming an office worker. The concept was created by me and I've started developing this along with my friend Ilan Aminoff. The game is currently on hold.",image:"images/works/koala1.png"},{text:"In the game mechanics, the screen is split between the tree habitat and the office. Office actions that the Koala is doing in her sleep, affect her tree in the real world. ",image:"images/works/koala2.png"},{text:"Developed in C++ using Cocos2D-X",image:"images/works/koala3.png"}],links:[]}}},{"../event_manager":2}],17:[function(require,module,exports){"use strict";module.exports=function(){return new Marrow};module.exports.Marrow=Marrow;function Marrow(){if(!(this instanceof Marrow))return new Marrow;this.loaded=false;console.log("Marrow work constructed")}Marrow.prototype.init=function(opts,stage,clickHandler){console.log("Marrow work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="marrow";this.pause=false;this.loadAnim("shadows",47,1)};Marrow.prototype.loadAnim=function(name,frames,skip){var marrow_seq=[];for(var i=0;i<=frames;i+=skip){var num=MathUtil.pad(i,2);var texture=new PIXI.Texture.fromFrame("frame_"+num+"_delay-0.1s.png");marrow_seq.push(texture)}console.log("marrow seq",marrow_seq);var shadows=new PIXI.MovieClip(marrow_seq);shadows.anchor.x=.5;shadows.anchor.y=.5;shadows.position.x=125;shadows.position.y=565;shadows.scale={x:.5,y:.5};shadows.loop=true;shadows.visible=true;shadows.animationSpeed=.5;shadows.buttonMode=true;shadows.setInteractive(true);this.shadows=shadows;var self=this;shadows.click=function(mouseData){console.log("MARROW CLICK");self.eventEmitter.emit("work_clicked",self)};shadows.play();this.stage.addChild(shadows);this.clickMe=shadows};Marrow.prototype.update=function(){if(this.shadows){if(this.shadows.currentFrame>0&&this.shadows.currentFrame<47){this.pause=false}if(this.shadows.currentFrame==47&&!this.pause){this.pause=true;this.shadows.gotoAndStop(47);setTimeout(()=>{this.shadows.animationSpeed=-.5;this.shadows.play()},1e3)}else if(this.shadows.currentFrame==0&&!this.pause){this.pause=true;this.shadows.stop();setTimeout(()=>{this.shadows.animationSpeed=.5;this.shadows.play()},1e3)}}};Marrow.prototype.getData=function(){return{name:"Marrow",description:[{text:"If an AI could achieve the level of complexity required for mental states, could it also undergo mental illness? Marrow is an immersive, interactive installation, as well a machine-learning research project in collaboration with shirin anlen. Marrow highlights glitches found in machine learning models to reflect on the possibility of mental disorder in AI, and on the social constructs that lead to those glitches, offering new paths for social thinking. ",youtube:"https://www.youtube.com/embed/d-rOgniW26A"},{text:'In September 2019, we started the development phase under the co-production of the National Film Board of Canada and Atlas V with: Philippe Lambert (sound design) and Paloma Dawkins (animations). Focusing on GAN models, we created an interactive experience in which the participants act in a family dinner scene while being linked, intervened and controlled by machine learning models that try to make sense of the concept of "family".',image:"images/works/marrow1_big.png",imageBig:"images/works/marrow1_big.png"},{text:"In one of our most technologically rich and complex artistic achivements to date, we built an elborate real-time environment that orchestrated the collborative interplay of human and machine. The performance was accompanied by a wide range of software and hardware including: TouchDesigner, Unity3D, Raspberry Pis, speech recognition, a Python engine, GAN Text-to-image, Custom-trained StyleGAN, GauGAN, DeepLab object recognition, and AI voice cloning. All of those brought together into a 15 minute experience.",image:"images/works/marrow2.jpg",imageBig:"images/works/marrow2_big.jpg"}],links:[{url:"https://shirin.works/Marrow-dev-phase-Machine-learning-immersive-theater-WIP",description:"Marrow @ shirin anlen."},{url:"https://www.nfb.ca/interactive/marrow/",description:"Marrow @ NFB."},{url:"https://atlasv.io/",description:"Atlas V."},{url:"https://www.facebook.com/philippel/",description:"Philippe Lambert (sound design)."},{url:"https://palomadawkins.com/",description:"Paloma Dawkins (animations)."},{url:"https://towardsdatascience.com/small-family-small-dataset-7f7db708f06d",description:"'Towards Data Science' post #1: Small family small dataset."},{url:"https://towardsdatascience.com/a-tool-for-collaborating-over-gans-latent-space-b7ea92ad63d8",description:"'Towards Data Science' post #2: Collaborating over GAN's latent space."},{url:"https://towardsdatascience.com/a-tool-for-collaborating-over-gans-latent-space-b7ea92ad63d8",description:"'Towards Data Science' post #3: Drawing the inner world of a story using GauGAN."}]}}},{"../event_manager":2}],18:[function(require,module,exports){"use strict";module.exports=function(){return new Moduland};module.exports.Moduland=Moduland;function Moduland(){if(!(this instanceof Moduland))return new Moduland;this.loaded=false;console.log("Moduland work constructed")}Moduland.prototype.init=function(opts,stage,clickHandler){console.log("Moduland work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="moduland";this.loadSprite()};Moduland.prototype.loadSprite=function(name,frames,skip){var moduland=new PIXI.Sprite.fromFrame("assets/works/moduland.png");var self=this;moduland.anchor.x=.5;moduland.anchor.y=.5;moduland.position.x=464;moduland.position.y=437;moduland.scale={x:.4,y:.4};moduland.buttonMode=true;moduland.setInteractive(true);moduland.click=function(mouseData){console.log("Moduland CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(moduland)};Moduland.prototype.update=function(){};Moduland.prototype.getData=function(){return{name:"Moduland",description:[{text:"MODULAND is an interactive project created at the MIT Media Lab Berlin  Signal & Noise prototyping workshop, within the track Playful Machines that Make Music.",youtube:"https://www.youtube.com/embed/DhF9PZqpKBY"},{text:"With MODULAND, playgrounds become modular synthesizers to raise curiosity, exploration, and connection to electronic music making. By creating playful machines that use LEGO bricks, sensors, and microcontrollers, it creates an embodied and interactive music lesson in an urban space.",vimeo:"https://player.vimeo.com/video/285793556?api=1&player_id=player_1"}],links:[{url:"https://medialabmoduland.wordpress.com",description:"Official website"}]}}},{"../event_manager":2}],19:[function(require,module,exports){"use strict";var fetch=require("node-fetch");module.exports=function(){return new Money};module.exports.Money=Money;function Money(){if(!(this instanceof Money))return new Money;this.loaded=false;console.log("money work constructed")}Money.prototype.init=function(opts,stage,container){var self=this;console.log("Money work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="money";this.container=container};Money.prototype.clicked=function(){var self=this;console.log("Update account balance!");fetch("https://dl.dropboxusercontent.com/s/qawpeqy0v44agrz/balance.json?dl=1",{compress:false}).then(function(res){return res.json()}).then(function(json){self.container.find("#money-balance").text(json.balance+" EUR")})};Money.prototype.update=function(){};Money.prototype.getData=function(){return{name:"Money",description:[]}}},{"../event_manager":2,"node-fetch":75}],20:[function(require,module,exports){"use strict";module.exports=function(){return new Peace};module.exports.Peace=Peace;function Peace(){if(!(this instanceof Peace))return new Peace;this.loaded=false;console.log("Peace work constructed")}Peace.prototype.init=function(opts,stage,clickHandler){console.log("Peace work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="peace";this.loadSprite()};Peace.prototype.loadSprite=function(){var self=this;var graphics=new PIXI.Graphics;graphics.beginFill(16777215);graphics.lineStyle(2,16777215);graphics.moveTo(905,0);graphics.lineTo(905,145);graphics.endFill();this.stage.addChild(graphics);var dove=new PIXI.Sprite.fromFrame("assets/works/dove.png");dove.anchor.x=.5;dove.anchor.y=.5;dove.position.x=905;dove.position.y=125;dove.scale={x:.8,y:.8};dove.buttonMode=true;dove.setInteractive(true);TweenMax.to(dove.position,2,{ease:Linear.easeNone,repeat:-1,yoyo:true,y:100});TweenMax.to(graphics.position,2,{ease:Linear.easeNone,repeat:-1,yoyo:true,y:-20});dove.click=function(mouseData){console.log("Peace CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(dove)};Peace.prototype.update=function(){};Peace.prototype.getData=function(){return{name:"The Conflict",description:[{text:'In 2012 I attened the "Vacation from War" seminar for Israelis and Palestinians that took place in Walberberg, Germany. Ever since, I try to give as much as I can for the resolution of our conflict. I believe this should be the main concern in Israel, and solved before anything else.',image:"images/works/peace1.jpg",imageBig:"images/works/peace1_big.jpg"},{text:"In Aalto University I am trying to use my knowledge in science and technology to do something meaningful for my home country.",vimeo:"https://player.vimeo.com/video/370821209?api=1&player_id=player_1"},{image:"images/works/peace2.jpg",imageBig:"images/works/peace2_big.jpg"},{image:"images/works/peace3.jpg",imageBig:"images/works/peace3_big.jpg"},{image:"images/works/peace4.jpg",imageBig:"images/works/peace4_big.jpg"}],links:[]}}},{"../event_manager":2}],21:[function(require,module,exports){"use strict";module.exports=function(){return new Playbot};module.exports.Playbot=Playbot;function Playbot(){if(!(this instanceof Playbot))return new Playbot;this.loaded=false;console.log("Playbot work constructed")}Playbot.prototype.init=function(opts,stage,clickHandler){console.log("Playbot work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="telerobots";this.loadSprite()};Playbot.prototype.loadSprite=function(){var self=this;var playbot=new PIXI.Sprite.fromFrame("assets/works/playbot.png");playbot.anchor.x=.5;playbot.anchor.y=.5;playbot.position.x=190;playbot.position.y=260;playbot.scale={x:.5,y:.5};playbot.buttonMode=true;playbot.setInteractive(true);playbot.click=function(mouseData){console.log("Playbot CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(playbot)};Playbot.prototype.update=function(){};Playbot.prototype.getData=function(){return{name:"Telepresence Robots",description:[{text:"",vimeo:"https://player.vimeo.com/video/370821209?api=1&player_id=player_1"},{text:"Telepresence robots can be a form of civic action against prejudice and fearmongering. I am using them to create physical cross-border, intergroup contact. They serve as the foundation of my academic work.",image:"images/works/hitodama_interact2.gif",imageBig:"images/works/hitodama_interact2.gif"},{text:"",image:"images/works/hitodama_control.gif",imageBig:"images/works/hitodama_control.gif"},{text:"I started protoyping at the Israeli Burning Man Festival, where I remotely danced with the festival participants from my desert control tent.",image:"images/works/playbots2.jpg",imageBig:"images/works/playbots2_big.jpg"},{text:"",image:"images/works/playbots4.jpg",imageBig:"images/works/playbots4_big.jpg"},{text:'At the "Screen Reality for Dreams" festival I gave some life counselling through the telerobot.',image:"images/works/playbots5.jpg",imageBig:"images/works/playbots5_big.png"},{text:"In Aalto University I experimented with puppeteering a (Muslim) Nao robot using the Kinect Depth Sensor.",image:"images/works/nao_kafia.jpg",imageBig:"images/works/nao_kafia_big.jpg"},{youtube:"https://www.youtube.com/embed/3aWOL2dsPxY"},{text:'The work on the Soft Telepresence "HITODAMA" wwas started in Kyushu university and finished as my MA thesis in Aalto university.',youtube:"https://www.youtube.com/embed/ouPlm0X_K5Y"},{youtube:"https://www.youtube.com/embed/fKkyfRtSTFA"},{youtube:"https://www.youtube.com/embed/nQ5kCrI5pfU"}],links:[{url:"https://aaltodoc.aalto.fi/handle/123456789/41408",description:"MA Thesis at Aalto University: Soft Robotic Incarnation"},{url:"https://elinorsalomon.net/Screen-Reality-For-Dreams",description:"Screen Reality for Dreams"}]}}},{"../event_manager":2}],22:[function(require,module,exports){"use strict";module.exports=function(){return new Pulse};module.exports.Pulse=Pulse;function Pulse(){if(!(this instanceof Pulse))return new Pulse;this.loaded=false;console.log("Pulse work constructed")}Pulse.prototype.init=function(opts,stage,clickHandler){console.log("Pulse work initializing with opts",opts);this.stage=stage;this.opts=opts;this.sprite1=PIXI.Sprite.fromFrame("assets/works/pulse.png");this.sprite1.position.x=650;this.sprite1.position.y=100;this.sprite1.anchor.x=.5;this.sprite1.anchor.y=.5;this.sprite1.scale.y=.5;this.sprite1.scale.x=.5;this.sprite1.buttonMode=true;this.sprite2=PIXI.Sprite.fromFrame("assets/works/pulse.png");this.sprite2.position.x=650;this.sprite2.position.y=100;this.sprite2.anchor.x=.5;this.sprite2.anchor.y=.5;this.sprite2.scale.y=.5;this.sprite2.scale.x=.5;this.counter=0;this.sprite2.buttonMode=true;this.sprite2.setInteractive(true);this.sprite1.setInteractive(true);this.sprite2.tint=15649877;this.eventEmitter=require("../event_manager").getEmitter();var self=this;this.sprite2.click=this.sprite1.click=function(mouseData){console.log("PULSE CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(this.sprite1);this.stage.addChild(this.sprite2);this.loaded=true;this.hashURL="pulse";this.fly()};Pulse.prototype.fly=function(){var self=this;TweenMax.to(this.sprite1.position,9,{ease:Linear.easeNone,repeat:-1,bezier:{curviness:1.5,values:[{x:750,y:200},{x:650,y:300},{x:550,y:100},{x:650,y:100}]}});TweenMax.to(this.sprite2.position,9,{ease:Linear.easeNone,repeat:-1,bezier:{curviness:1.5,values:[{x:550,y:200},{x:650,y:300},{x:750,y:100},{x:650,y:100}]}});TweenMax.to(this.sprite1,3,{ease:Linear.easeNone,repeat:-1,rotation:MathUtil.toRadians(360)});TweenMax.to(this.sprite2,3,{ease:Linear.easeNone,repeat:-1,rotation:MathUtil.toRadians(360)})};Pulse.prototype.update=function(){};Pulse.prototype.getData=function(){return{links:[{url:"https://github.com/Avnerus/pulse-midburn",description:"View the source code"}],name:"The Pulse Project",description:[{text:"Inspired by the bio-musical work of Daito Manabe, and fueled by my own interest in exposing human interaction using an audio-visual representation of their heartbeats. In this project I combine the heartbeats of 4 people into one electronic music composition and a space-gravitational scene of orbiting creatures. I tried to reflect the relations between the heartbeats using audio and visuals. The work was displayed in the Israeli Burning-Man festival (Midburn) and the Tel Aviv White-Night festival",image:"images/works/pulse1.png"},{text:"Here I am testing the project, with my ASSAF computer class. Location: Tel Aviv Makers Hackerspace - TAMI",vimeo:"https://player.vimeo.com/video/113006896??api=1&player_id=player_1"}]}}},{"../event_manager":2}],23:[function(require,module,exports){"use strict";module.exports=function(){return new Security};module.exports.Security=Security;function Security(){if(!(this instanceof Security))return new Security;this.loaded=false;console.log("Security work constructed")}Security.prototype.init=function(opts,stage,clickHandler){console.log("Security work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="security";this.loadSprite()};Security.prototype.loadSprite=function(){var self=this;var keyhole=new PIXI.Sprite.fromFrame("assets/works/keyhole.png");keyhole.anchor.x=.5;keyhole.anchor.y=.5;keyhole.position.x=555;keyhole.position.y=575;keyhole.buttonMode=true;keyhole.setInteractive(true);keyhole.click=function(mouseData){console.log("Security CLICK");self.eventEmitter.emit("work_clicked",self)};this.colorMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this.filter=new PIXI.ColorMatrixFilter;this.filter.matrix=this.colorMatrix;this.counter=0;keyhole.filters=[this.filter];this.stage.addChild(keyhole)};Security.prototype.update=function(){this.counter+=.01;this.colorMatrix[3]=Math.min(.8,Math.sin(this.counter*2));this.colorMatrix[7]=Math.min(.8,Math.sin(this.counter*2));this.filter.matrix=this.colorMatrix};Security.prototype.getData=function(){return{name:"IT Security",description:[{text:'There is not much that I can disclose from 7 years of being a security researcher for the Israeli Army and government, but I know that "hacking", in the broad sense of the word, is a lifestyle that I will always maintain. Whether it\'s computers, the brain or life.',image:"images/works/security1.png"}],links:[{url:"http://seclists.org/fulldisclosure/2005/Dec/659",description:"Another Checkpoint SecureClient NGX SCV Bypass - My report on Full-Disclosure mailing list"}]}}},{"../event_manager":2}],24:[function(require,module,exports){"use strict";module.exports=function(){return new SocialBonds};module.exports.SocialBonds=SocialBonds;function SocialBonds(){if(!(this instanceof SocialBonds))return new SocialBonds;this.loaded=false;console.log("SocialBonds work constructed")}SocialBonds.prototype.init=function(opts,stage,clickHandler){console.log("SocialBonds work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="social-bonds";this.loadSprite()};SocialBonds.prototype.loadSprite=function(){var self=this;var facebook=new PIXI.Sprite.fromFrame("assets/works/facebook.png");facebook.anchor.x=.5;facebook.anchor.y=.5;facebook.position.x=-136;facebook.position.y=-129;facebook.scale={x:1,y:1};facebook.buttonMode=true;facebook.setInteractive(true);facebook.click=function(mouseData){console.log("SocialBonds CLICK");self.eventEmitter.emit("work_clicked",self)};var electrode=new PIXI.Sprite.fromFrame("assets/works/electrode.png");electrode.anchor.x=.5;electrode.anchor.y=.5;electrode.position.x=1149;electrode.position.y=176;electrode.scale={x:.5,y:.5};this.stage.addChild(electrode);electrode.addChild(facebook)};SocialBonds.prototype.update=function(){};SocialBonds.prototype.getData=function(){return{name:"Social Bonds",description:[{text:"How would Facebook make use of emerging technologies that combine businesses with modern science?  It is widely known that Facebook is collecting and analyzing our online behavior in order to optimize the websites experience, which in turn increases exposure to ads and generates profit. Corporate use of NeuroImaging devices enabled Neuromarketing, the measuring of our brains activity in response to ads and web content.",image:"images/works/social_bonds.png"},{text:"We therefore speculate on whats happening behind closed doors at Facebooks lab, with access to the latest brain imaging devices. Cooperating with ABL  Aaltos Neuro-Behavioral Lab, we conducted an experiment, measuring a subjects brain activity and eye tracking during a 45 minute long Facebook session. We then ran this data through a common algorithm that analyzes emotional regulation activity, namely LPP analysis.The result is a glimpse of a probable scenario, in which Facebook directly derives financial bonds from our emotional investment in social media.",vimeo:"https://player.vimeo.com/video/250355484?api=1&player_id=player_1"}],links:[{url:"http://socialbonds.org",description:"Social Bonds website"},{url:"http://we-make-money-not-art.com/open-fields-big-and-small-data-reinvented-by-flies-weeds-and-kisses/",description:"RIXC Open Fields exhibition"}]}}},{"../event_manager":2}],25:[function(require,module,exports){"use strict";module.exports=function(){return new SoftRobotics};module.exports.SoftRobotics=SoftRobotics;function SoftRobotics(){if(!(this instanceof SoftRobotics))return new SoftRobotics;this.loaded=false;console.log("SoftRobotics work constructed")}SoftRobotics.prototype.init=function(opts,stage,clickHandler){console.log("SoftRobotics work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="soft-robotics";this.loadSprite()};SoftRobotics.prototype.loadSprite=function(){var self=this;var handle=new PIXI.Sprite.fromFrame("assets/works/soft_robotics_2.png");handle.anchor.x=.5;handle.anchor.y=.5;handle.position.x=284;handle.position.y=554;handle.scale={x:.3,y:.3};var pump=new PIXI.Sprite.fromFrame("assets/works/soft_robotics_1.png");pump.anchor.x=.5;pump.anchor.y=.5;pump.position.x=351;pump.position.y=564;pump.scale={x:.3,y:.3};pump.buttonMode=true;pump.setInteractive(true);pump.click=function(mouseData){console.log("SoftRobotics CLICK");self.eventEmitter.emit("work_clicked",self)};var actuator=new PIXI.Sprite.fromFrame("assets/works/soft_robotics_3.png");actuator.anchor.x=.5;actuator.anchor.y=.5;actuator.position.x=355;actuator.position.y=-23;actuator.scale={x:1,y:1};this.stage.addChild(handle);this.stage.addChild(pump);pump.addChild(actuator);TweenMax.to(handle.position,2,{ease:Power2.easeIn,repeat:-1,yoyo:true,x:291});TweenMax.to(actuator.scale,2,{ease:Power4.easeIn,repeat:-1,yoyo:true,x:1.1,y:1.1})};SoftRobotics.prototype.update=function(){};SoftRobotics.prototype.getData=function(){return{name:"Soft Robotics",description:[{text:"After facing the harsh reality of over-heating robots and uncanny movement, I discovered the world of Soft. My first serious involvement with the field was the Soft Robotics workshop I organized in Aalto University with my colleague Kilian Kottmeier",vimeo:"https://player.vimeo.com/video/210919628?api=1&player_id=player_1"},{text:"During a semester in Japan in 2017 I was able to meet the pioneers of Soft Robotics and research the uses for Telepresence.",youtube:"https://www.youtube.com/embed/Am_UXkqsaZ8"},{text:"My Master's thesis in Aalto university focused on the fabircation of a soft robotic arm for my telepresence robot, Hitodama",youtube:"https://www.youtube.com/embed/EGhW1B1sjnU"},{youtube:"https://www.youtube.com/embed/ouPlm0X_K5Y"}],links:[{url:"https://www.youtube.com/playlist?list=PL530jd0zZ9Epp9r5ZpmqXw8wshI9edvJq",description:"My Soft Robotics Youtube channel"},{url:"https://cloud.avner.us/index.php/s/cj1eDoS8bRHMFFc",description:"Paper - Soft Robotics for Telepresence and Human Interaction"},{url:"http://wiki.avner.us/doku.php?id=soft-robotics:start",description:"My Soft Robotics Wiki"},{url:"https://chat.avner.us/channel/soft-robotics",description:"My Soft Robotics Chat Server"}]}}},{"../event_manager":2}],26:[function(require,module,exports){"use strict";module.exports=function(){return new Stir};module.exports.Stir=Stir;function Stir(){if(!(this instanceof Stir))return new Stir;this.loaded=false;console.log("Stir work constructed")}Stir.prototype.init=function(opts,stage,clickHandler){console.log("Stir work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="stir";this.loadSprite()};Stir.prototype.loadSprite=function(){var self=this;var bed=new PIXI.Sprite.fromFrame("assets/works/bed.png");bed.anchor.x=.5;bed.anchor.y=.5;bed.position.x=720;bed.position.y=526;bed.scale={x:.4,y:.4};bed.buttonMode=true;bed.setInteractive(true);bed.click=function(mouseData){console.log("Stir CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(bed)};Stir.prototype.update=function(){};Stir.prototype.getData=function(){return{name:"Stir",description:[{text:"Stir is a personalized wake-up service that brings people gently into the new day. It was co-created by Rebecca Lieberman and Julia Irwin. It is part of the 'Veryveryshort' project of the National Film Bord Canada and premiered on IDFA Doclab 2017.",image:"images/works/stir.png"}],links:[{url:"http://stir.veryveryshort.com",description:"Launch the mobile app"}]}}},{"../event_manager":2}],27:[function(require,module,exports){"use strict";module.exports=function(){return new TPV};module.exports.TPV=TPV;function TPV(){if(!(this instanceof TPV))return new TPV;this.loaded=false;console.log("TPV work constructed")}TPV.prototype.init=function(opts,stage,clickHandler){console.log("TPV work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="tpv";this.loadSprite()};TPV.prototype.loadSprite=function(){var self=this;var blackHole=new PIXI.Sprite.fromFrame("assets/works/black_hole.png");blackHole.anchor.x=.5;blackHole.anchor.y=.5;blackHole.position.x=1085;blackHole.position.y=490;blackHole.scale={x:.7,y:.7};blackHole.buttonMode=true;blackHole.setInteractive(true);blackHole.click=function(mouseData){console.log("TPV CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(blackHole)};TPV.prototype.update=function(){};TPV.prototype.getData=function(){return{name:"Total Perspective Vortex",description:[{text:'Admission project for Media Lab Helsinki - In my take on the Hitchiker\'s guide to the Galaxy Total Perspective Vortex, I try to visualize the Quantum Mechanical interpretation of the creation of the universe, as also suggested by Stephen Hawking. This interpretation sought to deal with the theological argument that claims there must be some kind of organizing force behind the starting conditions of the big bang, otherwise how did the universe evolve so perfectly? The proposed answer to that question is that there is in fact an infinite number of configurations for the physical structure of the universe, or an infinite number of universes - We just happen to be living and perceiving in one configuration that "worked".',image:"images/works/tpv.png",imageBig:"images/works/tpv_big.png"}],links:[{url:"http://avnerus.github.io/tpv",description:"Enter the vortex (For Google Cardboard)"},{url:"https://github.com/Avnerus/mlabhelsinki",description:"View the source code"}]}}},{"../event_manager":2}],28:[function(require,module,exports){"use strict";module.exports=function(){return new Train};module.exports.Train=Train;function Train(){if(!(this instanceof Train))return new Train;this.loaded=false;console.log("Train work constructed")}Train.prototype.init=function(opts,stage,clickHandler){var self=this;console.log("Train work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.train1=PIXI.Sprite.fromFrame("assets/works/train.png");this.train1.buttonMode=true;this.train1.setInteractive(true);this.train1.anchor.x=.5;this.train1.anchor.y=.5;this.train1.scale.x=.7;this.train1.scale.y=.7;this.stage.addChild(this.train1);this.train2=PIXI.Sprite.fromFrame("assets/works/train.png");this.train2.anchor.x=.5;this.train2.anchor.y=.5;this.train2.scale.x=.7;this.train2.scale.y=.7;this.train2.buttonMode=true;this.train2.setInteractive(true);this.train2.click=this.train1.click=function(mouseData){console.log("TRAIN CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(this.train2);this.hashURL="train";this.run()};Train.prototype.update=function(){};Train.prototype.run=function(){var self=this;var trainSpeed=150;this.train2.position.x=0-this.train1.width;this.train2.position.y=632;this.train1.position.x=0;this.train1.position.y=632;this.train1.rotation=0;this.train2.rotation=0;var t1=new TimelineMax;t1.to(this.train1.position,780/trainSpeed,{x:780,ease:Linear.easeNone});t1.to(this.train1.position,1,{x:868,y:540,ease:Linear.easeNone});t1.to(this.train1,1,{ease:Power2.easeOut,rotation:MathUtil.toRadians(-55)},"-=1");t1.to(this.train1.position,7.5,{ease:Linear.easeNone,bezier:{curviness:1.5,values:[{x:1010,y:425},{x:1215,y:450},{x:1450,y:900}]}});t1.to(this.train1,6.8,{ease:Linear.easeNone,rotation:MathUtil.toRadians(128)},"-=7.3");t1.to(this.train1.position,.15,{x:1500,y:0,ease:Linear.easeNone});var t2=new TimelineMax({onComplete:function(){console.log("Timeline2 complete!!");self.run()}});t2.to(this.train2.position,780/trainSpeed,{x:780-this.train1.width,ease:Linear.easeNone});t2.to(this.train2.position,this.train1.width/trainSpeed,{x:780,ease:Linear.easeNone},"+=0.15");t2.to(this.train2.position,1,{x:868,y:540,ease:Linear.easeNone});t2.to(this.train2,1,{ease:Power2.easeOut,rotation:MathUtil.toRadians(-55)},"-=1");t2.to(this.train2.position,7.5,{ease:Linear.easeNone,bezier:{curviness:1.5,values:[{x:1010,y:425},{x:1215,y:450},{x:1450,y:900}]}});t2.to(this.train2,6.8,{ease:Linear.easeNone,rotation:MathUtil.toRadians(128)},"-=7.3");t2.play();t1.play()};Train.prototype.getData=function(){return{name:"Railroad Island",description:[{text:"A railroad simulation mobile game, co-developed with two fellow Australians, for a Tokyo based publisher. I have developed the train and railroad components using Unity game engine",image:"images/works/train1.jpg"},{image:"images/works/train2.png",imageBig:"images/works/train2_big.png"}],links:[{url:"https://play.google.com/store/apps/details?id=jp.colopl.entrain",description:"Google Play Store"},{url:"https://itunes.apple.com/us/app/railroad-island!/id647758295?mt=8",description:"iTunes App Store"}]}}},{"../event_manager":2}],29:[function(require,module,exports){"use strict";module.exports=function(){return new Tzina};module.exports.Tzina=Tzina;function Tzina(){if(!(this instanceof Tzina))return new Tzina;this.loaded=false;console.log("Tzina work constructed")}Tzina.prototype.init=function(opts,stage,clickHandler){console.log("Tzina work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="tzina";this.loadAnim("tzina",116,4)};Tzina.prototype.loadAnim=function(name,frames,skip){var tzina_seq=[];for(var i=0;i<=frames;i+=skip){var num=MathUtil.pad(i,4);var texture=new PIXI.Texture.fromFrame(num+".png");tzina_seq.push(texture)}console.log("Tzina seq",tzina_seq);var fountain=new PIXI.MovieClip(tzina_seq);fountain.anchor.x=.5;fountain.anchor.y=.5;fountain.position.x=461;fountain.position.y=307;fountain.scale={x:.4,y:.5};fountain.loop=true;fountain.visible=true;fountain.animationSpeed=.15;fountain.buttonMode=true;fountain.setInteractive(true);var self=this;fountain.click=function(mouseData){console.log("TZINA CLICK");self.eventEmitter.emit("work_clicked",self)};fountain.play();this.stage.addChild(fountain);this.clickMe=fountain};Tzina.prototype.update=function(){};Tzina.prototype.getData=function(){return{name:"Tzina : Symphony of Longing",description:[{text:"Tzina : Symphony of Longing is a WebVR documentary for the HTC Vive. I was the lead developer of this project, directed by Shirin Anlen. It premiered at IDFA Doclab of 2016 and was later on featured in plenty of other international festivals.",image:"images/works/Tzina_poster_docaviv_web4_670.jpg"},{text:"In January 2017, Tzina Dizengoff square, one of Tel Avivs emblematic sites, was demolished. The square became a home for the lonely and marginalized characters of the area. This project tells the story of the people who gravitated toward the square and spent their days in it. In this interactive webVR documentary, they talk about their lives and the square. Together, they form a poetic musing on lost loves and things that have passed. TZINA invites you to physically explore the virtual square, combining elements of fantasy, while experiencing the square in different times of the day.",image:"images/works/Tzina-symphony-of-longing.jpg"},{youtube:"https://www.youtube.com/embed/tkLO9YHtnUo"}],links:[{url:"http://tzina.space",description:"Launch the experience"}]}}},{"../event_manager":2}],30:[function(require,module,exports){"use strict";module.exports=function(){return new WallSim};module.exports.WallSim=WallSim;function WallSim(){if(!(this instanceof WallSim))return new WallSim;this.loaded=false;console.log("WallSim work constructed")}WallSim.prototype.init=function(opts,stage,clickHandler){console.log("WallSim work initializing with opts",opts);this.stage=stage;this.opts=opts;this.eventEmitter=require("../event_manager").getEmitter();this.hashURL="wallsim";this.frameCount=0;this.reds=[];this.loadSprite()};WallSim.prototype.loadSprite=function(){var self=this;var container=new PIXI.DisplayObjectContainer;container.position.x=1051;container.position.y=585;this.matrix=[];for(var i=0;i<6;i++){var row=[];for(var j=0;j<6;j++){var cell=new PIXI.Graphics;this.drawRect(i,j,cell,11250861);row.push(cell);container.addChild(cell)}this.matrix.push(row)}container.buttonMode=true;container.setInteractive(true);container.hitArea=new PIXI.Rectangle(0,0,60,60);container.click=function(mouseData){console.log("WallSim CLICK");self.eventEmitter.emit("work_clicked",self)};this.stage.addChild(container)};WallSim.prototype.drawRect=function(row,col,gfx,fill){gfx.clear();gfx.beginFill(fill);gfx.lineStyle(1,0);gfx.drawRect(col*10,row*10,10,10)};WallSim.prototype.update=function(){this.frameCount+=1;if(this.frameCount==5){this.frameCount=0;if(this.reds.length==3){var old=this.reds.shift();this.drawRect(old.row,old.col,old.cell,11250861)}var row=Math.floor(Math.random()*6);var col=Math.floor(Math.random()*6);var cell=this.matrix[row][col];this.drawRect(row,col,cell,16711680);this.reds.push({row:row,col:col,cell:cell})}};WallSim.prototype.getData=function(){return{name:"Dynamics of the Israeli-Palestinian Separation Barrier  Greed and Violence",description:[{text:"A simulation that uses Agent Based Modeling - a computational model that is widely used in social studies research, to model the construction of the Israeli-Palestinian separation barrier that runs through the Green Line.",image:"images/works/wallsim.png"},{text:"A common criticism regarding the construction of the barrier is that it does not strictly address the security concerns of the region, and instead it is manipulated to claim new territory for the perceived future border between Israel and Palestine. The simulation models the behavior of Israeli settlers and Palestinian citizens on two sides of the border, and computes whether the level of greediness in the construction of the barrier, that is  the size of the area that is reserved to Israel when placing the wall, has any affect on the level of violence in the region.",vimeo:"https://player.vimeo.com/video/250362369?api=1&player_id=player_1"}],links:[{url:"/docs/Final_Project_Separation_Barrier_Greed_And_Violence_Avner_Peled.pdf",description:"Result paper"}]}}},{"../event_manager":2}],31:[function(require,module,exports){var util=require("util/");var pSlice=Array.prototype.slice;var hasOwn=Object.prototype.hasOwnProperty;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=stackStartFunction.name;var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return""+value}if(util.isNumber(value)&&!isFinite(value)){return value.toString()}if(util.isFunction(value)||util.isRegExp(value)){return value.toString()}return value}function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n)}else{return s}}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};function _deepEqual(actual,expected){if(actual===expected){return true}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false}return true}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected}else{return objEquiv(actual,expected)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return false;if(a.prototype!==b.prototype)return false;if(util.isPrimitive(a)||util.isPrimitive(b)){return a===b}var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b)}var ka=objectKeys(a),kb=objectKeys(b),key,i;if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}else if(actual instanceof expected){return true}else if(expected.call({},actual)===true){return true}return false}function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null}try{block()}catch(e){actual=e}message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)))};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)))};assert.ifError=function(err){if(err){throw err}};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}},{"util/":122}],32:[function(require,module,exports){"use strict";exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;function init(){var i;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var len=code.length;for(i=0;i<len;i++){lookup[i]=code[i]}for(i=0;i<len;++i){revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63}init();function toByteArray(b64){var i,j,l,tmp,placeHolders,arr;var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders=b64[len-2]==="="?2:b64[len-1]==="="?1:0;arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=(tmp&16711680)>>16;arr[L++]=(tmp&65280)>>8;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},{}],33:[function(require,module,exports){},{}],34:[function(require,module,exports){(function(process,Buffer){var msg=require("pako/lib/zlib/messages");var zstream=require("pako/lib/zlib/zstream");var zlib_deflate=require("pako/lib/zlib/deflate.js");var zlib_inflate=require("pako/lib/zlib/inflate.js");var constants=require("pako/lib/zlib/constants");for(var key in constants){exports[key]=constants[key]}exports.NONE=0;exports.DEFLATE=1;exports.INFLATE=2;exports.GZIP=3;exports.GUNZIP=4;exports.DEFLATERAW=5;exports.INFLATERAW=6;exports.UNZIP=7;function Zlib(mode){if(mode<exports.DEFLATE||mode>exports.UNZIP)throw new TypeError("Bad argument");this.mode=mode;this.init_done=false;this.write_in_progress=false;this.pending_close=false;this.windowBits=0;this.level=0;this.memLevel=0;this.strategy=0;this.dictionary=null}Zlib.prototype.init=function(windowBits,level,memLevel,strategy,dictionary){this.windowBits=windowBits;this.level=level;this.memLevel=memLevel;this.strategy=strategy;if(this.mode===exports.GZIP||this.mode===exports.GUNZIP)this.windowBits+=16;if(this.mode===exports.UNZIP)this.windowBits+=32;if(this.mode===exports.DEFLATERAW||this.mode===exports.INFLATERAW)this.windowBits=-this.windowBits;this.strm=new zstream;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:var status=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:var status=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(status!==exports.Z_OK){this._error(status);return}this.write_in_progress=false;this.init_done=true};Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")};Zlib.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===exports.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};Zlib.prototype.write=function(flush,input,in_off,in_len,out,out_off,out_len){this._writeCheck();this.write_in_progress=true;var self=this;process.nextTick(function(){self.write_in_progress=false;var res=self._write(flush,input,in_off,in_len,out,out_off,out_len);self.callback(res[0],res[1]);if(self.pending_close)self.close()});return this};function bufferSet(data,offset){for(var i=0;i<data.length;i++){this[offset+i]=data[i]}}Zlib.prototype.writeSync=function(flush,input,in_off,in_len,out,out_off,out_len){this._writeCheck();return this._write(flush,input,in_off,in_len,out,out_off,out_len)};Zlib.prototype._write=function(flush,input,in_off,in_len,out,out_off,out_len){this.write_in_progress=true;if(flush!==exports.Z_NO_FLUSH&&flush!==exports.Z_PARTIAL_FLUSH&&flush!==exports.Z_SYNC_FLUSH&&flush!==exports.Z_FULL_FLUSH&&flush!==exports.Z_FINISH&&flush!==exports.Z_BLOCK){throw new Error("Invalid flush value")}if(input==null){input=new Buffer(0);in_len=0;in_off=0}if(out._set)out.set=out._set;else out.set=bufferSet;var strm=this.strm;strm.avail_in=in_len;strm.input=input;strm.next_in=in_off;strm.avail_out=out_len;strm.output=out;strm.next_out=out_off;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:var status=zlib_deflate.deflate(strm,flush);break;case exports.UNZIP:case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:var status=zlib_inflate.inflate(strm,flush);break;default:throw new Error("Unknown mode "+this.mode)}if(status!==exports.Z_STREAM_END&&status!==exports.Z_OK){this._error(status)}this.write_in_progress=false;return[strm.avail_in,strm.avail_out]};Zlib.prototype.close=function(){if(this.write_in_progress){this.pending_close=true;return}this.pending_close=false;if(this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW){zlib_deflate.deflateEnd(this.strm)}else{zlib_inflate.inflateEnd(this.strm)}this.mode=exports.NONE};Zlib.prototype.reset=function(){switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:var status=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:var status=zlib_inflate.inflateReset(this.strm);break}if(status!==exports.Z_OK){this._error(status)}};Zlib.prototype._error=function(status){this.onerror(msg[status]+": "+this.strm.msg,status);this.write_in_progress=false;if(this.pending_close)this.close()};exports.Zlib=Zlib}).call(this,require("_process"),require("buffer").Buffer)},{_process:93,buffer:41,"pako/lib/zlib/constants":83,"pako/lib/zlib/deflate.js":85,"pako/lib/zlib/inflate.js":87,"pako/lib/zlib/messages":89,"pako/lib/zlib/zstream":91}],35:[function(require,module,exports){(function(process,Buffer){var Transform=require("_stream_transform");var binding=require("./binding");var util=require("util");var assert=require("assert").ok;binding.Z_MIN_WINDOWBITS=8;binding.Z_MAX_WINDOWBITS=15;binding.Z_DEFAULT_WINDOWBITS=15;binding.Z_MIN_CHUNK=64;binding.Z_MAX_CHUNK=Infinity;binding.Z_DEFAULT_CHUNK=16*1024;binding.Z_MIN_MEMLEVEL=1;binding.Z_MAX_MEMLEVEL=9;binding.Z_DEFAULT_MEMLEVEL=8;binding.Z_MIN_LEVEL=-1;binding.Z_MAX_LEVEL=9;binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;Object.keys(binding).forEach(function(k){if(k.match(/^Z/))exports[k]=binding[k]});exports.codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR};Object.keys(exports.codes).forEach(function(k){exports.codes[exports.codes[k]]=k});exports.Deflate=Deflate;exports.Inflate=Inflate;exports.Gzip=Gzip;exports.Gunzip=Gunzip;exports.DeflateRaw=DeflateRaw;exports.InflateRaw=InflateRaw;exports.Unzip=Unzip;exports.createDeflate=function(o){return new Deflate(o)};exports.createInflate=function(o){return new Inflate(o)};exports.createDeflateRaw=function(o){return new DeflateRaw(o)};exports.createInflateRaw=function(o){return new InflateRaw(o)};exports.createGzip=function(o){return new Gzip(o)};exports.createGunzip=function(o){return new Gunzip(o)};exports.createUnzip=function(o){return new Unzip(o)};exports.deflate=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Deflate(opts),buffer,callback)};exports.deflateSync=function(buffer,opts){return zlibBufferSync(new Deflate(opts),buffer)};exports.gzip=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Gzip(opts),buffer,callback)};exports.gzipSync=function(buffer,opts){return zlibBufferSync(new Gzip(opts),buffer)};exports.deflateRaw=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new DeflateRaw(opts),buffer,callback)};exports.deflateRawSync=function(buffer,opts){return zlibBufferSync(new DeflateRaw(opts),buffer)};exports.unzip=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Unzip(opts),buffer,callback)};exports.unzipSync=function(buffer,opts){return zlibBufferSync(new Unzip(opts),buffer)};exports.inflate=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Inflate(opts),buffer,callback)};exports.inflateSync=function(buffer,opts){return zlibBufferSync(new Inflate(opts),buffer)};exports.gunzip=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new Gunzip(opts),buffer,callback)};exports.gunzipSync=function(buffer,opts){return zlibBufferSync(new Gunzip(opts),buffer)};exports.inflateRaw=function(buffer,opts,callback){if(typeof opts==="function"){callback=opts;opts={}}return zlibBuffer(new InflateRaw(opts),buffer,callback)};exports.inflateRawSync=function(buffer,opts){return zlibBufferSync(new InflateRaw(opts),buffer)};function zlibBuffer(engine,buffer,callback){var buffers=[];var nread=0;engine.on("error",onError);engine.on("end",onEnd);engine.end(buffer);flow();function flow(){var chunk;while(null!==(chunk=engine.read())){buffers.push(chunk);nread+=chunk.length}engine.once("readable",flow)}function onError(err){engine.removeListener("end",onEnd);engine.removeListener("readable",flow);callback(err)}function onEnd(){var buf=Buffer.concat(buffers,nread);buffers=[];callback(null,buf);engine.close()}}function zlibBufferSync(engine,buffer){if(typeof buffer==="string")buffer=new Buffer(buffer);if(!Buffer.isBuffer(buffer))throw new TypeError("Not a string or buffer");var flushFlag=binding.Z_FINISH;return engine._processChunk(buffer,flushFlag)}function Deflate(opts){if(!(this instanceof Deflate))return new Deflate(opts);Zlib.call(this,opts,binding.DEFLATE)}function Inflate(opts){if(!(this instanceof Inflate))return new Inflate(opts);Zlib.call(this,opts,binding.INFLATE)}function Gzip(opts){if(!(this instanceof Gzip))return new Gzip(opts);Zlib.call(this,opts,binding.GZIP)}function Gunzip(opts){if(!(this instanceof Gunzip))return new Gunzip(opts);Zlib.call(this,opts,binding.GUNZIP)}function DeflateRaw(opts){if(!(this instanceof DeflateRaw))return new DeflateRaw(opts);Zlib.call(this,opts,binding.DEFLATERAW)}function InflateRaw(opts){if(!(this instanceof InflateRaw))return new InflateRaw(opts);Zlib.call(this,opts,binding.INFLATERAW)}function Unzip(opts){if(!(this instanceof Unzip))return new Unzip(opts);Zlib.call(this,opts,binding.UNZIP)}function Zlib(opts,mode){this._opts=opts=opts||{};this._chunkSize=opts.chunkSize||exports.Z_DEFAULT_CHUNK;Transform.call(this,opts);if(opts.flush){if(opts.flush!==binding.Z_NO_FLUSH&&opts.flush!==binding.Z_PARTIAL_FLUSH&&opts.flush!==binding.Z_SYNC_FLUSH&&opts.flush!==binding.Z_FULL_FLUSH&&opts.flush!==binding.Z_FINISH&&opts.flush!==binding.Z_BLOCK){throw new Error("Invalid flush flag: "+opts.flush)}}this._flushFlag=opts.flush||binding.Z_NO_FLUSH;if(opts.chunkSize){if(opts.chunkSize<exports.Z_MIN_CHUNK||opts.chunkSize>exports.Z_MAX_CHUNK){throw new Error("Invalid chunk size: "+opts.chunkSize)}}if(opts.windowBits){if(opts.windowBits<exports.Z_MIN_WINDOWBITS||opts.windowBits>exports.Z_MAX_WINDOWBITS){throw new Error("Invalid windowBits: "+opts.windowBits)}}if(opts.level){if(opts.level<exports.Z_MIN_LEVEL||opts.level>exports.Z_MAX_LEVEL){throw new Error("Invalid compression level: "+opts.level)}}if(opts.memLevel){if(opts.memLevel<exports.Z_MIN_MEMLEVEL||opts.memLevel>exports.Z_MAX_MEMLEVEL){throw new Error("Invalid memLevel: "+opts.memLevel)}}if(opts.strategy){if(opts.strategy!=exports.Z_FILTERED&&opts.strategy!=exports.Z_HUFFMAN_ONLY&&opts.strategy!=exports.Z_RLE&&opts.strategy!=exports.Z_FIXED&&opts.strategy!=exports.Z_DEFAULT_STRATEGY){throw new Error("Invalid strategy: "+opts.strategy)}}if(opts.dictionary){if(!Buffer.isBuffer(opts.dictionary)){throw new Error("Invalid dictionary: it should be a Buffer instance")}}this._binding=new binding.Zlib(mode);var self=this;this._hadError=false;this._binding.onerror=function(message,errno){self._binding=null;self._hadError=true;var error=new Error(message);error.errno=errno;error.code=exports.codes[errno];self.emit("error",error)};var level=exports.Z_DEFAULT_COMPRESSION;if(typeof opts.level==="number")level=opts.level;var strategy=exports.Z_DEFAULT_STRATEGY;if(typeof opts.strategy==="number")strategy=opts.strategy;this._binding.init(opts.windowBits||exports.Z_DEFAULT_WINDOWBITS,level,opts.memLevel||exports.Z_DEFAULT_MEMLEVEL,strategy,opts.dictionary);this._buffer=new Buffer(this._chunkSize);this._offset=0;this._closed=false;this._level=level;this._strategy=strategy;this.once("end",this.close)}util.inherits(Zlib,Transform);Zlib.prototype.params=function(level,strategy,callback){if(level<exports.Z_MIN_LEVEL||level>exports.Z_MAX_LEVEL){throw new RangeError("Invalid compression level: "+level)}if(strategy!=exports.Z_FILTERED&&strategy!=exports.Z_HUFFMAN_ONLY&&strategy!=exports.Z_RLE&&strategy!=exports.Z_FIXED&&strategy!=exports.Z_DEFAULT_STRATEGY){throw new TypeError("Invalid strategy: "+strategy)}if(this._level!==level||this._strategy!==strategy){var self=this;this.flush(binding.Z_SYNC_FLUSH,function(){self._binding.params(level,strategy);if(!self._hadError){self._level=level;self._strategy=strategy;if(callback)callback()}})}else{process.nextTick(callback)}};Zlib.prototype.reset=function(){return this._binding.reset()};Zlib.prototype._flush=function(callback){this._transform(new Buffer(0),"",callback)};Zlib.prototype.flush=function(kind,callback){var ws=this._writableState;if(typeof kind==="function"||kind===void 0&&!callback){callback=kind;kind=binding.Z_FULL_FLUSH}if(ws.ended){if(callback)process.nextTick(callback)}else if(ws.ending){if(callback)this.once("end",callback)}else if(ws.needDrain){var self=this;this.once("drain",function(){self.flush(callback)})}else{this._flushFlag=kind;this.write(new Buffer(0),"",callback)}};Zlib.prototype.close=function(callback){if(callback)process.nextTick(callback);if(this._closed)return;this._closed=true;this._binding.close();var self=this;process.nextTick(function(){self.emit("close")})};Zlib.prototype._transform=function(chunk,encoding,cb){var flushFlag;var ws=this._writableState;var ending=ws.ending||ws.ended;var last=ending&&(!chunk||ws.length===chunk.length);if(!chunk===null&&!Buffer.isBuffer(chunk))return cb(new Error("invalid input"));if(last)flushFlag=binding.Z_FINISH;else{flushFlag=this._flushFlag;if(chunk.length>=ws.length){this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH}}var self=this;this._processChunk(chunk,flushFlag,cb)};Zlib.prototype._processChunk=function(chunk,flushFlag,cb){var availInBefore=chunk&&chunk.length;var availOutBefore=this._chunkSize-this._offset;var inOff=0;var self=this;var async=typeof cb==="function";if(!async){var buffers=[];var nread=0;var error;this.on("error",function(er){error=er});do{var res=this._binding.writeSync(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore)}while(!this._hadError&&callback(res[0],res[1]));if(this._hadError){throw error}var buf=Buffer.concat(buffers,nread);this.close();return buf}var req=this._binding.write(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);req.buffer=chunk;req.callback=callback;function callback(availInAfter,availOutAfter){if(self._hadError)return;var have=availOutBefore-availOutAfter;assert(have>=0,"have should not go down");if(have>0){var out=self._buffer.slice(self._offset,self._offset+have);self._offset+=have;if(async){self.push(out)}else{buffers.push(out);nread+=out.length}}if(availOutAfter===0||self._offset>=self._chunkSize){availOutBefore=self._chunkSize;self._offset=0;self._buffer=new Buffer(self._chunkSize)}if(availOutAfter===0){inOff+=availInBefore-availInAfter;availInBefore=availInAfter;if(!async)return true;var newReq=self._binding.write(flushFlag,chunk,inOff,availInBefore,self._buffer,self._offset,self._chunkSize);newReq.callback=callback;newReq.buffer=chunk;return}if(!async)return false;cb()}};util.inherits(Deflate,Zlib);util.inherits(Inflate,Zlib);util.inherits(Gzip,Zlib);util.inherits(Gunzip,Zlib);util.inherits(DeflateRaw,Zlib);util.inherits(InflateRaw,Zlib);util.inherits(Unzip,Zlib)}).call(this,require("_process"),require("buffer").Buffer)},{"./binding":34,_process:93,_stream_transform:40,assert:31,buffer:41,util:122}],36:[function(require,module,exports){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=require("process-nextick-args");var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;processNextTick(onEndNT,this)}function onEndNT(self){self.end()}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}},{"./_stream_readable":37,"./_stream_writable":39,"core-util-is":44,inherits:71,"process-nextick-args":92}],37:[function(require,module,exports){(function(process){"use strict";module.exports=Readable;var processNextTick=require("process-nextick-args");var isArray=require("isarray");var Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events");var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var StringDecoder;util.inherits(Readable,Stream);var Duplex;function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}var Duplex;function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options&&typeof options.read==="function")this._read=options.read;Stream.call(this)}Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(!state.objectMode&&typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=new Buffer(chunk,encoding);encoding=""}}return readableAddChunk(this,state,chunk,encoding,false)};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",true)};Readable.prototype.isPaused=function(){return this._readableState.flowing===false};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(chunk===null){state.reading=false;onEofChunk(stream,state)}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{if(state.decoder&&!addToFront&&!encoding)chunk=state.decoder.write(chunk);if(!addToFront)state.reading=false;if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}}else if(!addToFront){state.reading=false}return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(state.length===0&&state.ended)return 0;if(state.objectMode)return n===0?0:1;if(n===null||isNaN(n)){if(state.flowing&&state.buffer.length)return state.buffer[0].length;else return state.length}if(n<=0)return 0;if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0}else{return state.length}}return n}Readable.prototype.read=function(n){debug("read",n);var state=this._readableState;var nOrig=n;if(typeof n!=="number"||n>0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false}if(doRead&&!state.reading)n=howMuchToRead(nOrig,state);var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}state.length-=n;if(state.length===0&&!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended&&state.length===0)endReadable(this);if(ret!==null)this.emit("data",ret);return ret};function chunkInvalid(state,chunk){var er=null;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)processNextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;processNextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)processNextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable){debug("onunpipe");if(readable===src){cleanup()}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",cleanup);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);if(false===ret){if(state.pipesCount===1&&state.pipes[0]===dest&&src.listenerCount("data")===1&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}if(!dest._events||!dest._events.error)dest.on("error",onerror);else if(isArray(dest._events.error))dest._events.error.unshift(onerror);else dest._events.error=[onerror,dest._events.error];function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);if(i===-1)return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"&&false!==this._readableState.flowing){this.resume()}if(ev==="readable"&&this.readable){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){processNextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this,state)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;processNextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);if(state.flowing){do{var chunk=stream.read()}while(null!==chunk&&state.flowing)}}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}var events=["error","close","destroy","pause","resume"];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))});self._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)return null;if(length===0)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length){if(stringMode)ret=list.join("");else if(list.length===1)ret=list[0];else ret=Buffer.concat(list,length);list.length=0}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n)}else if(n===list[0].length){ret=list.shift()}else{if(stringMode)ret="";else ret=new Buffer(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var buf=list[0];var cpy=Math.min(n-c,buf.length);if(stringMode)ret+=buf.slice(0,cpy);else buf.copy(ret,c,0,cpy);if(cpy<buf.length)list[0]=buf.slice(cpy);else list.shift();c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");if(!state.endEmitted){state.ended=true;processNextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"))},{"./_stream_duplex":36,_process:93,buffer:41,"core-util-is":44,events:47,inherits:71,isarray:74,"process-nextick-args":92,"string_decoder/":114,util:33}],38:[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)stream.push(data);if(cb)cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(er){done(stream,er)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":36,"core-util-is":44,inherits:71}],39:[function(require,module,exports){"use strict";module.exports=Writable;var processNextTick=require("process-nextick-args");var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;util.inherits(Writable,Stream);function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}var Duplex;function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}WritableState.prototype.getBuffer=function writableStateGetBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.")})}catch(_){}})();var Duplex;function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er);processNextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(typeof encoding==="function"){cb=encoding;encoding=null}if(Buffer.isBuffer(chunk))encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=new Buffer(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(Buffer.isBuffer(chunk))encoding="buffer";var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb);if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync)processNextTick(cb,er);else cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){processNextTick(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var buffer=[];var cbs=[];while(entry){cbs.push(entry.callback);buffer.push(entry);entry=entry.next}state.pendingcb++;state.lastBufferedRequest=null;doWrite(stream,state,true,state.length,buffer,"",function(err){for(var i=0;i<cbs.length;i++){state.pendingcb--;cbs[i](err)}})}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function prefinish(stream,state){if(!state.prefinished){state.prefinished=true;stream.emit("prefinish")}}function finishMaybe(stream,state){var need=needFinish(state);if(need){if(state.pendingcb===0){prefinish(stream,state);state.finished=true;stream.emit("finish")}else{prefinish(stream,state)}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)processNextTick(cb);else stream.once("finish",cb)}state.ended=true}},{"./_stream_duplex":36,buffer:41,"core-util-is":44,events:47,inherits:71,"process-nextick-args":92,"util-deprecate":119}],40:[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":38}],41:[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("isarray");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.foo=function(){return 42};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1]);return new Buffer(arg)}if(!Buffer.TYPED_ARRAY_SUPPORT){this.length=0;this.parent=undefined}if(typeof arg==="number"){return fromNumber(this,arg)}if(typeof arg==="string"){return fromString(this,arg,arguments.length>1?arguments[1]:"utf8")}return fromObject(this,arg)}Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}return that}function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding==="")encoding="utf8";var length=byteLength(string,encoding)|0;that=allocate(that,length);that.write(string,encoding);return that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(object==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}if(object instanceof ArrayBuffer){return fromArrayBuffer(that,object)}}if(object.length)return fromArrayLike(that,object);return fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=checked(buffer.length)|0;that=allocate(that,length);buffer.copy(that,0,0,length);return that}function fromArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromTypedArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array){array.byteLength;if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(array);that.__proto__=Buffer.prototype}else{that=fromTypedArray(that,new Uint8Array(array))}return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromJsonObject(that,object){var array;var length=0;if(object.type==="Buffer"&&isArray(object.data)){array=object.data;length=checked(array.length)|0}that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}else{Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined}function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{that.length=length}var fromPool=length!==0&&length<=Buffer.poolSize>>>1;if(fromPool)that.parent=rootParent;return that}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;var i=0;var len=Math.min(x,y);while(i<len){if(a[i]!==b[i])break;++i}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;i++){length+=list[i].length}}var buf=new Buffer(length);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};function byteLength(string,encoding){if(typeof string!=="string")string=""+string;var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;start=start|0;end=end===undefined||end===Infinity?this.length:end|0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length|0;length=swap}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":32,ieee754:70,isarray:42}],42:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],43:[function(require,module,exports){module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],44:[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":72}],45:[function(require,module,exports){(function(Buffer){"use strict";var iconvLite=require("iconv-lite");var Iconv=require("./iconv-loader");module.exports.convert=convert;function convert(str,to,from,useLite){from=checkEncoding(from||"UTF-8");to=checkEncoding(to||"UTF-8");str=str||"";var result;if(from!=="UTF-8"&&typeof str==="string"){str=new Buffer(str,"binary")}if(from===to){if(typeof str==="string"){result=new Buffer(str)}else{result=str}}else if(Iconv&&!useLite){try{result=convertIconv(str,to,from)}catch(E){console.error(E);try{result=convertIconvLite(str,to,from)}catch(E){console.error(E);result=str}}}else{try{result=convertIconvLite(str,to,from)}catch(E){console.error(E);result=str}}if(typeof result==="string"){result=new Buffer(result,"utf-8")}return result}function convertIconv(str,to,from){var response,iconv;iconv=new Iconv(from,to+"//TRANSLIT//IGNORE");response=iconv.convert(str);return response.slice(0,response.length)}function convertIconvLite(str,to,from){if(to==="UTF-8"){return iconvLite.decode(str,from)}else if(from==="UTF-8"){return iconvLite.encode(str,to)}else{return iconvLite.encode(iconvLite.decode(str,from),to)}}function checkEncoding(name){return(name||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}}).call(this,require("buffer").Buffer)},{"./iconv-loader":46,buffer:41,"iconv-lite":68}],46:[function(require,module,exports){"use strict";var iconv_package;var Iconv;try{iconv_package="iconv";Iconv=require(iconv_package).Iconv}catch(E){}module.exports=Iconv},{}],47:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],48:[function(require,module,exports){var http=require("http");var https=module.exports;for(var key in http){if(http.hasOwnProperty(key))https[key]=http[key]}https.request=function(params,cb){if(!params)params={};params.scheme="https";params.protocol="https:";return http.request.call(this,params,cb)}},{http:109}],49:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;exports._dbcs=DBCSCodec;var UNASSIGNED=-1,GB18030_CODE=-2,SEQ_START=-10,NODE_START=-1e3,UNASSIGNED_NODE=new Array(256),DEF_CHAR=-1;for(var i=0;i<256;i++)UNASSIGNED_NODE[i]=UNASSIGNED;function DBCSCodec(codecOptions,iconv){this.encodingName=codecOptions.encodingName;if(!codecOptions)throw new Error("DBCS codec is called without the data.");if(!codecOptions.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var mappingTable=codecOptions.table();this.decodeTables=[];this.decodeTables[0]=UNASSIGNED_NODE.slice(0);this.decodeTableSeq=[];for(var i=0;i<mappingTable.length;i++)this._addDecodeChunk(mappingTable[i]);this.defaultCharUnicode=iconv.defaultCharUnicode;this.encodeTable=[];this.encodeTableSeq=[];var skipEncodeChars={};if(codecOptions.encodeSkipVals)for(var i=0;i<codecOptions.encodeSkipVals.length;i++){var val=codecOptions.encodeSkipVals[i];if(typeof val==="number")skipEncodeChars[val]=true;else for(var j=val.from;j<=val.to;j++)skipEncodeChars[j]=true}this._fillEncodeTable(0,0,skipEncodeChars);if(codecOptions.encodeAdd){for(var uChar in codecOptions.encodeAdd)if(Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd,uChar))this._setEncodeChar(uChar.charCodeAt(0),codecOptions.encodeAdd[uChar])}this.defCharSB=this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];if(this.defCharSB===UNASSIGNED)this.defCharSB=this.encodeTable[0]["?"];if(this.defCharSB===UNASSIGNED)this.defCharSB="?".charCodeAt(0);if(typeof codecOptions.gb18030==="function"){this.gb18030=codecOptions.gb18030();var thirdByteNodeIdx=this.decodeTables.length;var thirdByteNode=this.decodeTables[thirdByteNodeIdx]=UNASSIGNED_NODE.slice(0);var fourthByteNodeIdx=this.decodeTables.length;var fourthByteNode=this.decodeTables[fourthByteNodeIdx]=UNASSIGNED_NODE.slice(0);for(var i=129;i<=254;i++){var secondByteNodeIdx=NODE_START-this.decodeTables[0][i];var secondByteNode=this.decodeTables[secondByteNodeIdx];for(var j=48;j<=57;j++)secondByteNode[j]=NODE_START-thirdByteNodeIdx}for(var i=129;i<=254;i++)thirdByteNode[i]=NODE_START-fourthByteNodeIdx;for(var i=48;i<=57;i++)fourthByteNode[i]=GB18030_CODE}}DBCSCodec.prototype.encoder=DBCSEncoder;DBCSCodec.prototype.decoder=DBCSDecoder;DBCSCodec.prototype._getDecodeTrieNode=function(addr){var bytes=[];for(;addr>0;addr>>=8)bytes.push(addr&255);if(bytes.length==0)bytes.push(0);var node=this.decodeTables[0];for(var i=bytes.length-1;i>0;i--){var val=node[bytes[i]];if(val==UNASSIGNED){node[bytes[i]]=NODE_START-this.decodeTables.length;this.decodeTables.push(node=UNASSIGNED_NODE.slice(0))}else if(val<=NODE_START){node=this.decodeTables[NODE_START-val]}else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+addr.toString(16))}return node};DBCSCodec.prototype._addDecodeChunk=function(chunk){var curAddr=parseInt(chunk[0],16);var writeTable=this._getDecodeTrieNode(curAddr);curAddr=curAddr&255;for(var k=1;k<chunk.length;k++){var part=chunk[k];if(typeof part==="string"){for(var l=0;l<part.length;){var code=part.charCodeAt(l++);if(55296<=code&&code<56320){var codeTrail=part.charCodeAt(l++);if(56320<=codeTrail&&codeTrail<57344)writeTable[curAddr++]=65536+(code-55296)*1024+(codeTrail-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+chunk[0])}else if(4080<code&&code<=4095){var len=4095-code+2;var seq=[];for(var m=0;m<len;m++)seq.push(part.charCodeAt(l++));writeTable[curAddr++]=SEQ_START-this.decodeTableSeq.length;this.decodeTableSeq.push(seq)}else writeTable[curAddr++]=code}}else if(typeof part==="number"){var charCode=writeTable[curAddr-1]+1;for(var l=0;l<part;l++)writeTable[curAddr++]=charCode++}else throw new Error("Incorrect type '"+typeof part+"' given in "+this.encodingName+" at chunk "+chunk[0])}if(curAddr>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+chunk[0]+": too long"+curAddr)};DBCSCodec.prototype._getEncodeBucket=function(uCode){var high=uCode>>8;if(this.encodeTable[high]===undefined)this.encodeTable[high]=UNASSIGNED_NODE.slice(0);return this.encodeTable[high]};DBCSCodec.prototype._setEncodeChar=function(uCode,dbcsCode){var bucket=this._getEncodeBucket(uCode);var low=uCode&255;if(bucket[low]<=SEQ_START)this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR]=dbcsCode;else if(bucket[low]==UNASSIGNED)bucket[low]=dbcsCode};DBCSCodec.prototype._setEncodeSequence=function(seq,dbcsCode){var uCode=seq[0];var bucket=this._getEncodeBucket(uCode);var low=uCode&255;var node;if(bucket[low]<=SEQ_START){node=this.encodeTableSeq[SEQ_START-bucket[low]]}else{node={};if(bucket[low]!==UNASSIGNED)node[DEF_CHAR]=bucket[low];bucket[low]=SEQ_START-this.encodeTableSeq.length;this.encodeTableSeq.push(node)}for(var j=1;j<seq.length-1;j++){var oldVal=node[uCode];if(typeof oldVal==="object")node=oldVal;else{node=node[uCode]={};if(oldVal!==undefined)node[DEF_CHAR]=oldVal}}uCode=seq[seq.length-1];node[uCode]=dbcsCode};DBCSCodec.prototype._fillEncodeTable=function(nodeIdx,prefix,skipEncodeChars){var node=this.decodeTables[nodeIdx];for(var i=0;i<256;i++){var uCode=node[i];var mbCode=prefix+i;if(skipEncodeChars[mbCode])continue;if(uCode>=0)this._setEncodeChar(uCode,mbCode);else if(uCode<=NODE_START)this._fillEncodeTable(NODE_START-uCode,mbCode<<8,skipEncodeChars);else if(uCode<=SEQ_START)this._setEncodeSequence(this.decodeTableSeq[SEQ_START-uCode],mbCode)}};function DBCSEncoder(options,codec){this.leadSurrogate=-1;this.seqObj=undefined;this.encodeTable=codec.encodeTable;this.encodeTableSeq=codec.encodeTableSeq;this.defaultCharSingleByte=codec.defCharSB;this.gb18030=codec.gb18030}DBCSEncoder.prototype.write=function(str){var newBuf=new Buffer(str.length*(this.gb18030?4:3)),leadSurrogate=this.leadSurrogate,seqObj=this.seqObj,nextChar=-1,i=0,j=0;while(true){if(nextChar===-1){if(i==str.length)break;var uCode=str.charCodeAt(i++)}else{var uCode=nextChar;nextChar=-1}if(55296<=uCode&&uCode<57344){if(uCode<56320){if(leadSurrogate===-1){leadSurrogate=uCode;continue}else{leadSurrogate=uCode;uCode=UNASSIGNED}}else{if(leadSurrogate!==-1){uCode=65536+(leadSurrogate-55296)*1024+(uCode-56320);leadSurrogate=-1}else{uCode=UNASSIGNED}}}else if(leadSurrogate!==-1){nextChar=uCode;uCode=UNASSIGNED;leadSurrogate=-1}var dbcsCode=UNASSIGNED;if(seqObj!==undefined&&uCode!=UNASSIGNED){var resCode=seqObj[uCode];if(typeof resCode==="object"){seqObj=resCode;continue}else if(typeof resCode=="number"){dbcsCode=resCode}else if(resCode==undefined){resCode=seqObj[DEF_CHAR];if(resCode!==undefined){dbcsCode=resCode;nextChar=uCode}else{}}seqObj=undefined}else if(uCode>=0){var subtable=this.encodeTable[uCode>>8];if(subtable!==undefined)dbcsCode=subtable[uCode&255];if(dbcsCode<=SEQ_START){seqObj=this.encodeTableSeq[SEQ_START-dbcsCode];continue}if(dbcsCode==UNASSIGNED&&this.gb18030){var idx=findIdx(this.gb18030.uChars,uCode);if(idx!=-1){var dbcsCode=this.gb18030.gbChars[idx]+(uCode-this.gb18030.uChars[idx]);newBuf[j++]=129+Math.floor(dbcsCode/12600);dbcsCode=dbcsCode%12600;newBuf[j++]=48+Math.floor(dbcsCode/1260);dbcsCode=dbcsCode%1260;newBuf[j++]=129+Math.floor(dbcsCode/10);dbcsCode=dbcsCode%10;newBuf[j++]=48+dbcsCode;continue}}}if(dbcsCode===UNASSIGNED)dbcsCode=this.defaultCharSingleByte;if(dbcsCode<256){newBuf[j++]=dbcsCode}else if(dbcsCode<65536){newBuf[j++]=dbcsCode>>8;newBuf[j++]=dbcsCode&255}else{newBuf[j++]=dbcsCode>>16;newBuf[j++]=dbcsCode>>8&255;newBuf[j++]=dbcsCode&255}}this.seqObj=seqObj;this.leadSurrogate=leadSurrogate;return newBuf.slice(0,j)};DBCSEncoder.prototype.end=function(){if(this.leadSurrogate===-1&&this.seqObj===undefined)return;var newBuf=new Buffer(10),j=0;if(this.seqObj){var dbcsCode=this.seqObj[DEF_CHAR];if(dbcsCode!==undefined){if(dbcsCode<256){newBuf[j++]=dbcsCode}else{newBuf[j++]=dbcsCode>>8;newBuf[j++]=dbcsCode&255}}else{}this.seqObj=undefined}if(this.leadSurrogate!==-1){newBuf[j++]=this.defaultCharSingleByte;this.leadSurrogate=-1}return newBuf.slice(0,j)};DBCSEncoder.prototype.findIdx=findIdx;function DBCSDecoder(options,codec){this.nodeIdx=0;this.prevBuf=new Buffer(0);this.decodeTables=codec.decodeTables;this.decodeTableSeq=codec.decodeTableSeq;this.defaultCharUnicode=codec.defaultCharUnicode;this.gb18030=codec.gb18030}DBCSDecoder.prototype.write=function(buf){var newBuf=new Buffer(buf.length*2),nodeIdx=this.nodeIdx,prevBuf=this.prevBuf,prevBufOffset=this.prevBuf.length,seqStart=-this.prevBuf.length,uCode;if(prevBufOffset>0)prevBuf=Buffer.concat([prevBuf,buf.slice(0,10)]);for(var i=0,j=0;i<buf.length;i++){var curByte=i>=0?buf[i]:prevBuf[i+prevBufOffset];var uCode=this.decodeTables[nodeIdx][curByte];if(uCode>=0){}else if(uCode===UNASSIGNED){i=seqStart;uCode=this.defaultCharUnicode.charCodeAt(0)}else if(uCode===GB18030_CODE){var curSeq=seqStart>=0?buf.slice(seqStart,i+1):prevBuf.slice(seqStart+prevBufOffset,i+1+prevBufOffset);var ptr=(curSeq[0]-129)*12600+(curSeq[1]-48)*1260+(curSeq[2]-129)*10+(curSeq[3]-48);var idx=findIdx(this.gb18030.gbChars,ptr);uCode=this.gb18030.uChars[idx]+ptr-this.gb18030.gbChars[idx]}else if(uCode<=NODE_START){nodeIdx=NODE_START-uCode;continue}else if(uCode<=SEQ_START){var seq=this.decodeTableSeq[SEQ_START-uCode];for(var k=0;k<seq.length-1;k++){uCode=seq[k];newBuf[j++]=uCode&255;newBuf[j++]=uCode>>8}uCode=seq[seq.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+uCode+" at "+nodeIdx+"/"+curByte);if(uCode>65535){uCode-=65536;var uCodeLead=55296+Math.floor(uCode/1024);newBuf[j++]=uCodeLead&255;newBuf[j++]=uCodeLead>>8;uCode=56320+uCode%1024}newBuf[j++]=uCode&255;newBuf[j++]=uCode>>8;nodeIdx=0;seqStart=i+1}this.nodeIdx=nodeIdx;this.prevBuf=seqStart>=0?buf.slice(seqStart):prevBuf.slice(seqStart+prevBufOffset);return newBuf.slice(0,j).toString("ucs2")};DBCSDecoder.prototype.end=function(){var ret="";while(this.prevBuf.length>0){ret+=this.defaultCharUnicode;var buf=this.prevBuf.slice(1);this.prevBuf=new Buffer(0);this.nodeIdx=0;if(buf.length>0)ret+=this.write(buf)}this.nodeIdx=0;return ret};function findIdx(table,val){if(table[0]>val)return-1;var l=0,r=table.length;while(l<r-1){var mid=l+Math.floor((r-l+1)/2);if(table[mid]<=val)l=mid;else r=mid}return l}},{buffer:41}],50:[function(require,module,exports){"use strict";module.exports={shiftjis:{type:"_dbcs",table:function(){return require("./tables/shiftjis.json")},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return require("./tables/eucjp.json")},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return require("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return require("./tables/cp936.json").concat(require("./tables/gbk-added.json"))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return require("./tables/cp936.json").concat(require("./tables/gbk-added.json"))},gb18030:function(){return require("./tables/gb18030-ranges.json")},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return require("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return require("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return require("./tables/cp950.json").concat(require("./tables/big5-added.json"))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},{"./tables/big5-added.json":56,"./tables/cp936.json":57,"./tables/cp949.json":58,"./tables/cp950.json":59,"./tables/eucjp.json":60,"./tables/gb18030-ranges.json":61,"./tables/gbk-added.json":62,"./tables/shiftjis.json":63}],51:[function(require,module,exports){"use strict";var modules=[require("./internal"),require("./utf16"),require("./utf7"),require("./sbcs-codec"),require("./sbcs-data"),require("./sbcs-data-generated"),require("./dbcs-codec"),require("./dbcs-data")];for(var i=0;i<modules.length;i++){var module=modules[i];for(var enc in module)if(Object.prototype.hasOwnProperty.call(module,enc))exports[enc]=module[enc]}},{"./dbcs-codec":49,"./dbcs-data":50,"./internal":52,"./sbcs-codec":53,"./sbcs-data":55,"./sbcs-data-generated":54,"./utf16":64,"./utf7":65}],52:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;module.exports={utf8:{type:"_internal",bomAware:true},cesu8:{type:"_internal",bomAware:true},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:true},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec};function InternalCodec(codecOptions,iconv){this.enc=codecOptions.encodingName;this.bomAware=codecOptions.bomAware;if(this.enc==="base64")this.encoder=InternalEncoderBase64;else if(this.enc==="cesu8"){this.enc="utf8";this.encoder=InternalEncoderCesu8;if(new Buffer("eda0bdedb2a9","hex").toString()!==""){this.decoder=InternalDecoderCesu8;this.defaultCharUnicode=iconv.defaultCharUnicode}}}InternalCodec.prototype.encoder=InternalEncoder;InternalCodec.prototype.decoder=InternalDecoder;var StringDecoder=require("string_decoder").StringDecoder;if(!StringDecoder.prototype.end)StringDecoder.prototype.end=function(){};function InternalDecoder(options,codec){StringDecoder.call(this,codec.enc)}InternalDecoder.prototype=StringDecoder.prototype;function InternalEncoder(options,codec){this.enc=codec.enc}InternalEncoder.prototype.write=function(str){return new Buffer(str,this.enc)};InternalEncoder.prototype.end=function(){};function InternalEncoderBase64(options,codec){this.prevStr=""}InternalEncoderBase64.prototype.write=function(str){str=this.prevStr+str;var completeQuads=str.length-str.length%4;this.prevStr=str.slice(completeQuads);str=str.slice(0,completeQuads);return new Buffer(str,"base64")};InternalEncoderBase64.prototype.end=function(){return new Buffer(this.prevStr,"base64")};function InternalEncoderCesu8(options,codec){}InternalEncoderCesu8.prototype.write=function(str){var buf=new Buffer(str.length*3),bufIdx=0;for(var i=0;i<str.length;i++){var charCode=str.charCodeAt(i);if(charCode<128)buf[bufIdx++]=charCode;else if(charCode<2048){buf[bufIdx++]=192+(charCode>>>6);buf[bufIdx++]=128+(charCode&63)}else{buf[bufIdx++]=224+(charCode>>>12);buf[bufIdx++]=128+(charCode>>>6&63);buf[bufIdx++]=128+(charCode&63)}}return buf.slice(0,bufIdx)};InternalEncoderCesu8.prototype.end=function(){};function InternalDecoderCesu8(options,codec){this.acc=0;this.contBytes=0;this.accBytes=0;this.defaultCharUnicode=codec.defaultCharUnicode}InternalDecoderCesu8.prototype.write=function(buf){var acc=this.acc,contBytes=this.contBytes,accBytes=this.accBytes,res="";for(var i=0;i<buf.length;i++){var curByte=buf[i];if((curByte&192)!==128){if(contBytes>0){res+=this.defaultCharUnicode;contBytes=0}if(curByte<128){res+=String.fromCharCode(curByte)}else if(curByte<224){acc=curByte&31;contBytes=1;accBytes=1}else if(curByte<240){acc=curByte&15;contBytes=2;accBytes=1}else{res+=this.defaultCharUnicode}}else{if(contBytes>0){acc=acc<<6|curByte&63;contBytes--;accBytes++;if(contBytes===0){if(accBytes===2&&acc<128&&acc>0)res+=this.defaultCharUnicode;else if(accBytes===3&&acc<2048)res+=this.defaultCharUnicode;else res+=String.fromCharCode(acc)}}else{res+=this.defaultCharUnicode}}}this.acc=acc;this.contBytes=contBytes;this.accBytes=accBytes;return res};InternalDecoderCesu8.prototype.end=function(){var res=0;if(this.contBytes>0)res+=this.defaultCharUnicode;return res}},{buffer:41,string_decoder:114}],53:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;exports._sbcs=SBCSCodec;function SBCSCodec(codecOptions,iconv){if(!codecOptions)throw new Error("SBCS codec is called without the data.");if(!codecOptions.chars||codecOptions.chars.length!==128&&codecOptions.chars.length!==256)throw new Error("Encoding '"+codecOptions.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(codecOptions.chars.length===128){var asciiString="";for(var i=0;i<128;i++)asciiString+=String.fromCharCode(i);codecOptions.chars=asciiString+codecOptions.chars}this.decodeBuf=new Buffer(codecOptions.chars,"ucs2");var encodeBuf=new Buffer(65536);encodeBuf.fill(iconv.defaultCharSingleByte.charCodeAt(0));for(var i=0;i<codecOptions.chars.length;i++)encodeBuf[codecOptions.chars.charCodeAt(i)]=i;this.encodeBuf=encodeBuf}SBCSCodec.prototype.encoder=SBCSEncoder;SBCSCodec.prototype.decoder=SBCSDecoder;function SBCSEncoder(options,codec){this.encodeBuf=codec.encodeBuf}SBCSEncoder.prototype.write=function(str){var buf=new Buffer(str.length);for(var i=0;i<str.length;i++)buf[i]=this.encodeBuf[str.charCodeAt(i)];return buf};SBCSEncoder.prototype.end=function(){};function SBCSDecoder(options,codec){this.decodeBuf=codec.decodeBuf}SBCSDecoder.prototype.write=function(buf){var decodeBuf=this.decodeBuf;var newBuf=new Buffer(buf.length*2);var idx1=0,idx2=0;for(var i=0;i<buf.length;i++){idx1=buf[i]*2;idx2=i*2;newBuf[idx2]=decodeBuf[idx1];newBuf[idx2+1]=decodeBuf[idx1+1]}return newBuf.toString("ucs2")};SBCSDecoder.prototype.end=function(){}},{buffer:41}],54:[function(require,module,exports){"use strict";module.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},{}],55:[function(require,module,exports){"use strict";module.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},{}],56:[function(require,module,exports){module.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]},{}],57:[function(require,module,exports){module.exports=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},{}],58:[function(require,module,exports){module.exports=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]},{}],59:[function(require,module,exports){module.exports=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},{}],60:[function(require,module,exports){module.exports=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},{}],61:[function(require,module,exports){module.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}},{}],62:[function(require,module,exports){module.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},{}],63:[function(require,module,exports){module.exports=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},{}],64:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;exports.utf16be=Utf16BECodec;function Utf16BECodec(){}Utf16BECodec.prototype.encoder=Utf16BEEncoder;Utf16BECodec.prototype.decoder=Utf16BEDecoder;Utf16BECodec.prototype.bomAware=true;function Utf16BEEncoder(){}Utf16BEEncoder.prototype.write=function(str){var buf=new Buffer(str,"ucs2");for(var i=0;i<buf.length;i+=2){var tmp=buf[i];buf[i]=buf[i+1];buf[i+1]=tmp}return buf};Utf16BEEncoder.prototype.end=function(){};function Utf16BEDecoder(){this.overflowByte=-1}Utf16BEDecoder.prototype.write=function(buf){if(buf.length==0)return"";var buf2=new Buffer(buf.length+1),i=0,j=0;if(this.overflowByte!==-1){buf2[0]=buf[0];buf2[1]=this.overflowByte;i=1;j=2}for(;i<buf.length-1;i+=2,j+=2){buf2[j]=buf[i+1];buf2[j+1]=buf[i]}this.overflowByte=i==buf.length-1?buf[buf.length-1]:-1;return buf2.slice(0,j).toString("ucs2")};Utf16BEDecoder.prototype.end=function(){};exports.utf16=Utf16Codec;function Utf16Codec(codecOptions,iconv){this.iconv=iconv}Utf16Codec.prototype.encoder=Utf16Encoder;Utf16Codec.prototype.decoder=Utf16Decoder;function Utf16Encoder(options,codec){options=options||{};if(options.addBOM===undefined)options.addBOM=true;this.encoder=codec.iconv.getEncoder("utf-16le",options)}Utf16Encoder.prototype.write=function(str){return this.encoder.write(str)};Utf16Encoder.prototype.end=function(){return this.encoder.end()};function Utf16Decoder(options,codec){this.decoder=null;this.initialBytes=[];this.initialBytesLen=0;this.options=options||{};this.iconv=codec.iconv}Utf16Decoder.prototype.write=function(buf){if(!this.decoder){this.initialBytes.push(buf);this.initialBytesLen+=buf.length;if(this.initialBytesLen<16)return"";var buf=Buffer.concat(this.initialBytes),encoding=detectEncoding(buf,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options);this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(buf)};Utf16Decoder.prototype.end=function(){if(!this.decoder){var buf=Buffer.concat(this.initialBytes),encoding=detectEncoding(buf,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options);var res=this.decoder.write(buf),trail=this.decoder.end();return trail?res+trail:res}return this.decoder.end()};function detectEncoding(buf,defaultEncoding){var enc=defaultEncoding||"utf-16le";if(buf.length>=2){if(buf[0]==254&&buf[1]==255)enc="utf-16be";else if(buf[0]==255&&buf[1]==254)enc="utf-16le";else{var asciiCharsLE=0,asciiCharsBE=0,_len=Math.min(buf.length-buf.length%2,64);for(var i=0;i<_len;i+=2){if(buf[i]===0&&buf[i+1]!==0)asciiCharsBE++;if(buf[i]!==0&&buf[i+1]===0)asciiCharsLE++}if(asciiCharsBE>asciiCharsLE)enc="utf-16be";else if(asciiCharsBE<asciiCharsLE)enc="utf-16le"}}return enc}},{buffer:41}],65:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;exports.utf7=Utf7Codec;exports.unicode11utf7="utf7";function Utf7Codec(codecOptions,iconv){this.iconv=iconv}Utf7Codec.prototype.encoder=Utf7Encoder;Utf7Codec.prototype.decoder=Utf7Decoder;Utf7Codec.prototype.bomAware=true;var nonDirectChars=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function Utf7Encoder(options,codec){this.iconv=codec.iconv}Utf7Encoder.prototype.write=function(str){return new Buffer(str.replace(nonDirectChars,function(chunk){return"+"+(chunk==="+"?"":this.iconv.encode(chunk,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))};Utf7Encoder.prototype.end=function(){};function Utf7Decoder(options,codec){this.iconv=codec.iconv;this.inBase64=false;this.base64Accum=""}var base64Regex=/[A-Za-z0-9\/+]/;var base64Chars=[];for(var i=0;i<256;i++)base64Chars[i]=base64Regex.test(String.fromCharCode(i));var plusChar="+".charCodeAt(0),minusChar="-".charCodeAt(0),andChar="&".charCodeAt(0);Utf7Decoder.prototype.write=function(buf){var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum;for(var i=0;i<buf.length;i++){if(!inBase64){if(buf[i]==plusChar){res+=this.iconv.decode(buf.slice(lastI,i),"ascii");lastI=i+1;inBase64=true}}else{if(!base64Chars[buf[i]]){if(i==lastI&&buf[i]==minusChar){res+="+"}else{var b64str=base64Accum+buf.slice(lastI,i).toString();res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}if(buf[i]!=minusChar)i--;lastI=i+1;inBase64=false;base64Accum=""}}}if(!inBase64){res+=this.iconv.decode(buf.slice(lastI),"ascii")}else{var b64str=base64Accum+buf.slice(lastI).toString();var canBeDecoded=b64str.length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded);b64str=b64str.slice(0,canBeDecoded);res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}this.inBase64=inBase64;this.base64Accum=base64Accum;return res};Utf7Decoder.prototype.end=function(){var res="";if(this.inBase64&&this.base64Accum.length>0)res=this.iconv.decode(new Buffer(this.base64Accum,"base64"),"utf16-be");this.inBase64=false;this.base64Accum="";return res};exports.utf7imap=Utf7IMAPCodec;function Utf7IMAPCodec(codecOptions,iconv){this.iconv=iconv}Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder;Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder;Utf7IMAPCodec.prototype.bomAware=true;function Utf7IMAPEncoder(options,codec){this.iconv=codec.iconv;this.inBase64=false;this.base64Accum=new Buffer(6);this.base64AccumIdx=0}Utf7IMAPEncoder.prototype.write=function(str){var inBase64=this.inBase64,base64Accum=this.base64Accum,base64AccumIdx=this.base64AccumIdx,buf=new Buffer(str.length*5+10),bufIdx=0;for(var i=0;i<str.length;i++){var uChar=str.charCodeAt(i);if(32<=uChar&&uChar<=126){if(inBase64){if(base64AccumIdx>0){bufIdx+=buf.write(base64Accum.slice(0,base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx);base64AccumIdx=0}buf[bufIdx++]=minusChar;inBase64=false}if(!inBase64){buf[bufIdx++]=uChar;if(uChar===andChar)buf[bufIdx++]=minusChar}}else{if(!inBase64){buf[bufIdx++]=andChar;inBase64=true}if(inBase64){base64Accum[base64AccumIdx++]=uChar>>8;base64Accum[base64AccumIdx++]=uChar&255;if(base64AccumIdx==base64Accum.length){bufIdx+=buf.write(base64Accum.toString("base64").replace(/\//g,","),bufIdx);base64AccumIdx=0}}}}this.inBase64=inBase64;this.base64AccumIdx=base64AccumIdx;return buf.slice(0,bufIdx)};Utf7IMAPEncoder.prototype.end=function(){var buf=new Buffer(10),bufIdx=0;if(this.inBase64){if(this.base64AccumIdx>0){bufIdx+=buf.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx);this.base64AccumIdx=0}buf[bufIdx++]=minusChar;this.inBase64=false}return buf.slice(0,bufIdx)};function Utf7IMAPDecoder(options,codec){this.iconv=codec.iconv;this.inBase64=false;this.base64Accum=""}var base64IMAPChars=base64Chars.slice();base64IMAPChars[",".charCodeAt(0)]=true;Utf7IMAPDecoder.prototype.write=function(buf){var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum;for(var i=0;i<buf.length;i++){if(!inBase64){if(buf[i]==andChar){res+=this.iconv.decode(buf.slice(lastI,i),"ascii");lastI=i+1;inBase64=true}}else{if(!base64IMAPChars[buf[i]]){if(i==lastI&&buf[i]==minusChar){res+="&"}else{var b64str=base64Accum+buf.slice(lastI,i).toString().replace(/,/g,"/");res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}if(buf[i]!=minusChar)i--;lastI=i+1;inBase64=false;base64Accum=""}}}if(!inBase64){res+=this.iconv.decode(buf.slice(lastI),"ascii")}else{var b64str=base64Accum+buf.slice(lastI).toString().replace(/,/g,"/");var canBeDecoded=b64str.length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded);b64str=b64str.slice(0,canBeDecoded);res+=this.iconv.decode(new Buffer(b64str,"base64"),"utf16-be")}this.inBase64=inBase64;this.base64Accum=base64Accum;return res};Utf7IMAPDecoder.prototype.end=function(){var res="";if(this.inBase64&&this.base64Accum.length>0)res=this.iconv.decode(new Buffer(this.base64Accum,"base64"),"utf16-be");this.inBase64=false;this.base64Accum="";return res}},{buffer:41}],66:[function(require,module,exports){"use strict";var BOMChar="\ufeff";exports.PrependBOM=PrependBOMWrapper;function PrependBOMWrapper(encoder,options){this.encoder=encoder;this.addBOM=true}PrependBOMWrapper.prototype.write=function(str){if(this.addBOM){str=BOMChar+str;this.addBOM=false}return this.encoder.write(str)};PrependBOMWrapper.prototype.end=function(){return this.encoder.end()};exports.StripBOM=StripBOMWrapper;function StripBOMWrapper(decoder,options){this.decoder=decoder;this.pass=false;this.options=options||{}}StripBOMWrapper.prototype.write=function(buf){var res=this.decoder.write(buf);if(this.pass||!res)return res;if(res[0]===BOMChar){res=res.slice(1);if(typeof this.options.stripBOM==="function")this.options.stripBOM()}this.pass=true;return res};StripBOMWrapper.prototype.end=function(){return this.decoder.end()}},{}],67:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;module.exports=function(iconv){var original=undefined;iconv.supportsNodeEncodingsExtension=!(new Buffer(0)instanceof Uint8Array);iconv.extendNodeEncodings=function extendNodeEncodings(){if(original)return;original={};if(!iconv.supportsNodeEncodingsExtension){console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node");console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");return}var nodeNativeEncodings={hex:true,utf8:true,"utf-8":true,ascii:true,binary:true,base64:true,ucs2:true,"ucs-2":true,utf16le:true,"utf-16le":true};Buffer.isNativeEncoding=function(enc){return enc&&nodeNativeEncodings[enc.toLowerCase()]};var SlowBuffer=require("buffer").SlowBuffer;original.SlowBufferToString=SlowBuffer.prototype.toString;SlowBuffer.prototype.toString=function(encoding,start,end){encoding=String(encoding||"utf8").toLowerCase();if(Buffer.isNativeEncoding(encoding))return original.SlowBufferToString.call(this,encoding,start,end);if(typeof start=="undefined")start=0;if(typeof end=="undefined")end=this.length;return iconv.decode(this.slice(start,end),encoding)};original.SlowBufferWrite=SlowBuffer.prototype.write;SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=+length;if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();if(Buffer.isNativeEncoding(encoding))return original.SlowBufferWrite.call(this,string,offset,length,encoding);if(string.length>0&&(length<0||offset<0))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);if(buf.length<length)length=buf.length;buf.copy(this,offset,0,length);return length};original.BufferIsEncoding=Buffer.isEncoding;Buffer.isEncoding=function(encoding){return Buffer.isNativeEncoding(encoding)||iconv.encodingExists(encoding)};original.BufferByteLength=Buffer.byteLength;Buffer.byteLength=SlowBuffer.byteLength=function(str,encoding){encoding=String(encoding||"utf8").toLowerCase();if(Buffer.isNativeEncoding(encoding))return original.BufferByteLength.call(this,str,encoding);return iconv.encode(str,encoding).length};original.BufferToString=Buffer.prototype.toString;Buffer.prototype.toString=function(encoding,start,end){encoding=String(encoding||"utf8").toLowerCase();if(Buffer.isNativeEncoding(encoding))return original.BufferToString.call(this,encoding,start,end);if(typeof start=="undefined")start=0;if(typeof end=="undefined")end=this.length;return iconv.decode(this.slice(start,end),encoding)};original.BufferWrite=Buffer.prototype.write;Buffer.prototype.write=function(string,offset,length,encoding){var _offset=offset,_length=length,_encoding=encoding;if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}encoding=String(encoding||"utf8").toLowerCase();if(Buffer.isNativeEncoding(encoding))return original.BufferWrite.call(this,string,_offset,_length,_encoding);offset=+offset||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=+length;if(length>remaining){length=remaining}}if(string.length>0&&(length<0||offset<0))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);if(buf.length<length)length=buf.length;buf.copy(this,offset,0,length);return length};if(iconv.supportsStreams){var Readable=require("stream").Readable;original.ReadableSetEncoding=Readable.prototype.setEncoding;Readable.prototype.setEncoding=function setEncoding(enc,options){this._readableState.decoder=iconv.getDecoder(enc,options);this._readableState.encoding=enc};Readable.prototype.collect=iconv._collect}};iconv.undoExtendNodeEncodings=function undoExtendNodeEncodings(){if(!iconv.supportsNodeEncodingsExtension)return;if(!original)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var SlowBuffer=require("buffer").SlowBuffer;SlowBuffer.prototype.toString=original.SlowBufferToString;SlowBuffer.prototype.write=original.SlowBufferWrite;Buffer.isEncoding=original.BufferIsEncoding;Buffer.byteLength=original.BufferByteLength;Buffer.prototype.toString=original.BufferToString;Buffer.prototype.write=original.BufferWrite;if(iconv.supportsStreams){var Readable=require("stream").Readable;Readable.prototype.setEncoding=original.ReadableSetEncoding;delete Readable.prototype.collect}original=undefined}}},{buffer:41,stream:98}],68:[function(require,module,exports){(function(process){"use strict";var Buffer=require("buffer").Buffer;var bomHandling=require("./bom-handling"),iconv=module.exports;iconv.encodings=null;iconv.defaultCharUnicode="";iconv.defaultCharSingleByte="?";iconv.encode=function encode(str,encoding,options){str=""+(str||"");var encoder=iconv.getEncoder(encoding,options);var res=encoder.write(str);var trail=encoder.end();return trail&&trail.length>0?Buffer.concat([res,trail]):res};iconv.decode=function decode(buf,encoding,options){if(typeof buf==="string"){if(!iconv.skipDecodeWarning){console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding");iconv.skipDecodeWarning=true}buf=new Buffer(""+(buf||""),"binary")}var decoder=iconv.getDecoder(encoding,options);var res=decoder.write(buf);var trail=decoder.end();return trail?res+trail:res};iconv.encodingExists=function encodingExists(enc){try{iconv.getCodec(enc);return true}catch(e){return false}};iconv.toEncoding=iconv.encode;iconv.fromEncoding=iconv.decode;iconv._codecDataCache={};iconv.getCodec=function getCodec(encoding){if(!iconv.encodings)iconv.encodings=require("../encodings");var enc=(""+encoding).toLowerCase().replace(/[^0-9a-z]|:\d{4}$/g,"");var codecOptions={};while(true){var codec=iconv._codecDataCache[enc];if(codec)return codec;var codecDef=iconv.encodings[enc];switch(typeof codecDef){case"string":enc=codecDef;break;case"object":for(var key in codecDef)codecOptions[key]=codecDef[key];if(!codecOptions.encodingName)codecOptions.encodingName=enc;enc=codecDef.type;break;case"function":if(!codecOptions.encodingName)codecOptions.encodingName=enc;codec=new codecDef(codecOptions,iconv);iconv._codecDataCache[codecOptions.encodingName]=codec;return codec;default:throw new Error("Encoding not recognized: '"+encoding+"' (searched as: '"+enc+"')")}}};iconv.getEncoder=function getEncoder(encoding,options){var codec=iconv.getCodec(encoding),encoder=new codec.encoder(options,codec);if(codec.bomAware&&options&&options.addBOM)encoder=new bomHandling.PrependBOM(encoder,options);return encoder};iconv.getDecoder=function getDecoder(encoding,options){var codec=iconv.getCodec(encoding),decoder=new codec.decoder(options,codec);if(codec.bomAware&&!(options&&options.stripBOM===false))decoder=new bomHandling.StripBOM(decoder,options);return decoder};var nodeVer=typeof process!=="undefined"&&process.versions&&process.versions.node;if(nodeVer){var nodeVerArr=nodeVer.split(".").map(Number);if(nodeVerArr[0]>0||nodeVerArr[1]>=10){require("./streams")(iconv)}require("./extend-node")(iconv)}if(""!=""){console.error("iconv-lite warning: javascript files use encoding different from utf-8. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.")}}).call(this,require("_process"))},{"../encodings":51,"./bom-handling":66,"./extend-node":67,"./streams":69,_process:93,buffer:41}],69:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer,Transform=require("stream").Transform;module.exports=function(iconv){iconv.encodeStream=function encodeStream(encoding,options){return new IconvLiteEncoderStream(iconv.getEncoder(encoding,options),options)};iconv.decodeStream=function decodeStream(encoding,options){return new IconvLiteDecoderStream(iconv.getDecoder(encoding,options),options)};iconv.supportsStreams=true;iconv.IconvLiteEncoderStream=IconvLiteEncoderStream;iconv.IconvLiteDecoderStream=IconvLiteDecoderStream;iconv._collect=IconvLiteDecoderStream.prototype.collect};function IconvLiteEncoderStream(conv,options){this.conv=conv;options=options||{};options.decodeStrings=false;Transform.call(this,options)}IconvLiteEncoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteEncoderStream}});IconvLiteEncoderStream.prototype._transform=function(chunk,encoding,done){if(typeof chunk!="string")return done(new Error("Iconv encoding stream needs strings as its input."));try{var res=this.conv.write(chunk);if(res&&res.length)this.push(res);done()}catch(e){done(e)}};IconvLiteEncoderStream.prototype._flush=function(done){try{var res=this.conv.end();if(res&&res.length)this.push(res);done()}catch(e){done(e)}};IconvLiteEncoderStream.prototype.collect=function(cb){var chunks=[];this.on("error",cb);this.on("data",function(chunk){chunks.push(chunk)});this.on("end",function(){cb(null,Buffer.concat(chunks))});return this};function IconvLiteDecoderStream(conv,options){this.conv=conv;options=options||{};options.encoding=this.encoding="utf8";Transform.call(this,options)}IconvLiteDecoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteDecoderStream}});IconvLiteDecoderStream.prototype._transform=function(chunk,encoding,done){if(!Buffer.isBuffer(chunk))return done(new Error("Iconv decoding stream needs buffers as its input."));try{var res=this.conv.write(chunk);if(res&&res.length)this.push(res,this.encoding);done()}catch(e){done(e)}};IconvLiteDecoderStream.prototype._flush=function(done){try{var res=this.conv.end();if(res&&res.length)this.push(res,this.encoding);done()}catch(e){done(e)}};IconvLiteDecoderStream.prototype.collect=function(cb){var res="";this.on("error",cb);this.on("data",function(chunk){res+=chunk});this.on("end",function(){cb(null,res)});return this}},{buffer:41,stream:98}],70:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],71:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],72:[function(require,module,exports){module.exports=function(obj){return!!(obj!=null&&(obj._isBuffer||obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)))}},{}],73:[function(require,module,exports){"use strict";var isStream=module.exports=function(stream){return stream!==null&&typeof stream==="object"&&typeof stream.pipe==="function"};isStream.writable=function(stream){return isStream(stream)&&stream.writable!==false&&typeof stream._write==="function"&&typeof stream._writableState==="object"};isStream.readable=function(stream){return isStream(stream)&&stream.readable!==false&&typeof stream._read==="function"&&typeof stream._readableState==="object"};isStream.duplex=function(stream){return isStream.writable(stream)&&isStream.readable(stream)};isStream.transform=function(stream){return isStream.duplex(stream)&&typeof stream._transform==="function"&&typeof stream._transformState==="object"}},{}],74:[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}],75:[function(require,module,exports){(function(global,Buffer){var parse_url=require("url").parse;var resolve_url=require("url").resolve;var http=require("http");var https=require("https");var zlib=require("zlib");var stream=require("stream");var Body=require("./lib/body");var Response=require("./lib/response");var Headers=require("./lib/headers");var Request=require("./lib/request");var FetchError=require("./lib/fetch-error");module.exports=Fetch;module.exports.default=module.exports;function Fetch(url,opts){if(!(this instanceof Fetch))return new Fetch(url,opts);if(!Fetch.Promise){throw new Error("native promise missing, set Fetch.Promise to your favorite alternative")}Body.Promise=Fetch.Promise;var self=this;return new Fetch.Promise(function(resolve,reject){var options=new Request(url,opts);if(!options.protocol||!options.hostname){throw new Error("only absolute urls are supported")}if(options.protocol!=="http:"&&options.protocol!=="https:"){throw new Error("only http(s) protocols are supported")}var send;if(options.protocol==="https:"){send=https.request}else{send=http.request}var headers=new Headers(options.headers);if(options.compress){headers.set("accept-encoding","gzip,deflate")}if(!headers.has("user-agent")){headers.set("user-agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)")}if(!headers.has("connection")&&!options.agent){headers.set("connection","close")}if(!headers.has("accept")){headers.set("accept","*/*")}if(!headers.has("content-type")&&options.body&&typeof options.body.getBoundary==="function"){headers.set("content-type","multipart/form-data; boundary="+options.body.getBoundary())}if(!headers.has("content-length")&&/post|put|patch|delete/i.test(options.method)){if(typeof options.body==="string"){headers.set("content-length",Buffer.byteLength(options.body))}else if(options.body&&typeof options.body.getLengthSync==="function"){if(options.body._lengthRetrievers&&options.body._lengthRetrievers.length==0){headers.set("content-length",options.body.getLengthSync().toString())}else if(options.body.hasKnownLength&&options.body.hasKnownLength()){headers.set("content-length",options.body.getLengthSync().toString())}}else if(options.body===undefined||options.body===null){headers.set("content-length","0")}}options.headers=headers.raw();if(options.headers.host){options.headers.host=options.headers.host[0]}var req=send(options);var reqTimeout;if(options.timeout){req.once("socket",function(socket){reqTimeout=setTimeout(function(){req.abort();reject(new FetchError("network timeout at: "+options.url,"request-timeout"))},options.timeout)})}req.on("error",function(err){clearTimeout(reqTimeout);reject(new FetchError("request to "+options.url+" failed, reason: "+err.message,"system",err))});req.on("response",function(res){clearTimeout(reqTimeout);if(self.isRedirect(res.statusCode)&&options.redirect!=="manual"){if(options.redirect==="error"){reject(new FetchError("redirect mode is set to error: "+options.url,"no-redirect"));return}if(options.counter>=options.follow){reject(new FetchError("maximum redirect reached at: "+options.url,"max-redirect"));return}if(!res.headers.location){reject(new FetchError("redirect location header missing at: "+options.url,"invalid-redirect"));return}if(res.statusCode===303||(res.statusCode===301||res.statusCode===302)&&options.method==="POST"){options.method="GET";delete options.body;delete options.headers["content-length"]}options.counter++;resolve(Fetch(resolve_url(options.url,res.headers.location),options));return}var headers=new Headers(res.headers);if(options.redirect==="manual"&&headers.has("location")){headers.set("location",resolve_url(options.url,headers.get("location")))}var body=res.pipe(new stream.PassThrough);var response_options={url:options.url,status:res.statusCode,statusText:res.statusMessage,headers:headers,size:options.size,timeout:options.timeout};var output;if(!options.compress||options.method==="HEAD"||!headers.has("content-encoding")||res.statusCode===204||res.statusCode===304){output=new Response(body,response_options);resolve(output);return}var name=headers.get("content-encoding");if(name=="gzip"||name=="x-gzip"){body=body.pipe(zlib.createGunzip());output=new Response(body,response_options);resolve(output);return}else if(name=="deflate"||name=="x-deflate"){var raw=res.pipe(new stream.PassThrough);raw.once("data",function(chunk){if((chunk[0]&15)===8){body=body.pipe(zlib.createInflate())}else{body=body.pipe(zlib.createInflateRaw())}output=new Response(body,response_options);resolve(output)});return}output=new Response(body,response_options);resolve(output);return});if(typeof options.body==="string"){req.write(options.body);req.end()}else if(options.body instanceof Buffer){req.write(options.body);req.end()}else if(typeof options.body==="object"&&options.body.pipe){options.body.pipe(req)}else if(typeof options.body==="object"){req.write(options.body.toString());req.end()}else{req.end()}})}Fetch.prototype.isRedirect=function(code){return code===301||code===302||code===303||code===307||code===308};Fetch.Promise=global.Promise;Fetch.Response=Response;Fetch.Headers=Headers;Fetch.Request=Request}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./lib/body":76,"./lib/fetch-error":77,"./lib/headers":78,"./lib/request":79,"./lib/response":80,buffer:41,http:109,https:48,stream:98,url:117,zlib:35}],76:[function(require,module,exports){(function(global,Buffer){var convert=require("encoding").convert;var bodyStream=require("is-stream");var PassThrough=require("stream").PassThrough;var FetchError=require("./fetch-error");module.exports=Body;function Body(body,opts){opts=opts||{};this.body=body;this.bodyUsed=false;this.size=opts.size||0;this.timeout=opts.timeout||0;this._raw=[];this._abort=false}Body.prototype.json=function(){var self=this;return this._decode().then(function(buffer){try{return JSON.parse(buffer.toString())}catch(err){return Body.Promise.reject(new FetchError("invalid json response body at "+self.url+" reason: "+err.message,"invalid-json"))}})};Body.prototype.text=function(){return this._decode().then(function(buffer){return buffer.toString()})};Body.prototype.buffer=function(){return this._decode()};Body.prototype._decode=function(){var self=this;if(this.bodyUsed){return Body.Promise.reject(new Error("body used already for: "+this.url))}this.bodyUsed=true;this._bytes=0;this._abort=false;this._raw=[];return new Body.Promise(function(resolve,reject){var resTimeout;if(typeof self.body==="string"){self._bytes=self.body.length;self._raw=[new Buffer(self.body)];return resolve(self._convert())}if(self.body instanceof Buffer){self._bytes=self.body.length;self._raw=[self.body];return resolve(self._convert())}if(self.timeout){resTimeout=setTimeout(function(){self._abort=true;reject(new FetchError("response timeout at "+self.url+" over limit: "+self.timeout,"body-timeout"))},self.timeout)}self.body.on("error",function(err){reject(new FetchError("invalid response body at: "+self.url+" reason: "+err.message,"system",err))});self.body.on("data",function(chunk){if(self._abort||chunk===null){return}if(self.size&&self._bytes+chunk.length>self.size){self._abort=true;reject(new FetchError("content size at "+self.url+" over limit: "+self.size,"max-size"));return}self._bytes+=chunk.length;self._raw.push(chunk)});self.body.on("end",function(){if(self._abort){return}clearTimeout(resTimeout);resolve(self._convert())})})};Body.prototype._convert=function(encoding){encoding=encoding||"utf-8";var ct=this.headers.get("content-type");var charset="utf-8";var res,str;if(ct){if(!/text\/html|text\/plain|\+xml|\/xml/i.test(ct)){return Buffer.concat(this._raw)}res=/charset=([^;]*)/i.exec(ct)}if(!res&&this._raw.length>0){for(var i=0;i<this._raw.length;i++){str+=this._raw[i].toString();if(str.length>1024){break}}str=str.substr(0,1024)}if(!res&&str){res=/<meta.+?charset=(['"])(.+?)\1/i.exec(str)}if(!res&&str){res=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str);if(res){res=/charset=(.*)/i.exec(res.pop())}}if(!res&&str){res=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str)}if(res){charset=res.pop();if(charset==="gb2312"||charset==="gbk"){charset="gb18030"}}return convert(Buffer.concat(this._raw),encoding,charset)};Body.prototype._clone=function(instance){var p1,p2;var body=instance.body;if(instance.bodyUsed){throw new Error("cannot clone body after it is used")}if(bodyStream(body)&&typeof body.getBoundary!=="function"){p1=new PassThrough;p2=new PassThrough;body.pipe(p1);body.pipe(p2);instance.body=p1;body=p2}return body};Body.Promise=global.Promise}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./fetch-error":77,buffer:41,encoding:45,"is-stream":73,stream:98}],77:[function(require,module,exports){module.exports=FetchError;function FetchError(message,type,systemError){this.name=this.constructor.name;this.message=message;this.type=type;if(systemError){this.code=this.errno=systemError.code}Error.captureStackTrace(this,this.constructor)}require("util").inherits(FetchError,Error)},{util:122}],78:[function(require,module,exports){module.exports=Headers;function Headers(headers){var self=this;this._headers={};if(headers instanceof Headers){headers=headers.raw()}for(var prop in headers){if(!headers.hasOwnProperty(prop)){continue}if(typeof headers[prop]==="string"){this.set(prop,headers[prop])}else if(typeof headers[prop]==="number"&&!isNaN(headers[prop])){this.set(prop,headers[prop].toString())}else if(Array.isArray(headers[prop])){headers[prop].forEach(function(item){self.append(prop,item.toString())})}}}Headers.prototype.get=function(name){var list=this._headers[name.toLowerCase()];return list?list[0]:null};Headers.prototype.getAll=function(name){if(!this.has(name)){return[]}return this._headers[name.toLowerCase()]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this._headers).forEach(function(name){this._headers[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};Headers.prototype.set=function(name,value){this._headers[name.toLowerCase()]=[value]};Headers.prototype.append=function(name,value){if(!this.has(name)){this.set(name,value);return}this._headers[name.toLowerCase()].push(value)};Headers.prototype.has=function(name){return this._headers.hasOwnProperty(name.toLowerCase())};Headers.prototype["delete"]=function(name){delete this._headers[name.toLowerCase()]};Headers.prototype.raw=function(){return this._headers}},{}],79:[function(require,module,exports){var parse_url=require("url").parse;var Headers=require("./headers");var Body=require("./body");module.exports=Request;function Request(input,init){var url,url_parsed;if(!(input instanceof Request)){url=input;url_parsed=parse_url(url);input={}}else{url=input.url;url_parsed=parse_url(url)}init=init||{};this.method=init.method||input.method||"GET";this.redirect=init.redirect||input.redirect||"follow";this.headers=new Headers(init.headers||input.headers||{});this.url=url;this.follow=init.follow!==undefined?init.follow:input.follow!==undefined?input.follow:20;this.compress=init.compress!==undefined?init.compress:input.compress!==undefined?input.compress:true;this.counter=init.counter||input.counter||0;this.agent=init.agent||input.agent;Body.call(this,init.body||this._clone(input),{timeout:init.timeout||input.timeout||0,size:init.size||input.size||0});this.protocol=url_parsed.protocol;this.hostname=url_parsed.hostname;this.port=url_parsed.port;this.path=url_parsed.path;this.auth=url_parsed.auth}Request.prototype=Object.create(Body.prototype);Request.prototype.clone=function(){return new Request(this)}},{"./body":76,"./headers":78,url:117}],80:[function(require,module,exports){var http=require("http");var Headers=require("./headers");var Body=require("./body");module.exports=Response;function Response(body,opts){opts=opts||{};this.url=opts.url;this.status=opts.status||200;this.statusText=opts.statusText||http.STATUS_CODES[this.status];this.headers=new Headers(opts.headers);this.ok=this.status>=200&&this.status<300;Body.call(this,body,opts)}Response.prototype=Object.create(Body.prototype);Response.prototype.clone=function(){return new Response(this._clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}},{"./body":76,"./headers":78,http:109}],81:[function(require,module,exports){"use strict";var TYPED_OK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";exports.assign=function(obj){var sources=Array.prototype.slice.call(arguments,1);while(sources.length){var source=sources.shift();if(!source){continue}if(typeof source!=="object"){throw new TypeError(source+"must be non-object")}for(var p in source){if(source.hasOwnProperty(p)){obj[p]=source[p]}}}return obj};exports.shrinkBuf=function(buf,size){if(buf.length===size){return buf}if(buf.subarray){return buf.subarray(0,size)}buf.length=size;return buf};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++){len+=chunks[i].length}result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk=chunks[i];result.set(chunk,pos);pos+=chunk.length}return result}};var fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){if(on){exports.Buf8=Uint8Array;exports.Buf16=Uint16Array;exports.Buf32=Int32Array;exports.assign(exports,fnTyped)}else{exports.Buf8=Array;exports.Buf16=Array;exports.Buf32=Array;exports.assign(exports,fnUntyped)}};exports.setTyped(TYPED_OK)},{}],82:[function(require,module,exports){"use strict";function adler32(adler,buf,len,pos){var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;while(len!==0){n=len>2e3?2e3:len;len-=n;do{s1=s1+buf[pos++]|0;s2=s2+s1|0}while(--n);s1%=65521;s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],83:[function(require,module,exports){module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],84:[function(require,module,exports){"use strict";function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc=crc^-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^buf[i])&255]}return crc^-1}module.exports=crc32},{}],85:[function(require,module,exports){"use strict";var utils=require("../utils/common");var trees=require("./trees");var adler32=require("./adler32");var crc32=require("./crc32");var msg=require("./messages");var Z_NO_FLUSH=0;var Z_PARTIAL_FLUSH=1;var Z_FULL_FLUSH=3;var Z_FINISH=4;var Z_BLOCK=5;var Z_OK=0;var Z_STREAM_END=1;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_BUF_ERROR=-5;var Z_DEFAULT_COMPRESSION=-1;var Z_FILTERED=1;var Z_HUFFMAN_ONLY=2;var Z_RLE=3;var Z_FIXED=4;var Z_DEFAULT_STRATEGY=0;var Z_UNKNOWN=2;var Z_DEFLATED=8;var MAX_MEM_LEVEL=9;var MAX_WBITS=15;var DEF_MEM_LEVEL=8;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var MIN_MATCH=3;var MAX_MATCH=258;var MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;var PRESET_DICT=32;var INIT_STATE=42;var EXTRA_STATE=69;var NAME_STATE=73;var COMMENT_STATE=91;var HCRC_STATE=103;var BUSY_STATE=113;var FINISH_STATE=666;var BS_NEED_MORE=1;var BS_BLOCK_DONE=2;var BS_FINISH_STARTED=3;var BS_FINISH_DONE=4;var OS_CODE=3;function err(strm,errorCode){strm.msg=msg[errorCode];return errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}function flush_pending(strm){var s=strm.state;var len=s.pending;if(len>strm.avail_out){len=strm.avail_out}if(len===0){return}utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(s.pending===0){s.pending_out=0}}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255;s.pending_buf[s.pending++]=b&255}function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size){len=size}if(len===0){return 0}strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(strm.state.wrap===1){strm.adler=adler32(strm.adler,buf,len,start)}else if(strm.state.wrap===2){strm.adler=crc32(strm.adler,buf,len,start)}strm.next_in+=len;strm.total_in+=len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length;var scan=s.strstart;var match;var len;var best_len=s.prev_length;var nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0;var _win=s.window;var wmask=s.w_mask;var prev=s.prev;var strend=s.strstart+MAX_MATCH;var scan_end1=_win[scan+best_len-1];var scan_end=_win[scan+best_len];if(s.prev_length>=s.good_match){chain_length>>=2}if(nice_match>s.lookahead){nice_match=s.lookahead}do{match=cur_match;if(_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1]){continue}scan+=2;match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match){break}scan_end1=_win[scan+best_len-1];scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);if(best_len<=s.lookahead){return best_len}return s.lookahead}function fill_window(s){var _w_size=s.w_size;var p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m=s.head[--p];s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size;p=n;do{m=s.prev[--p];s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(s.strm.avail_in===0){break}n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h=s.window[str];s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH){break}}}}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5){max_block_size=s.pending_buf_size-5}for(;;){if(s.lookahead<=1){fill_window(s);if(s.lookahead===0&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.strstart+=s.lookahead;s.lookahead=0;var max_start=s.block_start+max_block_size;if(s.strstart===0||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head;var bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}if(hash_head!==0&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head)}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}while(--s.match_length!==0);s.strstart++}else{s.strstart+=s.match_length;s.match_length=0;s.ins_h=s.window[s.strstart];s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask}}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head;var bflush;var max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}s.prev_length=s.match_length;s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)){s.match_length=MIN_MATCH-1}}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);s.lookahead-=s.prev_length-1;s.prev_length-=2;do{if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}}while(--s.prev_length!==0);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}else if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);if(bflush){flush_block_only(s,false)}s.strstart++;s.lookahead--;if(s.strm.avail_out===0){return BS_NEED_MORE}}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_rle(s,flush){var bflush;var prev;var scan,strend;var _win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.match_length=0;if(s.lookahead>=MIN_MATCH&&s.strstart>0){scan=s.strstart-1;prev=_win[scan];if(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead){s.match_length=s.lookahead}}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;for(;;){if(s.lookahead===0){fill_window(s);if(s.lookahead===0){if(flush===Z_NO_FLUSH){return BS_NEED_MORE}break}}s.match_length=0;bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}var Config=function(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func};var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match=configuration_table[s.level].max_lazy;s.good_match=configuration_table[s.level].good_length;s.nice_match=configuration_table[s.level].nice_length;s.max_chain_length=configuration_table[s.level].max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2);this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2);this.bl_tree=new utils.Buf16((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;if(!strm||!strm.state){return err(strm,Z_STREAM_ERROR)}strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(s.wrap<0){s.wrap=-s.wrap}s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=s.wrap===2?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK){lm_init(strm.state)}return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state){return Z_STREAM_ERROR}if(strm.state.wrap!==2){return Z_STREAM_ERROR}strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm){return Z_STREAM_ERROR}var wrap=1;if(level===Z_DEFAULT_COMPRESSION){level=6}if(windowBits<0){wrap=0;windowBits=-windowBits}else if(windowBits>15){wrap=2;windowBits-=16}if(memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED){return err(strm,Z_STREAM_ERROR)}if(windowBits===8){windowBits=9}var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(s.w_size*2);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=s.lit_bufsize*4;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=s.lit_bufsize>>1;s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s;var beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0){return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR}s=strm.state;if(!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH){return err(strm,strm.avail_out===0?Z_BUF_ERROR:Z_STREAM_ERROR)}s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE){if(s.wrap===2){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,s.gzhead.time&255);put_byte(s,s.gzhead.time>>8&255);put_byte(s,s.gzhead.time>>16&255);put_byte(s,s.gzhead.time>>24&255);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,s.gzhead.os&255);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,s.gzhead.extra.length&255);put_byte(s,s.gzhead.extra.length>>8&255)}if(s.gzhead.hcrc){strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)}s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;var level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2){level_flags=0}else if(s.level<6){level_flags=1}else if(s.level===6){level_flags=2}else{level_flags=3}header|=level_flags<<6;if(s.strstart!==0){header|=PRESET_DICT}header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(s.strstart!==0){putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}strm.adler=1}}if(s.status===EXTRA_STATE){if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(s.gzhead.extra.length&65535)){if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){break}}put_byte(s,s.gzhead.extra[s.gzindex]&255);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else{s.status=NAME_STATE}}if(s.status===NAME_STATE){if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length){val=s.gzhead.name.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.gzindex=0;s.status=COMMENT_STATE}}else{s.status=COMMENT_STATE}}if(s.status===COMMENT_STATE){if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length){val=s.gzhead.comment.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.status=HCRC_STATE}}else{s.status=HCRC_STATE}}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size){flush_pending(strm)}if(s.pending+2<=s.pending_buf_size){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);strm.adler=0;s.status=BUSY_STATE}}else{s.status=BUSY_STATE}}if(s.pending!==0){flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH){return err(strm,Z_BUF_ERROR)}if(s.status===FINISH_STATE&&strm.avail_in!==0){return err(strm,Z_BUF_ERROR)}if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE){s.status=FINISH_STATE}if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(strm.avail_out===0){s.last_flush=-1}return Z_OK}if(bstate===BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH){trees._tr_align(s)}else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,false);if(flush===Z_FULL_FLUSH){zero(s.head);if(s.lookahead===0){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH){return Z_OK}if(s.wrap<=0){return Z_STREAM_END}if(s.wrap===2){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);put_byte(s,strm.adler>>16&255);put_byte(s,strm.adler>>24&255);put_byte(s,strm.total_in&255);put_byte(s,strm.total_in>>8&255);put_byte(s,strm.total_in>>16&255);put_byte(s,strm.total_in>>24&255)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}flush_pending(strm);if(s.wrap>0){s.wrap=-s.wrap}return s.pending!==0?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state){return Z_STREAM_ERROR}status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE){return err(strm,Z_STREAM_ERROR)}strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetHeader=deflateSetHeader;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":81,"./adler32":82,"./crc32":84,"./messages":89,"./trees":90}],86:[function(require,module,exports){"use strict";var BAD=30;var TYPE=12;module.exports=function inflate_fast(strm,start){var state;var _in;var last;var _out;var beg;var end;var dmax;var wsize;var whave;var wnext;var s_window;var hold;var bits;var lcode;var dcode;var lmask;var dmask;var here;var op;var len;var dist;var from;var from_source;var input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;s_window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=lcode[hold&lmask];dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op===0){output[_out++]=here&65535}else if(op&16){len=here&65535;op&=15;if(op){if(bits<op){hold+=input[_in++]<<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=dcode[hold&dmask];dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op&16){dist=here&65535;op&=15;if(bits<op){hold+=input[_in++]<<bits;bits+=8;if(bits<op){hold+=input[_in++]<<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}}from=0;from_source=s_window;if(wnext===0){from+=wsize-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=0;if(wnext<len){op=wnext;len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist;from_source=output}}while(len>2){output[_out++]=from_source[from++];output[_out++]=from_source[from++];output[_out++]=from_source[from++];len-=3}if(len){output[_out++]=from_source[from++];if(len>1){output[_out++]=from_source[from++]}}}else{from=_out-dist;do{output[_out++]=output[from++];output[_out++]=output[from++];output[_out++]=output[from++];len-=3}while(len>2);if(len){output[_out++]=output[from++];if(len>1){output[_out++]=output[from++]}}}}else if((op&64)===0){here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if((op&64)===0){here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},{}],87:[function(require,module,exports){"use strict";var utils=require("../utils/common");var adler32=require("./adler32");var crc32=require("./crc32");var inflate_fast=require("./inffast");var inflate_table=require("./inftrees");var CODES=0;var LENS=1;var DISTS=2;var Z_FINISH=4;var Z_BLOCK=5;var Z_TREES=6;var Z_OK=0;var Z_STREAM_END=1;var Z_NEED_DICT=2;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_MEM_ERROR=-4;var Z_BUF_ERROR=-5;var Z_DEFLATED=8;var HEAD=1;var FLAGS=2;var TIME=3;var OS=4;var EXLEN=5;var EXTRA=6;var NAME=7;var COMMENT=8;var HCRC=9;var DICTID=10;var DICT=11;var TYPE=12;var TYPEDO=13;var STORED=14;var COPY_=15;var COPY=16;var TABLE=17;var LENLENS=18;var CODELENS=19;var LEN_=20;var LEN=21;var LENEXT=22;var DIST=23;var DISTEXT=24;var MATCH=25;var LIT=26;var CHECK=27;var LENGTH=28;var DONE=29;var BAD=30;var MEM=31;var SYNC=32;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var MAX_WBITS=15;var DEF_WBITS=MAX_WBITS;function ZSWAP32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap){strm.adler=state.wrap&1}state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap;var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(windowBits<0){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(windowBits<48){windowBits&=15}}if(windowBits&&(windowBits<8||windowBits>15)){return Z_STREAM_ERROR}if(state.window!==null&&state.wbits!==windowBits){state.window=null}state.wrap=wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret;var state;if(!strm){return Z_STREAM_ERROR}state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK){strm.state=null}return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=true;var lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(sym<144){state.lens[sym++]=8}while(sym<256){state.lens[sym++]=9}while(sym<280){state.lens[sym++]=7}while(sym<288){state.lens[sym++]=8}inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(sym<32){state.lens[sym++]=5}inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=false}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist;var state=strm.state;if(state.window===null){state.wsize=1<<state.wbits;state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy){dist=copy}utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize){state.wnext=0}if(state.whave<state.wsize){state.whave+=dist}}}return 0}function inflate(strm,flush){var state;var input,output;var next;var put;var have,left;var hold;var bits;var _in,_out;var copy;var from;var from_source;var here=0;var here_bits,here_op,here_val;var last_bits,last_op,last_val;var len;var ret;var hbuf=new utils.Buf8(4);var opts;var n;var order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0){return Z_STREAM_ERROR}state=strm.state;if(state.mode===TYPE){state.mode=TYPEDO}put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;){switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.wrap&2&&hold===35615){state.check=0;hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0);hold=0;bits=0;state.mode=FLAGS;break}state.flags=0;if(state.head){state.head.done=false}if(!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(hold&15)+8;if(state.wbits===0){state.wbits=len}else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=hold&512?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.flags=hold;if((state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head){state.head.text=hold>>8&1}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.time=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;hbuf[2]=hold>>>16&255;hbuf[3]=hold>>>24&255;state.check=crc32(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.xflags=hold&255;state.head.os=hold>>8}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(state.flags&1024){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length=hold;if(state.head){state.head.extra_len=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head){state.head.extra=null}state.mode=EXTRA;case EXTRA:if(state.flags&1024){copy=state.length;if(copy>have){copy=have}if(copy){if(state.head){len=state.head.extra_len-state.length;if(!state.head.extra){state.head.extra=new Array(state.head.extra_len)}utils.arraySet(state.head.extra,input,next,copy,len)}if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;state.length-=copy}if(state.length){break inf_leave}}state.length=0;state.mode=NAME;case NAME:if(state.flags&2048){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.name+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.name=null}state.length=0;state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.comment+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.comment=null}state.mode=HCRC;case HCRC:if(state.flags&512){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=state.flags>>9&1;state.head.done=true}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}strm.adler=state.check=ZSWAP32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(state.havedict===0){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES){break inf_leave}case TYPEDO:if(state.last){hold>>>=bits&7;bits-=bits&7;state.mode=CHECK;break}while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.last=hold&1;hold>>>=1;bits-=1;switch(hold&3){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD}hold>>>=2;bits-=2;break;case STORED:hold>>>=bits&7;bits-=bits&7;while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths";state.mode=BAD;break}state.length=hold&65535;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES){break inf_leave}case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have){copy=have}if(copy>left){copy=left}if(copy===0){break inf_leave}utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(bits<14){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.nlen=(hold&31)+257;hold>>>=5;bits-=5;state.ndist=(hold&31)+1;hold>>>=5;bits-=5;state.ncode=(hold&15)+4;hold>>>=4;bits-=4;if(state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.lens[order[state.have++]]=hold&7;hold>>>=3;bits-=3}while(state.have<19){state.lens[order[state.have++]]=0}state.lencode=state.lendyn;state.lenbits=7;opts={bits:state.lenbits};ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_val<16){hold>>>=here_bits;bits-=here_bits;state.lens[state.have++]=here_val}else{if(here_val===16){n=here_bits+2;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(state.have===0){strm.msg="invalid bit length repeat";state.mode=BAD;break}len=state.lens[state.have-1];copy=3+(hold&3);hold>>>=2;bits-=2}else if(here_val===17){n=here_bits+3;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=3+(hold&7);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(hold&127);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--){state.lens[state.have++]=len}}}if(state.mode===BAD){break}if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=9;opts={bits:state.lenbits};ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===Z_TREES){break inf_leave}case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;inflate_fast(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE){state.back=-1}break}state.back=0;for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_op&&(here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1;state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=here_op&15;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here=state.distcode[hold&(1<<state.distbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(here_op&64){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=here_op&15;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0){break inf_leave}copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else{from=state.wnext-copy}if(copy>state.length){copy=state.length}from_source=state.window}else{from_source=output;from=put-state.offset;copy=state.length}if(copy>left){copy=left}left-=copy;state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);if(state.length===0){state.mode=LEN}break;case LIT:if(left===0){break inf_leave}output[put++]=state.length;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(bits<32){if(have===0){break inf_leave}have--;hold|=input[next++]<<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)}_out=left;if((state.flags?hold:ZSWAP32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH)){if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=_out;if(state.wrap&&_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)}strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK){ret=Z_BUF_ERROR}return ret}function inflateEnd(strm){if(!strm||!strm.state){return Z_STREAM_ERROR}var state=strm.state;if(state.window){state.window=null}strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if((state.wrap&2)===0){return Z_STREAM_ERROR}state.head=head;head.done=false;return Z_OK}exports.inflateReset=inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":81,"./adler32":82,"./crc32":84,"./inffast":86,"./inftrees":88}],88:[function(require,module,exports){"use strict";var utils=require("../utils/common");var MAXBITS=15;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var CODES=0;var LENS=1;var DISTS=2;var lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits;var len=0;var sym=0;var min=0,max=0;var root=0;var curr=0;var drop=0;var left=0;var used=0;var huff=0;var incr;var fill;var low;var mask;var next;var base=null;var base_index=0;var end;var count=new utils.Buf16(MAXBITS+1);var offs=new utils.Buf16(MAXBITS+1);var extra=null;var extra_index=0;var here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++){count[len]=0}for(sym=0;sym<codes;sym++){count[lens[lens_index+sym]]++}root=bits;for(max=MAXBITS;max>=1;max--){if(count[max]!==0){break}}if(root>max){root=max}if(max===0){table[table_index++]=1<<24|64<<16|0;table[table_index++]=1<<24|64<<16|0;opts.bits=1;return 0}for(min=1;min<max;min++){if(count[min]!==0){break}}if(root<min){root=min}left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=count[len];if(left<0){return-1}}if(left>0&&(type===CODES||max!==1)){return-1}offs[1]=0;for(len=1;len<MAXBITS;len++){offs[len+1]=offs[len]+count[len]}for(sym=0;sym<codes;sym++){if(lens[lens_index+sym]!==0){work[offs[lens[lens_index+sym]]++]=sym}}if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}var i=0;for(;;){i++;here_bits=len-drop;if(work[sym]<end){here_op=0;here_val=work[sym]}else if(work[sym]>end){here_op=extra[extra_index+work[sym]];here_val=base[base_index+work[sym]]}else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr;table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0}while(fill!==0);incr=1<<len-1;while(huff&incr){incr>>=1}if(incr!==0){huff&=incr-1;huff+=incr}else{huff=0}sym++;if(--count[len]===0){if(len===max){break}len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){if(drop===0){drop=root}next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-=count[curr+drop];if(left<=0){break}curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}low=huff&mask;table[low]=root<<24|curr<<16|next-table_index|0}}if(huff!==0){table[next+huff]=len-drop<<24|64<<16|0}opts.bits=root;return 0}},{"../utils/common":81}],89:[function(require,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],90:[function(require,module,exports){"use strict";var utils=require("../utils/common");var Z_FIXED=4;var Z_BINARY=0;var Z_TEXT=1;var Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}var STORED_BLOCK=0;var STATIC_TREES=1;var DYN_TREES=2;var MIN_MATCH=3;var MAX_MATCH=258;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var Buf_size=16;var MAX_BL_BITS=7;var END_BLOCK=256;var REP_3_6=16;var REPZ_3_10=17;var REPZ_11_138=18;var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var DIST_CODE_LEN=512;var static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var StaticTreeDesc=function(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length};var static_l_desc;var static_d_desc;var static_bl_desc;var TreeDesc=function(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc};function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=w&255;s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=value<<s.bi_valid&65535;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=value<<s.bi_valid&65535;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s,tree[c*2],tree[c*2+1])}function bi_reverse(code,len){var res=0;do{res|=code&1;code>>>=1;res<<=1}while(--len>0);return res>>>1}function bi_flush(s){if(s.bi_valid===16){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(s.bi_valid>=8){s.pending_buf[s.pending++]=s.bi_buf&255;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree;var max_code=desc.max_code;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var extra=desc.stat_desc.extra_bits;var base=desc.stat_desc.extra_base;var max_length=desc.stat_desc.max_length;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=MAX_BITS;bits++){s.bl_count[bits]=0}tree[s.heap[s.heap_max]*2+1]=0;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n=s.heap[h];bits=tree[tree[n*2+1]*2+1]+1;if(bits>max_length){bits=max_length;overflow++}tree[n*2+1]=bits;if(n>max_code){continue}s.bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base]}f=tree[n*2];s.opt_len+=f*(bits+xbits);if(has_stree){s.static_len+=f*(stree[n*2+1]+xbits)}}if(overflow===0){return}do{bits=max_length-1;while(s.bl_count[bits]===0){bits--}s.bl_count[bits]--;s.bl_count[bits+1]+=2;s.bl_count[max_length]--;overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--){n=s.bl_count[bits];while(n!==0){m=s.heap[--h];if(m>max_code){continue}if(tree[m*2+1]!==bits){s.opt_len+=(bits-tree[m*2+1])*tree[m*2];tree[m*2+1]=bits}n--}}}function gen_codes(tree,max_code,bl_count){var next_code=new Array(MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=MAX_BITS;bits++){next_code[bits]=code=code+bl_count[bits-1]<<1}for(n=0;n<=max_code;n++){var len=tree[n*2+1];if(len===0){continue}tree[n*2]=bi_reverse(next_code[len]++,len)}}function tr_static_init(){var n;var bits;var length;var code;var dist;var bl_count=new Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){base_length[code]=length;for(n=0;n<1<<extra_lbits[code];n++){_length_code[length++]=code}}_length_code[length-1]=code;dist=0;for(code=0;code<16;code++){base_dist[code]=dist;for(n=0;n<1<<extra_dbits[code];n++){_dist_code[dist++]=code}}dist>>=7;for(;code<D_CODES;code++){base_dist[code]=dist<<7;for(n=0;n<1<<extra_dbits[code]-7;n++){_dist_code[256+dist++]=code}}for(bits=0;bits<=MAX_BITS;bits++){bl_count[bits]=0}n=0;while(n<=143){static_ltree[n*2+1]=8;n++;bl_count[8]++}while(n<=255){static_ltree[n*2+1]=9;n++;bl_count[9]++}while(n<=279){static_ltree[n*2+1]=7;n++;bl_count[7]++}while(n<=287){static_ltree[n*2+1]=8;n++;bl_count[8]++}gen_codes(static_ltree,L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){static_dtree[n*2+1]=5;static_dtree[n*2]=bi_reverse(n,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++){s.dyn_ltree[n*2]=0}for(n=0;n<D_CODES;n++){s.dyn_dtree[n*2]=0}for(n=0;n<BL_CODES;n++){s.bl_tree[n*2]=0}s.dyn_ltree[END_BLOCK*2]=1;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(s.bi_valid>8){put_short(s,s.bi_buf)}else if(s.bi_valid>0){s.pending_buf[s.pending++]=s.bi_buf}s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2;var _m2=m*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){var v=s.heap[k];var j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)){j++}if(smaller(tree,v,s.heap[j],s.depth)){break}s.heap[k]=s.heap[j];k=j;j<<=1}s.heap[k]=v}function compress_block(s,ltree,dtree){var dist;var lc;var lx=0;var code;var extra;if(s.last_lit!==0){do{dist=s.pending_buf[s.d_buf+lx*2]<<8|s.pending_buf[s.d_buf+lx*2+1];lc=s.pending_buf[s.l_buf+lx];lx++;if(dist===0){send_code(s,lc,ltree)}else{code=_length_code[lc];send_code(s,code+LITERALS+1,ltree);extra=extra_lbits[code];if(extra!==0){lc-=base_length[code];send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra=extra_dbits[code];if(extra!==0){dist-=base_dist[code];send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var elems=desc.stat_desc.elems;var n,m;var max_code=-1;var node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<elems;n++){if(tree[n*2]!==0){s.heap[++s.heap_len]=max_code=n;s.depth[n]=0}else{tree[n*2+1]=0}}while(s.heap_len<2){node=s.heap[++s.heap_len]=max_code<2?++max_code:0;tree[node*2]=1;s.depth[node]=0;s.opt_len--;if(has_stree){s.static_len-=stree[node*2+1]}}desc.max_code=max_code;for(n=s.heap_len>>1;n>=1;n--){pqdownheap(s,tree,n)}node=elems;do{n=s.heap[1];s.heap[1]=s.heap[s.heap_len--];pqdownheap(s,tree,1);m=s.heap[1];s.heap[--s.heap_max]=n;s.heap[--s.heap_max]=m;tree[node*2]=tree[n*2]+tree[m*2];s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1;tree[n*2+1]=tree[m*2+1]=node;s.heap[1]=node++;pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1];gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}tree[(max_code+1)*2+1]=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){s.bl_tree[curlen*2]+=count}else if(curlen!==0){if(curlen!==prevlen){s.bl_tree[curlen*2]++}s.bl_tree[REP_3_6*2]++}else if(count<=10){s.bl_tree[REPZ_3_10*2]++}else{s.bl_tree[REPZ_11_138*2]++}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(--count!==0)}else if(curlen!==0){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(count<=10){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,count-11,7)}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;max_blindex>=3;max_blindex--){if(s.bl_tree[bl_order[max_blindex]*2+1]!==0){break}}s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++){send_bits(s,s.bl_tree[bl_order[rank]*2+1],3)}send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447;var n;for(n=0;n<=31;n++,black_mask>>>=1){if(black_mask&1&&s.dyn_ltree[n*2]!==0){return Z_BINARY}}if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0){return Z_TEXT}for(n=32;n<LITERALS;n++){if(s.dyn_ltree[n*2]!==0){return Z_TEXT}}return Z_BINARY}var static_init_done=false;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=true}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,true)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb;var max_blindex=0;if(s.level>0){if(s.strm.data_type===Z_UNKNOWN){s.strm.data_type=detect_data_type(s)}build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb}}else{opt_lenb=static_lenb=stored_len+5}if(stored_len+4<=opt_lenb&&buf!==-1){_tr_stored_block(s,buf,stored_len,last)}else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last){bi_windup(s)}}function _tr_tally(s,dist,lc){s.pending_buf[s.d_buf+s.last_lit*2]=dist>>>8&255;s.pending_buf[s.d_buf+s.last_lit*2+1]=dist&255;s.pending_buf[s.l_buf+s.last_lit]=lc&255;s.last_lit++;if(dist===0){s.dyn_ltree[lc*2]++}else{s.matches++;dist--;s.dyn_ltree[(_length_code[lc]+LITERALS+1)*2]++;s.dyn_dtree[d_code(dist)*2]++}return s.last_lit===s.lit_bufsize-1}exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_flush_block=_tr_flush_block;exports._tr_tally=_tr_tally;exports._tr_align=_tr_align},{"../utils/common":81}],91:[function(require,module,exports){"use strict";function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}module.exports=ZStream},{}],92:[function(require,module,exports){(function(process){"use strict";if(!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports=nextTick}else{module.exports=process.nextTick}function nextTick(fn){var args=new Array(arguments.length-1);var i=0;while(i<args.length){args[i++]=arguments[i]}process.nextTick(function afterTick(){fn.apply(null,args)})}}).call(this,require("_process"))},{_process:93}],93:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],94:[function(require,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=="object"&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],95:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},{}],96:[function(require,module,exports){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}}).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},{}],97:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode");exports.encode=exports.stringify=require("./encode")},{"./decode":95,"./encode":96}],98:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:47,inherits:71,"readable-stream/duplex.js":99,"readable-stream/passthrough.js":105,"readable-stream/readable.js":106,"readable-stream/transform.js":107,"readable-stream/writable.js":108}],99:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":100}],100:[function(require,module,exports){arguments[4][36][0].apply(exports,arguments)},{"./_stream_readable":102,"./_stream_writable":104,"core-util-is":44,dup:36,inherits:71,"process-nextick-args":92}],101:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":103,"core-util-is":44,inherits:71}],102:[function(require,module,exports){arguments[4][37][0].apply(exports,arguments)},{"./_stream_duplex":100,_process:93,buffer:41,"core-util-is":44,dup:37,events:47,inherits:71,isarray:74,"process-nextick-args":92,"string_decoder/":114,util:33}],103:[function(require,module,exports){arguments[4][38][0].apply(exports,arguments)},{"./_stream_duplex":100,"core-util-is":44,dup:38,inherits:71}],104:[function(require,module,exports){arguments[4][39][0].apply(exports,arguments)},{"./_stream_duplex":100,buffer:41,"core-util-is":44,dup:39,events:47,inherits:71,"process-nextick-args":92,"util-deprecate":119}],105:[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":101}],106:[function(require,module,exports){var Stream=function(){try{return require("st"+"ream")}catch(_){}}();exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=Stream||exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":100,"./lib/_stream_passthrough.js":101,"./lib/_stream_readable.js":102,"./lib/_stream_transform.js":103,"./lib/_stream_writable.js":104}],107:[function(require,module,exports){arguments[4][40][0].apply(exports,arguments)},{"./lib/_stream_transform.js":103,dup:40}],108:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":104}],109:[function(require,module,exports){(function(global){var ClientRequest=require("./lib/request");var extend=require("xtend");var statusCodes=require("builtin-status-codes");var url=require("url");var http=exports;http.request=function(opts,cb){if(typeof opts==="string")opts=url.parse(opts);else opts=extend(opts);var defaultProtocol=global.location.protocol.search(/^https?:$/)===-1?"http:":"";var protocol=opts.protocol||defaultProtocol;var host=opts.hostname||opts.host;var port=opts.port;var path=opts.path||"/";if(host&&host.indexOf(":")!==-1)host="["+host+"]";opts.url=(host?protocol+"//"+host:"")+(port?":"+port:"")+path;opts.method=(opts.method||"GET").toUpperCase();opts.headers=opts.headers||{};var req=new ClientRequest(opts);if(cb)req.on("response",cb);return req};http.get=function get(opts,cb){var req=http.request(opts,cb);req.end();return req};http.Agent=function(){};http.Agent.defaultMaxSockets=4;http.STATUS_CODES=statusCodes;http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/request":111,"builtin-status-codes":43,url:117,xtend:113}],110:[function(require,module,exports){(function(global){exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableByteStream);exports.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);exports.blobConstructor=true}catch(e){}var xhr=new global.XMLHttpRequest;xhr.open("GET",global.location.host?"/":"https://example.com");function checkTypeSupport(type){try{xhr.responseType=type;return xhr.responseType===type}catch(e){}return false}var haveArrayBuffer=typeof global.ArrayBuffer!=="undefined";var haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=haveArrayBuffer&&checkTypeSupport("arraybuffer");exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream");exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer");exports.overrideMimeType=isFunction(xhr.overrideMimeType);exports.vbArray=isFunction(global.VBArray);function isFunction(value){return typeof value==="function"}xhr=null}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],111:[function(require,module,exports){(function(process,global,Buffer){var capability=require("./capability");var inherits=require("inherits");var response=require("./response");var stream=require("stream");var toArrayBuffer=require("to-arraybuffer");var IncomingMessage=response.IncomingMessage;var rStates=response.readyStates;function decideMode(preferBinary){if(capability.fetch){return"fetch"}else if(capability.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(capability.msstream){return"ms-stream"}else if(capability.arraybuffer&&preferBinary){return"arraybuffer"}else if(capability.vbArray&&preferBinary){return"text:vbarray"}else{return"text"}}var ClientRequest=module.exports=function(opts){var self=this;stream.Writable.call(self);self._opts=opts;self._body=[];self._headers={};if(opts.auth)self.setHeader("Authorization","Basic "+new Buffer(opts.auth).toString("base64"));Object.keys(opts.headers).forEach(function(name){self.setHeader(name,opts.headers[name])});var preferBinary;if(opts.mode==="prefer-streaming"){preferBinary=false}else if(opts.mode==="allow-wrong-content-type"){preferBinary=!capability.overrideMimeType}else if(!opts.mode||opts.mode==="default"||opts.mode==="prefer-fast"){preferBinary=true}else{throw new Error("Invalid value for opts.mode")}self._mode=decideMode(preferBinary);self.on("finish",function(){self._onFinish()})};inherits(ClientRequest,stream.Writable);ClientRequest.prototype.setHeader=function(name,value){var self=this;var lowerName=name.toLowerCase();if(unsafeHeaders.indexOf(lowerName)!==-1)return;self._headers[lowerName]={name:name,value:value}};ClientRequest.prototype.getHeader=function(name){var self=this;return self._headers[name.toLowerCase()].value};ClientRequest.prototype.removeHeader=function(name){var self=this;delete self._headers[name.toLowerCase()]};ClientRequest.prototype._onFinish=function(){var self=this;if(self._destroyed)return;var opts=self._opts;var headersObj=self._headers;var body;if(opts.method==="POST"||opts.method==="PUT"||opts.method==="PATCH"){if(capability.blobConstructor){body=new global.Blob(self._body.map(function(buffer){return toArrayBuffer(buffer)}),{type:(headersObj["content-type"]||{}).value||""})}else{body=Buffer.concat(self._body).toString()}}if(self._mode==="fetch"){var headers=Object.keys(headersObj).map(function(name){return[headersObj[name].name,headersObj[name].value]});global.fetch(self._opts.url,{method:self._opts.method,headers:headers,body:body,mode:"cors",credentials:opts.withCredentials?"include":"same-origin"}).then(function(response){self._fetchResponse=response;self._connect()},function(reason){self.emit("error",reason)})}else{var xhr=self._xhr=new global.XMLHttpRequest;try{xhr.open(self._opts.method,self._opts.url,true)}catch(err){process.nextTick(function(){self.emit("error",err)});return}if("responseType"in xhr)xhr.responseType=self._mode.split(":")[0];if("withCredentials"in xhr)xhr.withCredentials=!!opts.withCredentials;if(self._mode==="text"&&"overrideMimeType"in xhr)xhr.overrideMimeType("text/plain; charset=x-user-defined");Object.keys(headersObj).forEach(function(name){xhr.setRequestHeader(headersObj[name].name,headersObj[name].value)});self._response=null;xhr.onreadystatechange=function(){switch(xhr.readyState){case rStates.LOADING:case rStates.DONE:self._onXHRProgress();break}};if(self._mode==="moz-chunked-arraybuffer"){xhr.onprogress=function(){self._onXHRProgress()}}xhr.onerror=function(){if(self._destroyed)return;self.emit("error",new Error("XHR error"))};try{xhr.send(body)}catch(err){process.nextTick(function(){self.emit("error",err)});return}}};function statusValid(xhr){try{var status=xhr.status;return status!==null&&status!==0}catch(e){return false}}ClientRequest.prototype._onXHRProgress=function(){var self=this;if(!statusValid(self._xhr)||self._destroyed)return;if(!self._response)self._connect();self._response._onXHRProgress()};ClientRequest.prototype._connect=function(){var self=this;if(self._destroyed)return;self._response=new IncomingMessage(self._xhr,self._fetchResponse,self._mode);self.emit("response",self._response)};ClientRequest.prototype._write=function(chunk,encoding,cb){var self=this;self._body.push(chunk);cb()};ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var self=this;self._destroyed=true;if(self._response)self._response._destroyed=true;if(self._xhr)self._xhr.abort()};ClientRequest.prototype.end=function(data,encoding,cb){var self=this;if(typeof data==="function"){cb=data;data=undefined}stream.Writable.prototype.end.call(self,data,encoding,cb)};ClientRequest.prototype.flushHeaders=function(){};ClientRequest.prototype.setTimeout=function(){};ClientRequest.prototype.setNoDelay=function(){};ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./capability":110,"./response":112,_process:93,buffer:41,inherits:71,stream:98,"to-arraybuffer":115}],112:[function(require,module,exports){(function(process,global,Buffer){var capability=require("./capability");var inherits=require("inherits");var stream=require("stream");var rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var IncomingMessage=exports.IncomingMessage=function(xhr,response,mode){var self=this;stream.Readable.call(self);self._mode=mode;self.headers={};self.rawHeaders=[];self.trailers={};self.rawTrailers=[];self.on("end",function(){process.nextTick(function(){self.emit("close")})});if(mode==="fetch"){self._fetchResponse=response;self.statusCode=response.status;self.statusMessage=response.statusText;for(var header,_i,_it=response.headers[Symbol.iterator]();header=(_i=_it.next()).value,!_i.done;){self.headers[header[0].toLowerCase()]=header[1];self.rawHeaders.push(header[0],header[1])}var reader=response.body.getReader();function read(){reader.read().then(function(result){if(self._destroyed)return;if(result.done){self.push(null);return}self.push(new Buffer(result.value));read()})}read()}else{self._xhr=xhr;self._pos=0;self.statusCode=xhr.status;self.statusMessage=xhr.statusText;var headers=xhr.getAllResponseHeaders().split(/\r?\n/);headers.forEach(function(header){var matches=header.match(/^([^:]+):\s*(.*)/);if(matches){var key=matches[1].toLowerCase();if(key==="set-cookie"){if(self.headers[key]===undefined){self.headers[key]=[]}self.headers[key].push(matches[2])}else if(self.headers[key]!==undefined){self.headers[key]+=", "+matches[2]}else{self.headers[key]=matches[2]}self.rawHeaders.push(matches[1],matches[2])}});self._charset="x-user-defined";if(!capability.overrideMimeType){var mimeType=self.rawHeaders["mime-type"];if(mimeType){var charsetMatch=mimeType.match(/;\s*charset=([^;])(;|$)/);if(charsetMatch){self._charset=charsetMatch[1].toLowerCase()}}if(!self._charset)self._charset="utf-8"}}};inherits(IncomingMessage,stream.Readable);IncomingMessage.prototype._read=function(){};IncomingMessage.prototype._onXHRProgress=function(){var self=this;var xhr=self._xhr;var response=null;switch(self._mode){case"text:vbarray":if(xhr.readyState!==rStates.DONE)break;try{response=new global.VBArray(xhr.responseBody).toArray()}catch(e){}if(response!==null){self.push(new Buffer(response));break}case"text":try{response=xhr.responseText}catch(e){self._mode="text:vbarray";break}if(response.length>self._pos){var newData=response.substr(self._pos);if(self._charset==="x-user-defined"){var buffer=new Buffer(newData.length);for(var i=0;i<newData.length;i++)buffer[i]=newData.charCodeAt(i)&255;self.push(buffer)}else{self.push(newData,self._charset)}self._pos=response.length}break;case"arraybuffer":if(xhr.readyState!==rStates.DONE)break;response=xhr.response;self.push(new Buffer(new Uint8Array(response)));break;case"moz-chunked-arraybuffer":response=xhr.response;if(xhr.readyState!==rStates.LOADING||!response)break;self.push(new Buffer(new Uint8Array(response)));break;case"ms-stream":response=xhr.response;if(xhr.readyState!==rStates.LOADING)break;var reader=new global.MSStreamReader;reader.onprogress=function(){if(reader.result.byteLength>self._pos){self.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))));self._pos=reader.result.byteLength}};reader.onload=function(){self.push(null)};reader.readAsArrayBuffer(response);break}if(self._xhr.readyState===rStates.DONE&&self._mode!=="ms-stream"){self.push(null)}}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{"./capability":110,_process:93,buffer:41,inherits:71,stream:98}],113:[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],114:[function(require,module,exports){var Buffer=require("buffer").Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error("Unknown encoding: "+encoding)}}var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(encoding);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0};StringDecoder.prototype.write=function(buffer){var charStr="";while(this.charLength){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return""}buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=55296&&charCode<=56319){this.charLength+=this.surrogateSize;charStr="";continue}this.charReceived=this.charLength=0;if(buffer.length===0){return charStr}break}this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived}charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end)}return charStr};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=buffer.length>=3?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i};StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length)res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0}},{buffer:41}],115:[function(require,module,exports){var Buffer=require("buffer").Buffer;module.exports=function(buf){if(buf instanceof Uint8Array){if(buf.byteOffset===0&&buf.byteLength===buf.buffer.byteLength){return buf.buffer}else if(typeof buf.buffer.slice==="function"){return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}}if(Buffer.isBuffer(buf)){var arrayCopy=new Uint8Array(buf.length);var len=buf.length;for(var i=0;i<len;i++){arrayCopy[i]=buf[i]}return arrayCopy.buffer}else{throw new Error("Argument must be a Buffer")}}},{buffer:41}],116:[function(require,module,exports){(function(process){var TWEEN=TWEEN||function(){var _tweens=[];return{getAll:function(){return _tweens},removeAll:function(){_tweens=[]},add:function(tween){_tweens.push(tween)},remove:function(tween){var i=_tweens.indexOf(tween);if(i!==-1){_tweens.splice(i,1)}},update:function(time,preserve){if(_tweens.length===0){return false}var i=0;time=time!==undefined?time:TWEEN.now();while(i<_tweens.length){if(_tweens[i].update(time)||preserve){i++}else{_tweens.splice(i,1)}}return true}}}();if(typeof window==="undefined"&&typeof process!=="undefined"){TWEEN.now=function(){var time=process.hrtime();return time[0]*1e3+time[1]/1e6}}else if(typeof window!=="undefined"&&window.performance!==undefined&&window.performance.now!==undefined){TWEEN.now=window.performance.now.bind(window.performance)}else if(Date.now!==undefined){TWEEN.now=Date.now}else{TWEEN.now=function(){return(new Date).getTime()}}TWEEN.Tween=function(object){var _object=object;var _valuesStart={};var _valuesEnd={};var _valuesStartRepeat={};var _duration=1e3;var _repeat=0;var _repeatDelayTime;var _yoyo=false;var _isPlaying=false;var _reversed=false;var _delayTime=0;var _startTime=null;var _easingFunction=TWEEN.Easing.Linear.None;var _interpolationFunction=TWEEN.Interpolation.Linear;var _chainedTweens=[];var _onStartCallback=null;var _onStartCallbackFired=false;var _onUpdateCallback=null;var _onCompleteCallback=null;var _onStopCallback=null;this.to=function(properties,duration){_valuesEnd=properties;if(duration!==undefined){_duration=duration}return this};this.start=function(time){TWEEN.add(this);_isPlaying=true;_onStartCallbackFired=false;_startTime=time!==undefined?time:TWEEN.now();_startTime+=_delayTime;for(var property in _valuesEnd){if(_valuesEnd[property]instanceof Array){if(_valuesEnd[property].length===0){continue}_valuesEnd[property]=[_object[property]].concat(_valuesEnd[property])}if(_object[property]===undefined){continue}_valuesStart[property]=_object[property];if(_valuesStart[property]instanceof Array===false){_valuesStart[property]*=1}_valuesStartRepeat[property]=_valuesStart[property]||0}return this};this.stop=function(){if(!_isPlaying){return this}TWEEN.remove(this);_isPlaying=false;if(_onStopCallback!==null){_onStopCallback.call(_object,_object)}this.stopChainedTweens();return this};this.end=function(){this.update(_startTime+_duration);return this};this.stopChainedTweens=function(){for(var i=0,numChainedTweens=_chainedTweens.length;i<numChainedTweens;i++){_chainedTweens[i].stop()}};this.delay=function(amount){_delayTime=amount;return this};this.repeat=function(times){_repeat=times;return this};this.repeatDelay=function(amount){_repeatDelayTime=amount;return this};this.yoyo=function(yoyo){_yoyo=yoyo;return this};this.easing=function(easing){_easingFunction=easing;return this};this.interpolation=function(interpolation){_interpolationFunction=interpolation;return this};this.chain=function(){_chainedTweens=arguments;return this};this.onStart=function(callback){_onStartCallback=callback;return this};this.onUpdate=function(callback){_onUpdateCallback=callback;return this};this.onComplete=function(callback){_onCompleteCallback=callback;return this};this.onStop=function(callback){_onStopCallback=callback;return this};this.update=function(time){var property;var elapsed;var value;if(time<_startTime){return true}if(_onStartCallbackFired===false){if(_onStartCallback!==null){_onStartCallback.call(_object,_object)}_onStartCallbackFired=true}elapsed=(time-_startTime)/_duration;elapsed=elapsed>1?1:elapsed;value=_easingFunction(elapsed);for(property in _valuesEnd){if(_valuesStart[property]===undefined){continue}var start=_valuesStart[property]||0;var end=_valuesEnd[property];if(end instanceof Array){_object[property]=_interpolationFunction(end,value)}else{if(typeof end==="string"){if(end.charAt(0)==="+"||end.charAt(0)==="-"){end=start+parseFloat(end)}else{end=parseFloat(end)}}if(typeof end==="number"){_object[property]=start+(end-start)*value}}}if(_onUpdateCallback!==null){_onUpdateCallback.call(_object,value)}if(elapsed===1){if(_repeat>0){if(isFinite(_repeat)){_repeat--}for(property in _valuesStartRepeat){if(typeof _valuesEnd[property]==="string"){_valuesStartRepeat[property]=_valuesStartRepeat[property]+parseFloat(_valuesEnd[property])}if(_yoyo){var tmp=_valuesStartRepeat[property];_valuesStartRepeat[property]=_valuesEnd[property];_valuesEnd[property]=tmp}_valuesStart[property]=_valuesStartRepeat[property]}if(_yoyo){_reversed=!_reversed}if(_repeatDelayTime!==undefined){_startTime=time+_repeatDelayTime}else{_startTime=time+_delayTime}return true}else{if(_onCompleteCallback!==null){_onCompleteCallback.call(_object,_object)}for(var i=0,numChainedTweens=_chainedTweens.length;i<numChainedTweens;i++){_chainedTweens[i].start(_startTime+_duration)}return false}}return true}};TWEEN.Easing={Linear:{None:function(k){return k}},Quadratic:{In:function(k){return k*k},Out:function(k){return k*(2-k)},InOut:function(k){if((k*=2)<1){return.5*k*k}return-.5*(--k*(k-2)-1)}},Cubic:{In:function(k){return k*k*k},Out:function(k){return--k*k*k+1},InOut:function(k){if((k*=2)<1){return.5*k*k*k}return.5*((k-=2)*k*k+2)}},Quartic:{In:function(k){return k*k*k*k},Out:function(k){return 1- --k*k*k*k},InOut:function(k){if((k*=2)<1){return.5*k*k*k*k}return-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function(k){return k*k*k*k*k},Out:function(k){return--k*k*k*k*k+1},InOut:function(k){if((k*=2)<1){return.5*k*k*k*k*k}return.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function(k){return 1-Math.cos(k*Math.PI/2)},Out:function(k){return Math.sin(k*Math.PI/2)},InOut:function(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function(k){return k===0?0:Math.pow(1024,k-1)},Out:function(k){return k===1?1:1-Math.pow(2,-10*k)},InOut:function(k){if(k===0){return 0}if(k===1){return 1}if((k*=2)<1){return.5*Math.pow(1024,k-1)}return.5*(-Math.pow(2,-10*(k-1))+2)}},Circular:{In:function(k){return 1-Math.sqrt(1-k*k)},Out:function(k){return Math.sqrt(1- --k*k)},InOut:function(k){if((k*=2)<1){return-.5*(Math.sqrt(1-k*k)-1)}return.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function(k){if(k===0){return 0}if(k===1){return 1}return-Math.pow(2,10*(k-1))*Math.sin((k-1.1)*5*Math.PI)},Out:function(k){if(k===0){return 0}if(k===1){return 1}return Math.pow(2,-10*k)*Math.sin((k-.1)*5*Math.PI)+1},InOut:function(k){if(k===0){return 0}if(k===1){return 1}k*=2;if(k<1){return-.5*Math.pow(2,10*(k-1))*Math.sin((k-1.1)*5*Math.PI)}return.5*Math.pow(2,-10*(k-1))*Math.sin((k-1.1)*5*Math.PI)+1}},Back:{In:function(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function(k){var s=1.70158*1.525;if((k*=2)<1){return.5*(k*k*((s+1)*k-s))}return.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{In:function(k){return 1-TWEEN.Easing.Bounce.Out(1-k)},Out:function(k){if(k<1/2.75){return 7.5625*k*k}else if(k<2/2.75){return 7.5625*(k-=1.5/2.75)*k+.75}else if(k<2.5/2.75){return 7.5625*(k-=2.25/2.75)*k+.9375}else{return 7.5625*(k-=2.625/2.75)*k+.984375}},InOut:function(k){if(k<.5){return TWEEN.Easing.Bounce.In(k*2)*.5}return TWEEN.Easing.Bounce.Out(k*2-1)*.5+.5}}};TWEEN.Interpolation={Linear:function(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);var fn=TWEEN.Interpolation.Utils.Linear;if(k<0){return fn(v[0],v[1],f)}if(k>1){return fn(v[m],v[m-1],m-f)}return fn(v[i],v[i+1>m?m:i+1],f-i)},Bezier:function(v,k){var b=0;var n=v.length-1;var pw=Math.pow;var bn=TWEEN.Interpolation.Utils.Bernstein;for(var i=0;i<=n;i++){b+=pw(1-k,n-i)*pw(k,i)*v[i]*bn(n,i)}return b},CatmullRom:function(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);var fn=TWEEN.Interpolation.Utils.CatmullRom;if(v[0]===v[m]){if(k<0){i=Math.floor(f=m*(1+k))}return fn(v[(i-1+m)%m],v[i],v[(i+1)%m],v[(i+2)%m],f-i)}else{if(k<0){return v[0]-(fn(v[0],v[0],v[1],v[1],-f)-v[0])}if(k>1){return v[m]-(fn(v[m],v[m],v[m-1],v[m-1],f-m)-v[m])}return fn(v[i?i-1:0],v[i],v[m<i+1?m:i+1],v[m<i+2?m:i+2],f-i)}},Utils:{Linear:function(p0,p1,t){return(p1-p0)*t+p0},Bernstein:function(n,i){var fc=TWEEN.Interpolation.Utils.Factorial;return fc(n)/fc(i)/fc(n-i)},Factorial:function(){var a=[1];return function(n){var s=1;if(a[n]){return a[n]}for(var i=n;i>1;i--){s*=i}a[n]=s;return s}}(),CatmullRom:function(p0,p1,p2,p3,t){var v0=(p2-p0)*.5;var v1=(p3-p1)*.5;var t2=t*t;var t3=t*t2;return(2*p1-2*p2+v0+v1)*t3+(-3*p1+3*p2-2*v0-v1)*t2+v0*t+p1}}};(function(root){if(typeof define==="function"&&define.amd){define([],function(){return TWEEN})}else if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=TWEEN}else if(root!==undefined){root.TWEEN=TWEEN}})(this)}).call(this,require("_process"))},{_process:93}],117:[function(require,module,exports){"use strict";var punycode=require("punycode");var util=require("./util");exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},{"./util":118,punycode:94,querystring:97}],118:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},{}],119:[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],120:[function(require,module,exports){arguments[4][71][0].apply(exports,arguments)},{dup:71}],121:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],122:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":121,_process:93,inherits:120}],123:[function(require,module,exports){var utils=require("./utils");function Batcher(){this.reset()}var BatcherProto=Batcher.prototype;BatcherProto.push=function(job){if(!job.id||!this.has[job.id]){this.queue.push(job);this.has[job.id]=job;if(!this.waiting){this.waiting=true;utils.nextTick(utils.bind(this.flush,this))}}else if(job.override){var oldJob=this.has[job.id];oldJob.cancelled=true;this.queue.push(job);this.has[job.id]=job}};BatcherProto.flush=function(){if(this._preFlush)this._preFlush();for(var i=0;i<this.queue.length;i++){var job=this.queue[i];if(!job.cancelled){job.execute()}}this.reset()};BatcherProto.reset=function(){this.has=utils.hash();this.queue=[];this.waiting=false};module.exports=Batcher},{"./utils":148}],124:[function(require,module,exports){var Batcher=require("./batcher"),bindingBatcher=new Batcher,bindingId=1;function Binding(compiler,key,isExp,isFn){this.id=bindingId++;this.value=undefined;this.isExp=!!isExp;this.isFn=isFn;this.root=!this.isExp&&key.indexOf(".")===-1;this.compiler=compiler;this.key=key;this.dirs=[];this.subs=[];this.deps=[];this.unbound=false}var BindingProto=Binding.prototype;BindingProto.update=function(value){if(!this.isComputed||this.isFn){this.value=value}if(this.dirs.length||this.subs.length){var self=this;bindingBatcher.push({id:this.id,execute:function(){if(!self.unbound){self._update()}}})}};BindingProto._update=function(){var i=this.dirs.length,value=this.val();while(i--){this.dirs[i].$update(value)}this.pub()};BindingProto.val=function(){return this.isComputed&&!this.isFn?this.value.$get():this.value};BindingProto.pub=function(){var i=this.subs.length;while(i--){this.subs[i].update()}};BindingProto.unbind=function(){this.unbound=true;var i=this.dirs.length;while(i--){this.dirs[i].$unbind()}i=this.deps.length;var subs;while(i--){subs=this.deps[i].subs;var j=subs.indexOf(this);if(j>-1)subs.splice(j,1)}};module.exports=Binding},{"./batcher":123}],125:[function(require,module,exports){var Emitter=require("./emitter"),Observer=require("./observer"),config=require("./config"),utils=require("./utils"),Binding=require("./binding"),Directive=require("./directive"),TextParser=require("./text-parser"),DepsParser=require("./deps-parser"),ExpParser=require("./exp-parser"),ViewModel,slice=[].slice,extend=utils.extend,hasOwn={}.hasOwnProperty,def=Object.defineProperty,hooks=["created","ready","beforeDestroy","afterDestroy","attached","detached"],priorityDirectives=["if","repeat","view","component"];function Compiler(vm,options){var compiler=this,key,i;compiler.init=true;compiler.destroyed=false;options=compiler.options=options||{};utils.processOptions(options);extend(compiler,options.compilerOptions);compiler.repeat=compiler.repeat||false;compiler.expCache=compiler.expCache||{};var el=compiler.el=compiler.setupElement(options);utils.log("\nnew VM instance: "+el.tagName+"\n");compiler.vm=el.vue_vm=vm;compiler.bindings=utils.hash();compiler.dirs=[];compiler.deferred=[];compiler.computed=[];compiler.children=[];compiler.emitter=new Emitter(vm);vm.$={};vm.$el=el;vm.$options=options;vm.$compiler=compiler;vm.$event=null;var parentVM=options.parent;if(parentVM){compiler.parent=parentVM.$compiler;parentVM.$compiler.children.push(compiler);vm.$parent=parentVM;if(!("lazy"in options)){options.lazy=compiler.parent.options.lazy}}vm.$root=getRoot(compiler).vm;compiler.setupObserver();if(options.methods){for(key in options.methods){compiler.createBinding(key)}}if(options.computed){for(key in options.computed){compiler.createBinding(key)}}var data=compiler.data=options.data||{},defaultData=options.defaultData;if(defaultData){for(key in defaultData){if(!hasOwn.call(data,key)){data[key]=defaultData[key]}}}var params=options.paramAttributes;if(params){i=params.length;while(i--){data[params[i]]=utils.checkNumber(compiler.eval(el.getAttribute(params[i])))}}extend(vm,data);vm.$data=data;compiler.execHook("created");data=compiler.data=vm.$data;var vmProp;for(key in vm){vmProp=vm[key];if(key.charAt(0)!=="$"&&data[key]!==vmProp&&typeof vmProp!=="function"){data[key]=vmProp}}compiler.observeData(data);if(options.template){this.resolveContent()}compiler.compile(el,true);i=compiler.deferred.length;while(i--){compiler.bindDirective(compiler.deferred[i])}compiler.deferred=null;if(this.computed.length){DepsParser.parse(this.computed)}compiler.init=false;compiler.execHook("ready")}var CompilerProto=Compiler.prototype;CompilerProto.setupElement=function(options){var el=typeof options.el==="string"?document.querySelector(options.el):options.el||document.createElement(options.tagName||"div");var template=options.template,child,replacer,i,attr,attrs;if(template){if(el.hasChildNodes()){this.rawContent=document.createElement("div");while(child=el.firstChild){this.rawContent.appendChild(child)}}if(options.replace&&template.firstChild===template.lastChild){replacer=template.firstChild.cloneNode(true);if(el.parentNode){el.parentNode.insertBefore(replacer,el);el.parentNode.removeChild(el)}if(el.hasAttributes()){i=el.attributes.length;while(i--){attr=el.attributes[i];replacer.setAttribute(attr.name,attr.value)}}el=replacer}else{el.appendChild(template.cloneNode(true))}}if(options.id)el.id=options.id;if(options.className)el.className=options.className;attrs=options.attributes;if(attrs){for(attr in attrs){el.setAttribute(attr,attrs[attr])}}return el};CompilerProto.resolveContent=function(){var outlets=slice.call(this.el.getElementsByTagName("content")),raw=this.rawContent,outlet,select,i,j,main;i=outlets.length;if(i){while(i--){outlet=outlets[i];if(raw){select=outlet.getAttribute("select");if(select){outlet.content=slice.call(raw.querySelectorAll(select))}else{main=outlet}}else{outlet.content=slice.call(outlet.childNodes)}}for(i=0,j=outlets.length;i<j;i++){outlet=outlets[i];if(outlet===main)continue;insert(outlet,outlet.content)}if(raw&&main){insert(main,slice.call(raw.childNodes))}}function insert(outlet,contents){var parent=outlet.parentNode,i=0,j=contents.length;for(;i<j;i++){parent.insertBefore(contents[i],outlet)}parent.removeChild(outlet)}this.rawContent=null};CompilerProto.setupObserver=function(){var compiler=this,bindings=compiler.bindings,options=compiler.options,observer=compiler.observer=new Emitter(compiler.vm);observer.proxies={};observer.on("get",onGet).on("set",onSet).on("mutate",onSet);var i=hooks.length,j,hook,fns;while(i--){hook=hooks[i];fns=options[hook];if(Array.isArray(fns)){j=fns.length;while(j--){registerHook(hook,fns[j])}}else if(fns){registerHook(hook,fns)}}observer.on("hook:attached",function(){broadcast(1)}).on("hook:detached",function(){broadcast(0)});function onGet(key){check(key);DepsParser.catcher.emit("get",bindings[key])}function onSet(key,val,mutation){observer.emit("change:"+key,val,mutation);check(key);bindings[key].update(val)}function registerHook(hook,fn){observer.on("hook:"+hook,function(){fn.call(compiler.vm)})}function broadcast(event){var children=compiler.children;if(children){var child,i=children.length;while(i--){child=children[i];if(child.el.parentNode){event="hook:"+(event?"attached":"detached");child.observer.emit(event);child.emitter.emit(event)}}}}function check(key){if(!bindings[key]){compiler.createBinding(key)}}};CompilerProto.observeData=function(data){var compiler=this,observer=compiler.observer;Observer.observe(data,"",observer);var $dataBinding=compiler.bindings["$data"]=new Binding(compiler,"$data");$dataBinding.update(data);def(compiler.vm,"$data",{get:function(){compiler.observer.emit("get","$data");return compiler.data},set:function(newData){var oldData=compiler.data;Observer.unobserve(oldData,"",observer);compiler.data=newData;Observer.copyPaths(newData,oldData);Observer.observe(newData,"",observer);update()}});observer.on("set",onSet).on("mutate",onSet);function onSet(key){if(key!=="$data")update()}function update(){$dataBinding.update(compiler.data);observer.emit("change:$data",compiler.data)}};CompilerProto.compile=function(node,root){var nodeType=node.nodeType;if(nodeType===1&&node.tagName!=="SCRIPT"){this.compileElement(node,root)}else if(nodeType===3&&config.interpolate){this.compileTextNode(node)}};CompilerProto.checkPriorityDir=function(dirname,node,root){var expression,directive,Ctor;if(dirname==="component"&&root!==true&&(Ctor=this.resolveComponent(node,undefined,true))){directive=this.parseDirective(dirname,"",node);directive.Ctor=Ctor}else{expression=utils.attr(node,dirname);directive=expression&&this.parseDirective(dirname,expression,node)}if(directive){if(root===true){utils.warn("Directive v-"+dirname+" cannot be used on an already instantiated "+"VM's root node. Use it from the parent's template instead.");return}this.deferred.push(directive);return true}};CompilerProto.compileElement=function(node,root){if(node.tagName==="TEXTAREA"&&node.value){node.value=this.eval(node.value)}if(node.hasAttributes()||node.tagName.indexOf("-")>-1){if(utils.attr(node,"pre")!==null){return}var i,l,j,k;for(i=0,l=priorityDirectives.length;i<l;i++){if(this.checkPriorityDir(priorityDirectives[i],node,root)){return}}node.vue_trans=utils.attr(node,"transition");node.vue_anim=utils.attr(node,"animation");node.vue_effect=this.eval(utils.attr(node,"effect"));var prefix=config.prefix+"-",params=this.options.paramAttributes,attr,attrname,isDirective,exp,directives,directive,dirname;if(root){var withExp=utils.attr(node,"with");if(withExp){directives=this.parseDirective("with",withExp,node,true);for(j=0,k=directives.length;j<k;j++){this.bindDirective(directives[j],this.parent)}}}var attrs=slice.call(node.attributes);for(i=0,l=attrs.length;i<l;i++){attr=attrs[i];attrname=attr.name;isDirective=false;if(attrname.indexOf(prefix)===0){isDirective=true;dirname=attrname.slice(prefix.length);directives=this.parseDirective(dirname,attr.value,node,true);for(j=0,k=directives.length;j<k;j++){this.bindDirective(directives[j])}}else if(config.interpolate){exp=TextParser.parseAttr(attr.value);if(exp){directive=this.parseDirective("attr",exp,node);directive.arg=attrname;if(params&&params.indexOf(attrname)>-1){this.bindDirective(directive,this.parent)}else{this.bindDirective(directive)}}}if(isDirective&&dirname!=="cloak"){node.removeAttribute(attrname)}}}if(node.hasChildNodes()){slice.call(node.childNodes).forEach(this.compile,this)}};CompilerProto.compileTextNode=function(node){var tokens=TextParser.parse(node.nodeValue);if(!tokens)return;var el,token,directive;for(var i=0,l=tokens.length;i<l;i++){token=tokens[i];directive=null;if(token.key){if(token.key.charAt(0)===">"){el=document.createComment("ref");directive=this.parseDirective("partial",token.key.slice(1),el)}else{if(!token.html){el=document.createTextNode("");directive=this.parseDirective("text",token.key,el)}else{el=document.createComment(config.prefix+"-html");directive=this.parseDirective("html",token.key,el)}}}else{el=document.createTextNode(token)}node.parentNode.insertBefore(el,node);this.bindDirective(directive)}node.parentNode.removeChild(node)};CompilerProto.parseDirective=function(name,value,el,multiple){var compiler=this,definition=compiler.getOption("directives",name);if(definition){var asts=Directive.parse(value);return multiple?asts.map(build):build(asts[0])}function build(ast){return new Directive(name,ast,definition,compiler,el)}};CompilerProto.bindDirective=function(directive,bindingOwner){if(!directive)return;this.dirs.push(directive);if(directive.isEmpty||directive.isLiteral){if(directive.bind)directive.bind();return}var binding,compiler=bindingOwner||this,key=directive.key;if(directive.isExp){binding=compiler.createBinding(key,directive)}else{while(compiler){if(compiler.hasKey(key)){break}else{compiler=compiler.parent}}compiler=compiler||this;binding=compiler.bindings[key]||compiler.createBinding(key)}binding.dirs.push(directive);directive.binding=binding;var value=binding.val();if(directive.bind){directive.bind(value)}directive.$update(value,true)};CompilerProto.createBinding=function(key,directive){utils.log("  created binding: "+key);var compiler=this,methods=compiler.options.methods,isExp=directive&&directive.isExp,isFn=directive&&directive.isFn||methods&&methods[key],bindings=compiler.bindings,computed=compiler.options.computed,binding=new Binding(compiler,key,isExp,isFn);if(isExp){compiler.defineExp(key,binding,directive)}else if(isFn){bindings[key]=binding;compiler.defineVmProp(key,binding,methods[key])}else{bindings[key]=binding;if(binding.root){if(computed&&computed[key]){compiler.defineComputed(key,binding,computed[key])}else if(key.charAt(0)!=="$"){compiler.defineDataProp(key,binding)}else{compiler.defineVmProp(key,binding,compiler.data[key]);delete compiler.data[key]}}else if(computed&&computed[utils.baseKey(key)]){compiler.defineExp(key,binding)}else{Observer.ensurePath(compiler.data,key);var parentKey=key.slice(0,key.lastIndexOf("."));if(!bindings[parentKey]){compiler.createBinding(parentKey)}}}return binding};CompilerProto.defineDataProp=function(key,binding){var compiler=this,data=compiler.data,ob=data.__emitter__;if(!hasOwn.call(data,key)){data[key]=undefined}if(ob&&!hasOwn.call(ob.values,key)){Observer.convertKey(data,key)}binding.value=data[key];def(compiler.vm,key,{get:function(){return compiler.data[key]},set:function(val){compiler.data[key]=val}})};CompilerProto.defineVmProp=function(key,binding,value){var ob=this.observer;binding.value=value;def(this.vm,key,{get:function(){if(Observer.shouldGet)ob.emit("get",key);return binding.value},set:function(val){ob.emit("set",key,val)}})};CompilerProto.defineExp=function(key,binding,directive){var computedKey=directive&&directive.computedKey,exp=computedKey?directive.expression:key,getter=this.expCache[exp];if(!getter){getter=this.expCache[exp]=ExpParser.parse(computedKey||key,this)}if(getter){this.markComputed(binding,getter)}};CompilerProto.defineComputed=function(key,binding,value){this.markComputed(binding,value);def(this.vm,key,{get:binding.value.$get,set:binding.value.$set})};CompilerProto.markComputed=function(binding,value){binding.isComputed=true;if(binding.isFn){binding.value=value}else{if(typeof value==="function"){value={$get:value}}binding.value={$get:utils.bind(value.$get,this.vm),$set:value.$set?utils.bind(value.$set,this.vm):undefined}}this.computed.push(binding)};CompilerProto.getOption=function(type,id,silent){var opts=this.options,parent=this.parent,globalAssets=config.globalAssets,res=opts[type]&&opts[type][id]||(parent?parent.getOption(type,id,silent):globalAssets[type]&&globalAssets[type][id]);if(!res&&!silent&&typeof id==="string"){utils.warn("Unknown "+type.slice(0,-1)+": "+id)}return res};CompilerProto.execHook=function(event){event="hook:"+event;this.observer.emit(event);this.emitter.emit(event)};CompilerProto.hasKey=function(key){var baseKey=utils.baseKey(key);return hasOwn.call(this.data,baseKey)||hasOwn.call(this.vm,baseKey)};CompilerProto.eval=function(exp,data){var parsed=TextParser.parseAttr(exp);return parsed?ExpParser.eval(parsed,this,data):exp};CompilerProto.resolveComponent=function(node,data,test){ViewModel=ViewModel||require("./viewmodel");var exp=utils.attr(node,"component"),tagName=node.tagName,id=this.eval(exp,data),tagId=tagName.indexOf("-")>0&&tagName.toLowerCase(),Ctor=this.getOption("components",id||tagId,true);if(id&&!Ctor){utils.warn("Unknown component: "+id)}return test?exp===""?ViewModel:Ctor:Ctor||ViewModel};CompilerProto.destroy=function(noRemove){if(this.destroyed)return;var compiler=this,i,j,key,dir,dirs,binding,vm=compiler.vm,el=compiler.el,directives=compiler.dirs,computed=compiler.computed,bindings=compiler.bindings,children=compiler.children,parent=compiler.parent;compiler.execHook("beforeDestroy");Observer.unobserve(compiler.data,"",compiler.observer);i=children.length;while(i--){children[i].destroy(true)}i=directives.length;while(i--){dir=directives[i];if(dir.binding&&dir.binding.compiler!==compiler){dirs=dir.binding.dirs;if(dirs){j=dirs.indexOf(dir);if(j>-1)dirs.splice(j,1)}}dir.$unbind()}i=computed.length;while(i--){computed[i].unbind()}for(key in bindings){binding=bindings[key];if(binding){binding.unbind()}}if(parent){j=parent.children.indexOf(compiler);if(j>-1)parent.children.splice(j,1)}if(!noRemove){if(el===document.body){el.innerHTML=""}else{vm.$remove()}}el.vue_vm=null;compiler.destroyed=true;compiler.execHook("afterDestroy");compiler.observer.off();compiler.emitter.off()};function getRoot(compiler){while(compiler.parent){compiler=compiler.parent}return compiler}module.exports=Compiler},{"./binding":124,"./config":126,"./deps-parser":127,"./directive":128,"./emitter":139,"./exp-parser":140,"./observer":144,"./text-parser":146,"./utils":148,"./viewmodel":149}],126:[function(require,module,exports){var TextParser=require("./text-parser");module.exports={prefix:"v",debug:false,silent:false,enterClass:"v-enter",leaveClass:"v-leave",interpolate:true};Object.defineProperty(module.exports,"delimiters",{get:function(){return TextParser.delimiters},set:function(delimiters){TextParser.setDelimiters(delimiters)}})},{"./text-parser":146}],127:[function(require,module,exports){var Emitter=require("./emitter"),utils=require("./utils"),Observer=require("./observer"),catcher=new Emitter;function catchDeps(binding){if(binding.isFn)return;utils.log("\n- "+binding.key);var got=utils.hash();binding.deps=[];catcher.on("get",function(dep){var has=got[dep.key];if(has&&has.compiler===dep.compiler||dep.compiler.repeat&&!isParentOf(dep.compiler,binding.compiler)){return}got[dep.key]=dep;utils.log("  - "+dep.key);binding.deps.push(dep);dep.subs.push(binding)});binding.value.$get();catcher.off("get")}function isParentOf(a,b){while(b){if(a===b){return true}b=b.parent}}module.exports={catcher:catcher,parse:function(bindings){utils.log("\nparsing dependencies...");Observer.shouldGet=true;bindings.forEach(catchDeps);Observer.shouldGet=false;utils.log("\ndone.")}}},{"./emitter":139,"./observer":144,"./utils":148}],128:[function(require,module,exports){var dirId=1,ARG_RE=/^[\w\$-]+$/,FILTER_TOKEN_RE=/[^\s'"]+|'[^']+'|"[^"]+"/g,NESTING_RE=/^\$(parent|root)\./,SINGLE_VAR_RE=/^[\w\.$]+$/,QUOTE_RE=/"/g,TextParser=require("./text-parser");function Directive(name,ast,definition,compiler,el){this.id=dirId++;this.name=name;this.compiler=compiler;this.vm=compiler.vm;this.el=el;this.computeFilters=false;this.key=ast.key;this.arg=ast.arg;this.expression=ast.expression;var isEmpty=this.expression==="";if(typeof definition==="function"){this[isEmpty?"bind":"update"]=definition}else{for(var prop in definition){this[prop]=definition[prop]}}if(isEmpty||this.isEmpty){this.isEmpty=true;return}if(TextParser.Regex.test(this.key)){this.key=compiler.eval(this.key);if(this.isLiteral){this.expression=this.key}}var filters=ast.filters,filter,fn,i,l,computed;if(filters){this.filters=[];for(i=0,l=filters.length;i<l;i++){filter=filters[i];fn=this.compiler.getOption("filters",filter.name);if(fn){filter.apply=fn;this.filters.push(filter);if(fn.computed){computed=true}}}}if(!this.filters||!this.filters.length){this.filters=null}if(computed){this.computedKey=Directive.inlineFilters(this.key,this.filters);this.filters=null}this.isExp=computed||!SINGLE_VAR_RE.test(this.key)||NESTING_RE.test(this.key)}var DirProto=Directive.prototype;DirProto.$update=function(value,init){if(this.$lock)return;if(init||value!==this.value||value&&typeof value==="object"){this.value=value;if(this.update){this.update(this.filters&&!this.computeFilters?this.$applyFilters(value):value,init)}}};DirProto.$applyFilters=function(value){var filtered=value,filter;for(var i=0,l=this.filters.length;i<l;i++){filter=this.filters[i];filtered=filter.apply.apply(this.vm,[filtered].concat(filter.args))}return filtered};DirProto.$unbind=function(){if(!this.el||!this.vm)return;if(this.unbind)this.unbind();this.vm=this.el=this.binding=this.compiler=null};Directive.parse=function(str){var inSingle=false,inDouble=false,curly=0,square=0,paren=0,begin=0,argIndex=0,dirs=[],dir={},lastFilterIndex=0,arg;for(var c,i=0,l=str.length;i<l;i++){c=str.charAt(i);if(inSingle){if(c==="'")inSingle=!inSingle}else if(inDouble){if(c==='"')inDouble=!inDouble}else if(c===","&&!paren&&!curly&&!square){pushDir();dir={};begin=argIndex=lastFilterIndex=i+1}else if(c===":"&&!dir.key&&!dir.arg){arg=str.slice(begin,i).trim();if(ARG_RE.test(arg)){argIndex=i+1;dir.arg=arg}}else if(c==="|"&&str.charAt(i+1)!=="|"&&str.charAt(i-1)!=="|"){if(dir.key===undefined){lastFilterIndex=i+1;dir.key=str.slice(argIndex,i).trim()}else{pushFilter()}}else if(c==='"'){inDouble=true}else if(c==="'"){inSingle=true}else if(c==="("){paren++}else if(c===")"){paren--}else if(c==="["){square++}else if(c==="]"){square--}else if(c==="{"){curly++}else if(c==="}"){curly--}}if(i===0||begin!==i){pushDir()}function pushDir(){dir.expression=str.slice(begin,i).trim();if(dir.key===undefined){dir.key=str.slice(argIndex,i).trim()}else if(lastFilterIndex!==begin){pushFilter()}if(i===0||dir.key){dirs.push(dir)}}function pushFilter(){var exp=str.slice(lastFilterIndex,i).trim(),filter;if(exp){filter={};var tokens=exp.match(FILTER_TOKEN_RE);filter.name=tokens[0];filter.args=tokens.length>1?tokens.slice(1):null}if(filter){(dir.filters=dir.filters||[]).push(filter)}lastFilterIndex=i+1}return dirs};Directive.inlineFilters=function(key,filters){var args,filter;for(var i=0,l=filters.length;i<l;i++){filter=filters[i];args=filter.args?',"'+filter.args.map(escapeQuote).join('","')+'"':"";key='this.$compiler.getOption("filters", "'+filter.name+'").call(this,'+key+args+")"}return key};function escapeQuote(v){return v.indexOf('"')>-1?v.replace(QUOTE_RE,"'"):v}module.exports=Directive},{"./text-parser":146}],129:[function(require,module,exports){var utils=require("../utils"),slice=[].slice;module.exports={bind:function(){if(this.el.nodeType===8){this.nodes=[]}},update:function(value){value=utils.guard(value);if(this.nodes){this.swap(value)}else{this.el.innerHTML=value}},swap:function(value){var parent=this.el.parentNode,nodes=this.nodes,i=nodes.length;while(i--){parent.removeChild(nodes[i])}var frag=utils.toFragment(value);this.nodes=slice.call(frag.childNodes);parent.insertBefore(frag,this.el)}}},{"../utils":148}],130:[function(require,module,exports){var utils=require("../utils");module.exports={bind:function(){this.parent=this.el.parentNode;this.ref=document.createComment("vue-if");this.Ctor=this.compiler.resolveComponent(this.el);this.parent.insertBefore(this.ref,this.el);this.parent.removeChild(this.el);if(utils.attr(this.el,"view")){utils.warn("Conflict: v-if cannot be used together with v-view. "+"Just set v-view's binding value to empty string to empty it.")}if(utils.attr(this.el,"repeat")){utils.warn("Conflict: v-if cannot be used together with v-repeat. "+"Use `v-show` or the `filterBy` filter instead.")}},update:function(value){if(!value){this.unbind()}else if(!this.childVM){this.childVM=new this.Ctor({el:this.el.cloneNode(true),parent:this.vm});if(this.compiler.init){this.parent.insertBefore(this.childVM.$el,this.ref)}else{this.childVM.$before(this.ref)}}},unbind:function(){if(this.childVM){this.childVM.$destroy();this.childVM=null}}}},{"../utils":148}],131:[function(require,module,exports){var utils=require("../utils"),config=require("../config"),transition=require("../transition"),directives=module.exports=utils.hash();directives.component={isLiteral:true,bind:function(){if(!this.el.vue_vm){this.childVM=new this.Ctor({el:this.el,parent:this.vm})}},unbind:function(){if(this.childVM){this.childVM.$destroy()}}};directives.attr={bind:function(){var params=this.vm.$options.paramAttributes;this.isParam=params&&params.indexOf(this.arg)>-1},update:function(value){if(value||value===0){this.el.setAttribute(this.arg,value)}else{this.el.removeAttribute(this.arg)}if(this.isParam){this.vm[this.arg]=utils.checkNumber(value)}}};directives.text={bind:function(){this.attr=this.el.nodeType===3?"nodeValue":"textContent"},update:function(value){this.el[this.attr]=utils.guard(value)}};directives.show=function(value){var el=this.el,target=value?"":"none",change=function(){el.style.display=target};transition(el,value?1:-1,change,this.compiler)};directives["class"]=function(value){if(this.arg){utils[value?"addClass":"removeClass"](this.el,this.arg)}else{if(this.lastVal){utils.removeClass(this.el,this.lastVal)}if(value){utils.addClass(this.el,value);this.lastVal=value}}};directives.cloak={isEmpty:true,bind:function(){var el=this.el;this.compiler.observer.once("hook:ready",function(){el.removeAttribute(config.prefix+"-cloak")})}};directives.ref={isLiteral:true,bind:function(){var id=this.expression;if(id){this.vm.$parent.$[id]=this.vm}},unbind:function(){var id=this.expression;if(id){delete this.vm.$parent.$[id]}}};directives.on=require("./on");directives.repeat=require("./repeat");directives.model=require("./model");directives["if"]=require("./if");directives["with"]=require("./with");directives.html=require("./html");directives.style=require("./style");directives.partial=require("./partial");directives.view=require("./view")},{"../config":126,"../transition":147,"../utils":148,"./html":129,"./if":130,"./model":132,"./on":133,"./partial":134,"./repeat":135,"./style":136,"./view":137,"./with":138}],132:[function(require,module,exports){var utils=require("../utils"),isIE9=navigator.userAgent.indexOf("MSIE 9.0")>0,filter=[].filter;function getMultipleSelectOptions(select){return filter.call(select.options,function(option){return option.selected}).map(function(option){return option.value||option.text})}module.exports={bind:function(){var self=this,el=self.el,type=el.type,tag=el.tagName;self.lock=false;self.ownerVM=self.binding.compiler.vm;self.event=self.compiler.options.lazy||tag==="SELECT"||type==="checkbox"||type==="radio"?"change":"input";self.attr=type==="checkbox"?"checked":tag==="INPUT"||tag==="SELECT"||tag==="TEXTAREA"?"value":"innerHTML";if(tag==="SELECT"&&el.hasAttribute("multiple")){this.multi=true}var compositionLock=false;self.cLock=function(){compositionLock=true};self.cUnlock=function(){compositionLock=false};el.addEventListener("compositionstart",this.cLock);el.addEventListener("compositionend",this.cUnlock);self.set=self.filters?function(){if(compositionLock)return;var cursorPos;try{cursorPos=el.selectionStart}catch(e){}self._set();utils.nextTick(function(){if(cursorPos!==undefined){el.setSelectionRange(cursorPos,cursorPos)}})}:function(){if(compositionLock)return;self.lock=true;self._set();utils.nextTick(function(){self.lock=false})};el.addEventListener(self.event,self.set);if(isIE9){self.onCut=function(){utils.nextTick(function(){self.set()})};self.onDel=function(e){if(e.keyCode===46||e.keyCode===8){self.set()}};el.addEventListener("cut",self.onCut);el.addEventListener("keyup",self.onDel)}},_set:function(){this.ownerVM.$set(this.key,this.multi?getMultipleSelectOptions(this.el):this.el[this.attr])},update:function(value,init){if(init&&value===undefined){return this._set()}if(this.lock)return;var el=this.el;if(el.tagName==="SELECT"){el.selectedIndex=-1;if(this.multi&&Array.isArray(value)){value.forEach(this.updateSelect,this)}else{this.updateSelect(value)}}else if(el.type==="radio"){el.checked=value==el.value}else if(el.type==="checkbox"){el.checked=!!value}else{el[this.attr]=utils.guard(value)}},updateSelect:function(value){var options=this.el.options,i=options.length;while(i--){if(options[i].value==value){options[i].selected=true;break}}},unbind:function(){var el=this.el;el.removeEventListener(this.event,this.set);el.removeEventListener("compositionstart",this.cLock);el.removeEventListener("compositionend",this.cUnlock);if(isIE9){el.removeEventListener("cut",this.onCut);el.removeEventListener("keyup",this.onDel)}}}},{"../utils":148}],133:[function(require,module,exports){var utils=require("../utils");module.exports={isFn:true,bind:function(){this.context=this.binding.isExp?this.vm:this.binding.compiler.vm;if(this.el.tagName==="IFRAME"&&this.arg!=="load"){var self=this;this.iframeBind=function(){self.el.contentWindow.addEventListener(self.arg,self.handler)};this.el.addEventListener("load",this.iframeBind)}},update:function(handler){if(typeof handler!=="function"){utils.warn('Directive "v-on:'+this.expression+'" expects a method.');return}this.reset();var vm=this.vm,context=this.context;this.handler=function(e){e.targetVM=vm;context.$event=e;var res=handler.call(context,e);context.$event=null;return res};if(this.iframeBind){this.iframeBind()}else{this.el.addEventListener(this.arg,this.handler)}},reset:function(){var el=this.iframeBind?this.el.contentWindow:this.el;if(this.handler){el.removeEventListener(this.arg,this.handler)}},unbind:function(){this.reset();this.el.removeEventListener("load",this.iframeBind)}}},{"../utils":148}],134:[function(require,module,exports){var utils=require("../utils");module.exports={isLiteral:true,bind:function(){var id=this.expression;if(!id)return;var el=this.el,compiler=this.compiler,partial=compiler.getOption("partials",id);if(!partial){if(id==="yield"){utils.warn("{{>yield}} syntax has been deprecated. Use <content> tag instead.")}return}partial=partial.cloneNode(true);if(el.nodeType===8){var nodes=[].slice.call(partial.childNodes),parent=el.parentNode;parent.insertBefore(partial,el);parent.removeChild(el);nodes.forEach(compiler.compile,compiler)}else{el.innerHTML="";el.appendChild(partial)}}}},{"../utils":148}],135:[function(require,module,exports){var utils=require("../utils"),config=require("../config");module.exports={bind:function(){this.identifier="$r"+this.id;this.expCache=utils.hash();var el=this.el,ctn=this.container=el.parentNode;this.childId=this.compiler.eval(utils.attr(el,"ref"));this.ref=document.createComment(config.prefix+"-repeat-"+this.key);ctn.insertBefore(this.ref,el);ctn.removeChild(el);this.collection=null;this.vms=null},update:function(collection){if(!Array.isArray(collection)){if(utils.isObject(collection)){collection=utils.objectToArray(collection)}else{utils.warn("v-repeat only accepts Array or Object values.")}}this.oldVMs=this.vms;this.oldCollection=this.collection;collection=this.collection=collection||[];var isObject=collection[0]&&utils.isObject(collection[0]);this.vms=this.oldCollection?this.diff(collection,isObject):this.init(collection,isObject);if(this.childId){this.vm.$[this.childId]=this.vms}},init:function(collection,isObject){var vm,vms=[];for(var i=0,l=collection.length;i<l;i++){vm=this.build(collection[i],i,isObject);vms.push(vm);if(this.compiler.init){this.container.insertBefore(vm.$el,this.ref)}else{vm.$before(this.ref)}}return vms},diff:function(newCollection,isObject){var i,l,item,vm,oldIndex,targetNext,currentNext,nextEl,ctn=this.container,oldVMs=this.oldVMs,vms=[];vms.length=newCollection.length;for(i=0,l=newCollection.length;i<l;i++){item=newCollection[i];if(isObject){item.$index=i;if(item.__emitter__&&item.__emitter__[this.identifier]){item.$reused=true}else{vms[i]=this.build(item,i,isObject)}}else{oldIndex=indexOf(oldVMs,item);if(oldIndex>-1){oldVMs[oldIndex].$reused=true;oldVMs[oldIndex].$data.$index=i}else{vms[i]=this.build(item,i,isObject)}}}for(i=0,l=oldVMs.length;i<l;i++){vm=oldVMs[i];item=this.arg?vm.$data[this.arg]:vm.$data;if(item.$reused){vm.$reused=true;delete item.$reused}if(vm.$reused){vm.$index=item.$index;if(item.$key&&item.$key!==vm.$key){vm.$key=item.$key}vms[vm.$index]=vm}else{if(item.__emitter__){delete item.__emitter__[this.identifier]}vm.$destroy()}}i=vms.length;while(i--){vm=vms[i];item=vm.$data;targetNext=vms[i+1];if(vm.$reused){nextEl=vm.$el.nextSibling;while(!nextEl.vue_vm&&nextEl!==this.ref){nextEl=nextEl.nextSibling}currentNext=nextEl.vue_vm;if(currentNext!==targetNext){if(!targetNext){ctn.insertBefore(vm.$el,this.ref)}else{nextEl=targetNext.$el;while(!nextEl.parentNode){targetNext=vms[nextEl.vue_vm.$index+1];nextEl=targetNext?targetNext.$el:this.ref}ctn.insertBefore(vm.$el,nextEl)}}delete vm.$reused;delete item.$index;delete item.$key}else{vm.$before(targetNext?targetNext.$el:this.ref)}}return vms},build:function(data,index,isObject){var raw,alias,wrap=!isObject||this.arg;if(wrap){raw=data;alias=this.arg||"$value";data={};data[alias]=raw}data.$index=index;var el=this.el.cloneNode(true),Ctor=this.compiler.resolveComponent(el,data),vm=new Ctor({el:el,data:data,parent:this.vm,compilerOptions:{repeat:true,expCache:this.expCache}});if(isObject){(raw||data).__emitter__[this.identifier]=true}return vm},unbind:function(){if(this.childId){delete this.vm.$[this.childId]}if(this.vms){var i=this.vms.length;while(i--){this.vms[i].$destroy()}}}};function indexOf(vms,obj){for(var vm,i=0,l=vms.length;i<l;i++){vm=vms[i];if(!vm.$reused&&vm.$value===obj){return i}}return-1}},{"../config":126,"../utils":148}],136:[function(require,module,exports){var prefixes=["-webkit-","-moz-","-ms-"];module.exports={bind:function(){var prop=this.arg;if(!prop)return;if(prop.charAt(0)==="$"){prop=prop.slice(1);this.prefixed=true}this.prop=prop},update:function(value){var prop=this.prop,isImportant;if(value!=null)value+="";if(prop){if(value){isImportant=value.slice(-10)==="!important"?"important":"";if(isImportant){value=value.slice(0,-10).trim()}}this.el.style.setProperty(prop,value,isImportant);if(this.prefixed){var i=prefixes.length;while(i--){this.el.style.setProperty(prefixes[i]+prop,value,isImportant)}}}else{this.el.style.cssText=value}}}},{}],137:[function(require,module,exports){module.exports={bind:function(){var el=this.raw=this.el,parent=el.parentNode,ref=this.ref=document.createComment("v-view");parent.insertBefore(ref,el);parent.removeChild(el);var node,frag=this.inner=document.createElement("div");while(node=el.firstChild){frag.appendChild(node)}},update:function(value){this.unbind();var Ctor=this.compiler.getOption("components",value);if(!Ctor)return;this.childVM=new Ctor({el:this.raw.cloneNode(true),parent:this.vm,compilerOptions:{rawContent:this.inner.cloneNode(true)}});this.el=this.childVM.$el;if(this.compiler.init){this.ref.parentNode.insertBefore(this.el,this.ref)}else{this.childVM.$before(this.ref)}},unbind:function(){if(this.childVM){this.childVM.$destroy()}}}},{}],138:[function(require,module,exports){var utils=require("../utils");module.exports={bind:function(){var self=this,childKey=self.arg,parentKey=self.key,compiler=self.compiler,owner=self.binding.compiler;if(compiler===owner){this.alone=true;return}if(childKey){if(!compiler.bindings[childKey]){compiler.createBinding(childKey)}compiler.observer.on("change:"+childKey,function(val){if(compiler.init)return;if(!self.lock){self.lock=true;utils.nextTick(function(){self.lock=false})}owner.vm.$set(parentKey,val)})}},update:function(value){if(!this.alone&&!this.lock){if(this.arg){this.vm.$set(this.arg,value)}else if(this.vm.$data!==value){this.vm.$data=value}}}}},{"../utils":148}],139:[function(require,module,exports){var slice=[].slice;function Emitter(ctx){this._ctx=ctx||this}var EmitterProto=Emitter.prototype;EmitterProto.on=function(event,fn){this._cbs=this._cbs||{};(this._cbs[event]=this._cbs[event]||[]).push(fn);return this};EmitterProto.once=function(event,fn){var self=this;this._cbs=this._cbs||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};EmitterProto.off=function(event,fn){this._cbs=this._cbs||{};if(!arguments.length){this._cbs={};return this}var callbacks=this._cbs[event];if(!callbacks)return this;if(arguments.length===1){delete this._cbs[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};EmitterProto.emit=function(event,a,b,c){this._cbs=this._cbs||{};var callbacks=this._cbs[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;i++){callbacks[i].call(this._ctx,a,b,c)}}return this};EmitterProto.applyEmit=function(event){this._cbs=this._cbs||{};var callbacks=this._cbs[event],args;if(callbacks){callbacks=callbacks.slice(0);args=slice.call(arguments,1);for(var i=0,len=callbacks.length;i<len;i++){callbacks[i].apply(this._ctx,args)}}return this};module.exports=Emitter},{}],140:[function(require,module,exports){var utils=require("./utils"),STR_SAVE_RE=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/g,STR_RESTORE_RE=/"(\d+)"/g,NEWLINE_RE=/\n/g,CTOR_RE=new RegExp("constructor".split("").join("['\"+, ]*")),UNICODE_RE=/\\u\d\d\d\d/;var KEYWORDS="break,case,catch,continue,debugger,default,delete,do,else,false"+",finally,for,function,if,in,instanceof,new,null,return,switch,this"+",throw,true,try,typeof,var,void,while,with,undefined"+",abstract,boolean,byte,char,class,const,double,enum,export,extends"+",final,float,goto,implements,import,int,interface,long,native"+",package,private,protected,public,short,static,super,synchronized"+",throws,transient,volatile"+",arguments,let,yield"+",Math",KEYWORDS_RE=new RegExp(["\\b"+KEYWORDS.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),REMOVE_RE=/\/\*(?:.|\n)*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|'[^']*'|"[^"]*"|[\s\t\n]*\.[\s\t\n]*[$\w\.]+|[\{,]\s*[\w\$_]+\s*:/g,SPLIT_RE=/[^\w$]+/g,NUMBER_RE=/\b\d[^,]*/g,BOUNDARY_RE=/^,+|,+$/g;function getVariables(code){code=code.replace(REMOVE_RE,"").replace(SPLIT_RE,",").replace(KEYWORDS_RE,"").replace(NUMBER_RE,"").replace(BOUNDARY_RE,"");return code?code.split(/,+/):[]}function traceScope(path,compiler,data){var rel="",dist=0,self=compiler;if(data&&utils.get(data,path)!==undefined){return"$temp."}while(compiler){if(compiler.hasKey(path)){break}else{compiler=compiler.parent;dist++}}if(compiler){while(dist--){rel+="$parent."}if(!compiler.bindings[path]&&path.charAt(0)!=="$"){compiler.createBinding(path)}}else{self.createBinding(path)}return rel}function makeGetter(exp,raw){var fn;try{fn=new Function(exp)}catch(e){utils.warn("Error parsing expression: "+raw)}return fn}function escapeDollar(v){return v.charAt(0)==="$"?"\\"+v:v}exports.parse=function(exp,compiler,data){if(UNICODE_RE.test(exp)||CTOR_RE.test(exp)){utils.warn("Unsafe expression: "+exp);return}var vars=getVariables(exp);if(!vars.length){return makeGetter("return "+exp,exp)}vars=utils.unique(vars);var accessors="",has=utils.hash(),strings=[],pathRE=new RegExp("[^$\\w\\.]("+vars.map(escapeDollar).join("|")+")[$\\w\\.]*\\b","g"),body=(" "+exp).replace(STR_SAVE_RE,saveStrings).replace(pathRE,replacePath).replace(STR_RESTORE_RE,restoreStrings);body=accessors+"return "+body;function saveStrings(str){var i=strings.length;strings[i]=str.replace(NEWLINE_RE,"\\n");return'"'+i+'"'}function replacePath(path){var c=path.charAt(0);path=path.slice(1);var val="this."+traceScope(path,compiler,data)+path;if(!has[path]){accessors+=val+";";has[path]=1}return c+val}function restoreStrings(str,i){return strings[i]}return makeGetter(body,exp)};exports.eval=function(exp,compiler,data){var getter=exports.parse(exp,compiler,data),res;if(getter){compiler.vm.$temp=data;res=getter.call(compiler.vm);delete compiler.vm.$temp}return res}},{"./utils":148}],141:[function(require,module,exports){var utils=require("./utils"),get=utils.get,slice=[].slice,QUOTE_RE=/^'.*'$/,filters=module.exports=utils.hash();filters.capitalize=function(value){if(!value&&value!==0)return"";value=value.toString();return value.charAt(0).toUpperCase()+value.slice(1)};filters.uppercase=function(value){return value||value===0?value.toString().toUpperCase():""};filters.lowercase=function(value){return value||value===0?value.toString().toLowerCase():""};filters.currency=function(value,sign){value=parseFloat(value);if(!value&&value!==0)return"";sign=sign||"$";var s=Math.floor(value).toString(),i=s.length%3,h=i>0?s.slice(0,i)+(s.length>3?",":""):"",f="."+value.toFixed(2).slice(-2);return sign+h+s.slice(i).replace(/(\d{3})(?=\d)/g,"$1,")+f};filters.pluralize=function(value){var args=slice.call(arguments,1);return args.length>1?args[value-1]||args[args.length-1]:args[value-1]||args[0]+"s"};var keyCodes={enter:13,tab:9,delete:46,up:38,left:37,right:39,down:40,esc:27};filters.key=function(handler,key){if(!handler)return;var code=keyCodes[key];if(!code){code=parseInt(key,10)}return function(e){if(e.keyCode===code){return handler.call(this,e)}}};filters.filterBy=function(arr,searchKey,delimiter,dataKey){if(delimiter&&delimiter!=="in"){dataKey=delimiter}var search=stripQuotes(searchKey)||this.$get(searchKey);if(!search)return arr;search=search.toLowerCase();dataKey=dataKey&&(stripQuotes(dataKey)||this.$get(dataKey));if(!Array.isArray(arr)){arr=utils.objectToArray(arr)}return arr.filter(function(item){return dataKey?contains(get(item,dataKey),search):contains(item,search)})};filters.filterBy.computed=true;filters.orderBy=function(arr,sortKey,reverseKey){var key=stripQuotes(sortKey)||this.$get(sortKey);if(!key)return arr;if(!Array.isArray(arr)){arr=utils.objectToArray(arr)}var order=1;if(reverseKey){if(reverseKey==="-1"){order=-1}else if(reverseKey.charAt(0)==="!"){reverseKey=reverseKey.slice(1);order=this.$get(reverseKey)?1:-1}else{order=this.$get(reverseKey)?-1:1}}return arr.slice().sort(function(a,b){a=get(a,key);b=get(b,key);return a===b?0:a>b?order:-order})};filters.orderBy.computed=true;function contains(val,search){if(utils.isObject(val)){for(var key in val){if(contains(val[key],search)){return true}}}else if(val!=null){return val.toString().toLowerCase().indexOf(search)>-1}}function stripQuotes(str){if(QUOTE_RE.test(str)){return str.slice(1,-1)}}},{"./utils":148}],142:[function(require,module,exports){var map={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};map.td=map.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];map.option=map.optgroup=[1,'<select multiple="multiple">',"</select>"];map.thead=map.tbody=map.colgroup=map.caption=map.tfoot=[1,"<table>","</table>"];map.text=map.circle=map.ellipse=map.line=map.path=map.polygon=map.polyline=map.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var TAG_RE=/<([\w:]+)/;module.exports=function(templateString){var frag=document.createDocumentFragment(),m=TAG_RE.exec(templateString);if(!m){frag.appendChild(document.createTextNode(templateString));return frag}var tag=m[1],wrap=map[tag]||map._default,depth=wrap[0],prefix=wrap[1],suffix=wrap[2],node=document.createElement("div");node.innerHTML=prefix+templateString.trim()+suffix;while(depth--)node=node.lastChild;if(node.firstChild===node.lastChild){frag.appendChild(node.firstChild);return frag}var child;while(child=node.firstChild){if(node.nodeType===1){frag.appendChild(child)}}return frag}},{}],143:[function(require,module,exports){var config=require("./config"),ViewModel=require("./viewmodel"),utils=require("./utils"),makeHash=utils.hash,assetTypes=["directive","filter","partial","effect","component"],pluginAPI={utils:utils,config:config,transition:require("./transition"),observer:require("./observer")};ViewModel.options=config.globalAssets={directives:require("./directives"),filters:require("./filters"),partials:makeHash(),effects:makeHash(),components:makeHash()};assetTypes.forEach(function(type){ViewModel[type]=function(id,value){var hash=this.options[type+"s"];if(!hash){hash=this.options[type+"s"]=makeHash()}if(!value)return hash[id];if(type==="partial"){value=utils.parseTemplateOption(value)}else if(type==="component"){value=utils.toConstructor(value)}else if(type==="filter"){utils.checkFilter(value)}hash[id]=value;return this}});ViewModel.config=function(opts,val){if(typeof opts==="string"){if(val===undefined){return config[opts]}else{config[opts]=val}}else{utils.extend(config,opts)}return this};ViewModel.use=function(plugin){if(typeof plugin==="string"){try{plugin=require(plugin)}catch(e){utils.warn("Cannot find plugin: "+plugin);return}}var args=[].slice.call(arguments,1);args.unshift(this);if(typeof plugin.install==="function"){plugin.install.apply(plugin,args)}else{plugin.apply(null,args)}return this};ViewModel.require=function(module){return pluginAPI[module]};ViewModel.extend=extend;ViewModel.nextTick=utils.nextTick;function extend(options){var ParentVM=this;if(options.data){options.defaultData=options.data;delete options.data}if(ParentVM!==ViewModel){options=inheritOptions(options,ParentVM.options,true)}utils.processOptions(options);var ExtendedVM=function(opts,asParent){if(!asParent){opts=inheritOptions(opts,options,true)}ParentVM.call(this,opts,true)};var proto=ExtendedVM.prototype=Object.create(ParentVM.prototype);utils.defProtected(proto,"constructor",ExtendedVM);ExtendedVM.extend=extend;ExtendedVM.super=ParentVM;ExtendedVM.options=options;assetTypes.forEach(function(type){ExtendedVM[type]=ViewModel[type]});ExtendedVM.use=ViewModel.use;ExtendedVM.require=ViewModel.require;return ExtendedVM}function inheritOptions(child,parent,topLevel){child=child||{};if(!parent)return child;for(var key in parent){if(key==="el")continue;var val=child[key],parentVal=parent[key];if(topLevel&&typeof val==="function"&&parentVal){child[key]=[val];if(Array.isArray(parentVal)){child[key]=child[key].concat(parentVal)}else{child[key].push(parentVal)}}else if(topLevel&&(utils.isTrueObject(val)||utils.isTrueObject(parentVal))&&!(parentVal instanceof ViewModel)){child[key]=inheritOptions(val,parentVal)}else if(val===undefined){child[key]=parentVal}}return child}module.exports=ViewModel},{"./config":126,"./directives":131,"./filters":141,"./observer":144,"./transition":147,"./utils":148,"./viewmodel":149}],144:[function(require,module,exports){var Emitter=require("./emitter"),utils=require("./utils"),def=utils.defProtected,isObject=utils.isObject,isArray=Array.isArray,hasOwn={}.hasOwnProperty,oDef=Object.defineProperty,slice=[].slice,hasProto={}.__proto__;var ArrayProxy=Object.create(Array.prototype);["push","pop","shift","unshift","splice","sort","reverse"].forEach(watchMutation);def(ArrayProxy,"$set",function(index,data){return this.splice(index,1,data)[0]},!hasProto);def(ArrayProxy,"$remove",function(index){if(typeof index!=="number"){index=this.indexOf(index)}if(index>-1){return this.splice(index,1)[0]}},!hasProto);function watchMutation(method){def(ArrayProxy,method,function(){var args=slice.call(arguments),result=Array.prototype[method].apply(this,args),inserted,removed;if(method==="push"||method==="unshift"){inserted=args}else if(method==="pop"||method==="shift"){removed=[result]}else if(method==="splice"){inserted=args.slice(2);removed=result}linkArrayElements(this,inserted);unlinkArrayElements(this,removed);this.__emitter__.emit("mutate","",this,{method:method,args:args,result:result,inserted:inserted,removed:removed});return result},!hasProto)}function linkArrayElements(arr,items){if(items){var i=items.length,item,owners;while(i--){item=items[i];if(isWatchable(item)){if(!item.__emitter__){convert(item);watch(item)}owners=item.__emitter__.owners;if(owners.indexOf(arr)<0){owners.push(arr)}}}}}function unlinkArrayElements(arr,items){if(items){var i=items.length,item;while(i--){item=items[i];if(item&&item.__emitter__){var owners=item.__emitter__.owners;if(owners)owners.splice(owners.indexOf(arr))}}}}var ObjProxy=Object.create(Object.prototype);def(ObjProxy,"$add",function(key,val){if(hasOwn.call(this,key))return;this[key]=val;convertKey(this,key,true)},!hasProto);def(ObjProxy,"$delete",function(key){if(!hasOwn.call(this,key))return;this[key]=undefined;delete this[key];this.__emitter__.emit("delete",key)},!hasProto);function isWatchable(obj){return typeof obj==="object"&&obj&&!obj.$compiler}function convert(obj){if(obj.__emitter__)return true;var emitter=new Emitter;def(obj,"__emitter__",emitter);emitter.on("set",function(key,val,propagate){if(propagate)propagateChange(obj)}).on("mutate",function(){propagateChange(obj)});emitter.values=utils.hash();emitter.owners=[];return false}function propagateChange(obj){var owners=obj.__emitter__.owners,i=owners.length;while(i--){owners[i].__emitter__.emit("set","","",true)}}function watch(obj){if(isArray(obj)){watchArray(obj)}else{watchObject(obj)}}function augment(target,src){if(hasProto){target.__proto__=src}else{for(var key in src){def(target,key,src[key])}}}function watchObject(obj){augment(obj,ObjProxy);for(var key in obj){convertKey(obj,key)}}function watchArray(arr){augment(arr,ArrayProxy);linkArrayElements(arr,arr)}function convertKey(obj,key,propagate){var keyPrefix=key.charAt(0);if(keyPrefix==="$"||keyPrefix==="_"){return}var emitter=obj.__emitter__,values=emitter.values;init(obj[key],propagate);oDef(obj,key,{enumerable:true,configurable:true,get:function(){var value=values[key];if(pub.shouldGet){emitter.emit("get",key)}return value},set:function(newVal){var oldVal=values[key];unobserve(oldVal,key,emitter);copyPaths(newVal,oldVal);init(newVal,true)}});function init(val,propagate){values[key]=val;emitter.emit("set",key,val,propagate);if(isArray(val)){emitter.emit("set",key+".length",val.length,propagate)}observe(val,key,emitter)}}function emitSet(obj){var emitter=obj&&obj.__emitter__;if(!emitter)return;if(isArray(obj)){emitter.emit("set","length",obj.length)}else{var key,val;for(key in obj){val=obj[key];emitter.emit("set",key,val);emitSet(val)}}}function copyPaths(newObj,oldObj){if(!isObject(newObj)||!isObject(oldObj)){return}var path,oldVal,newVal;for(path in oldObj){if(!hasOwn.call(newObj,path)){oldVal=oldObj[path];if(isArray(oldVal)){newObj[path]=[]}else if(isObject(oldVal)){newVal=newObj[path]={};copyPaths(newVal,oldVal)}else{newObj[path]=undefined}}}}function ensurePath(obj,key){var path=key.split("."),sec;for(var i=0,d=path.length-1;i<d;i++){sec=path[i];if(!obj[sec]){obj[sec]={};if(obj.__emitter__)convertKey(obj,sec)}obj=obj[sec]}if(isObject(obj)){sec=path[i];if(!hasOwn.call(obj,sec)){obj[sec]=undefined;if(obj.__emitter__)convertKey(obj,sec)}}}function observe(obj,rawPath,observer){if(!isWatchable(obj))return;var path=rawPath?rawPath+".":"",alreadyConverted=convert(obj),emitter=obj.__emitter__;observer.proxies=observer.proxies||{};var proxies=observer.proxies[path]={get:function(key){observer.emit("get",path+key)},set:function(key,val,propagate){if(key)observer.emit("set",path+key,val);if(rawPath&&propagate){observer.emit("set",rawPath,obj,true)}},mutate:function(key,val,mutation){var fixedPath=key?path+key:rawPath;observer.emit("mutate",fixedPath,val,mutation);var m=mutation.method;if(m!=="sort"&&m!=="reverse"){observer.emit("set",fixedPath+".length",val.length)}}};emitter.on("get",proxies.get).on("set",proxies.set).on("mutate",proxies.mutate);if(alreadyConverted){emitSet(obj)}else{watch(obj)}}function unobserve(obj,path,observer){if(!obj||!obj.__emitter__)return;path=path?path+".":"";var proxies=observer.proxies[path];if(!proxies)return;obj.__emitter__.off("get",proxies.get).off("set",proxies.set).off("mutate",proxies.mutate);observer.proxies[path]=null}var pub=module.exports={shouldGet:false,observe:observe,unobserve:unobserve,ensurePath:ensurePath,copyPaths:copyPaths,watch:watch,convert:convert,convertKey:convertKey}},{"./emitter":139,"./utils":148}],145:[function(require,module,exports){var toFragment=require("./fragment");module.exports=function(template){var templateNode;if(template instanceof window.DocumentFragment){return template}if(typeof template==="string"){if(template.charAt(0)==="#"){templateNode=document.getElementById(template.slice(1));if(!templateNode)return}else{return toFragment(template)}}else if(template.nodeType){templateNode=template}else{return}if(templateNode.tagName==="TEMPLATE"&&templateNode.content){return templateNode.content}if(templateNode.tagName==="SCRIPT"){return toFragment(templateNode.innerHTML)}return toFragment(templateNode.outerHTML)}},{"./fragment":142}],146:[function(require,module,exports){var openChar="{",endChar="}",ESCAPE_RE=/[-.*+?^${}()|[\]\/\\]/g,Directive;exports.Regex=buildInterpolationRegex();function buildInterpolationRegex(){var open=escapeRegex(openChar),end=escapeRegex(endChar);return new RegExp(open+open+open+"?(.+?)"+end+"?"+end+end)}function escapeRegex(str){return str.replace(ESCAPE_RE,"\\$&")}function setDelimiters(delimiters){openChar=delimiters[0];endChar=delimiters[1];exports.delimiters=delimiters;exports.Regex=buildInterpolationRegex()}function parse(text){if(!exports.Regex.test(text))return null;var m,i,token,match,tokens=[];while(m=text.match(exports.Regex)){i=m.index;if(i>0)tokens.push(text.slice(0,i));token={key:m[1].trim()};match=m[0];token.html=match.charAt(2)===openChar&&match.charAt(match.length-3)===endChar;tokens.push(token);text=text.slice(i+m[0].length)}if(text.length)tokens.push(text);return tokens}function parseAttr(attr){Directive=Directive||require("./directive");var tokens=parse(attr);if(!tokens)return null;if(tokens.length===1)return tokens[0].key;var res=[],token;for(var i=0,l=tokens.length;i<l;i++){token=tokens[i];res.push(token.key?inlineFilters(token.key):'"'+token+'"')}return res.join("+")}function inlineFilters(key){if(key.indexOf("|")>-1){var dirs=Directive.parse(key),dir=dirs&&dirs[0];if(dir&&dir.filters){key=Directive.inlineFilters(dir.key,dir.filters)}}return"("+key+")"}exports.parse=parse;exports.parseAttr=parseAttr;exports.setDelimiters=setDelimiters;exports.delimiters=[openChar,endChar]},{"./directive":128}],147:[function(require,module,exports){var endEvents=sniffEndEvents(),config=require("./config"),Batcher=require("./batcher"),batcher=new Batcher,setTO=window.setTimeout,clearTO=window.clearTimeout,codes={CSS_E:1,CSS_L:2,JS_E:3,JS_L:4,CSS_SKIP:-1,JS_SKIP:-2,JS_SKIP_E:-3,JS_SKIP_L:-4,INIT:-5,SKIP:-6};batcher._preFlush=function(){var f=document.body.offsetHeight};var transition=module.exports=function(el,stage,cb,compiler){var changeState=function(){cb();compiler.execHook(stage>0?"attached":"detached")};if(compiler.init){changeState();return codes.INIT}var hasTransition=el.vue_trans==="",hasAnimation=el.vue_anim==="",effectId=el.vue_effect;if(effectId){return applyTransitionFunctions(el,stage,changeState,effectId,compiler)}else if(hasTransition||hasAnimation){return applyTransitionClass(el,stage,changeState,hasAnimation)}else{changeState();return codes.SKIP}};function applyTransitionClass(el,stage,changeState,hasAnimation){if(!endEvents.trans){changeState();return codes.CSS_SKIP}var onEnd,classList=el.classList,existingCallback=el.vue_trans_cb,enterClass=config.enterClass,leaveClass=config.leaveClass,endEvent=hasAnimation?endEvents.anim:endEvents.trans;if(existingCallback){el.removeEventListener(endEvent,existingCallback);classList.remove(enterClass);classList.remove(leaveClass);el.vue_trans_cb=null}if(stage>0){classList.add(enterClass);changeState();if(!hasAnimation){batcher.push({execute:function(){classList.remove(enterClass)}})}else{onEnd=function(e){if(e.target===el){el.removeEventListener(endEvent,onEnd);el.vue_trans_cb=null;classList.remove(enterClass)}};el.addEventListener(endEvent,onEnd);el.vue_trans_cb=onEnd}return codes.CSS_E}else{if(el.offsetWidth||el.offsetHeight){classList.add(leaveClass);onEnd=function(e){if(e.target===el){el.removeEventListener(endEvent,onEnd);el.vue_trans_cb=null;changeState();classList.remove(leaveClass)}};el.addEventListener(endEvent,onEnd);el.vue_trans_cb=onEnd}else{changeState()}return codes.CSS_L}}function applyTransitionFunctions(el,stage,changeState,effectId,compiler){var funcs=compiler.getOption("effects",effectId);if(!funcs){changeState();return codes.JS_SKIP}var enter=funcs.enter,leave=funcs.leave,timeouts=el.vue_timeouts;if(timeouts){var i=timeouts.length;while(i--){clearTO(timeouts[i])}}timeouts=el.vue_timeouts=[];function timeout(cb,delay){var id=setTO(function(){cb();timeouts.splice(timeouts.indexOf(id),1);if(!timeouts.length){el.vue_timeouts=null}},delay);timeouts.push(id)}if(stage>0){if(typeof enter!=="function"){changeState();return codes.JS_SKIP_E}enter(el,changeState,timeout);return codes.JS_E}else{if(typeof leave!=="function"){changeState();return codes.JS_SKIP_L}leave(el,changeState,timeout);return codes.JS_L}}function sniffEndEvents(){var el=document.createElement("vue"),defaultEvent="transitionend",events={webkitTransition:"webkitTransitionEnd",transition:defaultEvent,mozTransition:defaultEvent},ret={};for(var name in events){if(el.style[name]!==undefined){ret.trans=events[name];break}}ret.anim=el.style.animation===""?"animationend":"webkitAnimationEnd";return ret}transition.codes=codes;transition.sniff=sniffEndEvents},{"./batcher":123,"./config":126}],148:[function(require,module,exports){var config=require("./config"),toString={}.toString,win=window,console=win.console,def=Object.defineProperty,OBJECT="object",THIS_RE=/[^\w]this[^\w]/,BRACKET_RE_S=/\['([^']+)'\]/g,BRACKET_RE_D=/\["([^"]+)"\]/g,hasClassList="classList"in document.documentElement,ViewModel;var defer=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.setTimeout;function normalizeKeypath(key){return key.indexOf("[")<0?key:key.replace(BRACKET_RE_S,".$1").replace(BRACKET_RE_D,".$1")}var utils=module.exports={toFragment:require("./fragment"),parseTemplateOption:require("./template-parser.js"),get:function(obj,key){key=normalizeKeypath(key);if(key.indexOf(".")<0){return obj[key]}var path=key.split("."),d=-1,l=path.length;while(++d<l&&obj!=null){obj=obj[path[d]]}return obj},set:function(obj,key,val){key=normalizeKeypath(key);if(key.indexOf(".")<0){obj[key]=val;return}var path=key.split("."),d=-1,l=path.length-1;while(++d<l){if(obj[path[d]]==null){obj[path[d]]={}}obj=obj[path[d]]}obj[path[d]]=val},baseKey:function(key){return key.indexOf(".")>0?key.split(".")[0]:key},hash:function(){return Object.create(null)},attr:function(el,type){var attr=config.prefix+"-"+type,val=el.getAttribute(attr);if(val!==null){el.removeAttribute(attr)}return val},defProtected:function(obj,key,val,enumerable,writable){def(obj,key,{value:val,enumerable:enumerable,writable:writable,configurable:true})},isObject:function(obj){return typeof obj===OBJECT&&obj&&!Array.isArray(obj)},isTrueObject:function(obj){return toString.call(obj)==="[object Object]"},bind:function(fn,ctx){return function(arg){return fn.call(ctx,arg)}},guard:function(value){return value==null?"":typeof value=="object"?JSON.stringify(value):value},checkNumber:function(value){return isNaN(value)||value===null||typeof value==="boolean"?value:Number(value)},extend:function(obj,ext){for(var key in ext){if(obj[key]!==ext[key]){obj[key]=ext[key]}}return obj},unique:function(arr){var hash=utils.hash(),i=arr.length,key,res=[];while(i--){key=arr[i];if(hash[key])continue;hash[key]=1;res.push(key)}return res},toConstructor:function(obj){ViewModel=ViewModel||require("./viewmodel");return utils.isObject(obj)?ViewModel.extend(obj):typeof obj==="function"?obj:null},checkFilter:function(filter){if(THIS_RE.test(filter.toString())){filter.computed=true}},processOptions:function(options){var components=options.components,partials=options.partials,template=options.template,filters=options.filters,key;if(components){for(key in components){components[key]=utils.toConstructor(components[key])}}if(partials){for(key in partials){partials[key]=utils.parseTemplateOption(partials[key])}}if(filters){for(key in filters){utils.checkFilter(filters[key])}}if(template){options.template=utils.parseTemplateOption(template)}},nextTick:function(cb){defer(cb,0)},addClass:function(el,cls){if(hasClassList){el.classList.add(cls)}else{var cur=" "+el.className+" ";if(cur.indexOf(" "+cls+" ")<0){el.className=(cur+cls).trim()}}},removeClass:function(el,cls){if(hasClassList){el.classList.remove(cls)}else{var cur=" "+el.className+" ",tar=" "+cls+" ";while(cur.indexOf(tar)>=0){cur=cur.replace(tar," ")}el.className=cur.trim()}},objectToArray:function(obj){var res=[],val,data;for(var key in obj){val=obj[key];data=utils.isObject(val)?val:{$value:val};data.$key=key;res.push(data)}return res}};enableDebug();function enableDebug(){utils.log=function(msg){if(config.debug&&console){console.log(msg)}};utils.warn=function(msg){if(!config.silent&&console){console.warn(msg);if(config.debug&&console.trace){console.trace()}}}}},{"./config":126,"./fragment":142,"./template-parser.js":145,"./viewmodel":149}],149:[function(require,module,exports){var Compiler=require("./compiler"),utils=require("./utils"),transition=require("./transition"),Batcher=require("./batcher"),slice=[].slice,def=utils.defProtected,nextTick=utils.nextTick,watcherBatcher=new Batcher,watcherId=1;function ViewModel(options){if(options===false)return;new Compiler(this,options)}var VMProto=ViewModel.prototype;def(VMProto,"$init",function(options){new Compiler(this,options)});def(VMProto,"$get",function(key){var val=utils.get(this,key);return val===undefined&&this.$parent?this.$parent.$get(key):val});def(VMProto,"$set",function(key,value){utils.set(this,key,value)});def(VMProto,"$watch",function(key,callback){var id=watcherId++,self=this;function on(){var args=slice.call(arguments);watcherBatcher.push({id:id,override:true,execute:function(){callback.apply(self,args)}})}callback._fn=on;self.$compiler.observer.on("change:"+key,on)});def(VMProto,"$unwatch",function(key,callback){var args=["change:"+key],ob=this.$compiler.observer;if(callback)args.push(callback._fn);ob.off.apply(ob,args)});def(VMProto,"$destroy",function(noRemove){this.$compiler.destroy(noRemove)});def(VMProto,"$broadcast",function(){var children=this.$compiler.children,i=children.length,child;while(i--){child=children[i];child.emitter.applyEmit.apply(child.emitter,arguments);child.vm.$broadcast.apply(child.vm,arguments)}});def(VMProto,"$dispatch",function(){var compiler=this.$compiler,emitter=compiler.emitter,parent=compiler.parent;emitter.applyEmit.apply(emitter,arguments);if(parent){parent.vm.$dispatch.apply(parent.vm,arguments)}});["emit","on","off","once"].forEach(function(method){var realMethod=method==="emit"?"applyEmit":method;def(VMProto,"$"+method,function(){var emitter=this.$compiler.emitter;emitter[realMethod].apply(emitter,arguments)})});def(VMProto,"$appendTo",function(target,cb){target=query(target);var el=this.$el;transition(el,1,function(){target.appendChild(el);if(cb)nextTick(cb)},this.$compiler)});def(VMProto,"$remove",function(cb){var el=this.$el;transition(el,-1,function(){if(el.parentNode){el.parentNode.removeChild(el)}if(cb)nextTick(cb)},this.$compiler)});def(VMProto,"$before",function(target,cb){target=query(target);var el=this.$el;transition(el,1,function(){target.parentNode.insertBefore(el,target);if(cb)nextTick(cb)},this.$compiler)});def(VMProto,"$after",function(target,cb){target=query(target);var el=this.$el;transition(el,1,function(){if(target.nextSibling){target.parentNode.insertBefore(el,target.nextSibling)}else{target.parentNode.appendChild(el)}if(cb)nextTick(cb)},this.$compiler)});function query(el){return typeof el==="string"?document.querySelector(el):el}module.exports=ViewModel},{"./batcher":123,"./compiler":125,"./transition":147,"./utils":148}]},{},[3]);
